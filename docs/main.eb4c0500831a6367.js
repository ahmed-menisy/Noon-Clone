"use strict";(self.webpackChunknoon=self.webpackChunknoon||[]).push([[179],{2011:(Et,Ue,Z)=>{Z.d(Ue,{Dh:()=>Ce,GT:()=>be,cc:()=>$e,hO:()=>Qe,on:()=>Y,pX:()=>fe,xv:()=>Ie});var i=Z(4650),le=Z(127),V=Z(5813);Et=Z.hmd(Et);const me=["ngOnDestroy"],fe=(Ee,pt,wt,Be={})=>new Proxy(Ee,{get:(Me,ke)=>wt.runOutsideAngular(()=>{var Xe;if(Ee[ke])return!(null===(Xe=Be?.spy)||void 0===Xe)&&Xe.get&&Be.spy.get(ke,Ee[ke]),Ee[ke];if(me.indexOf(ke)>-1)return()=>{};const et=pt.toPromise().then(z=>{const Ae=z&&z[ke];return"function"==typeof Ae?Ae.bind(z):Ae&&Ae.then?Ae.then(re=>wt.run(()=>re)):wt.run(()=>Ae)});return new Proxy(()=>{},{get:(z,Ae)=>et[Ae],apply:(z,Ae,re)=>et.then(ae=>{var pe;const ce=ae&&ae(...re);return!(null===(pe=Be?.spy)||void 0===pe)&&pe.apply&&Be.spy.apply(ke,re,ce),ce})})})}),be=(Ee,pt)=>{pt.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Be=>{Object.defineProperty(Ee.prototype,Be,Object.getOwnPropertyDescriptor(wt.prototype||wt,Be))})})};class _e{constructor(pt){return pt}}const Ce=new i.OlP("angularfire2.app.options"),Ie=new i.OlP("angularfire2.app.name");function Y(Ee,pt,wt){const Me="object"==typeof wt&&wt||{};Me.name=Me.name||"string"==typeof wt&&wt||"[DEFAULT]";const Xe=le.Z.apps.filter(et=>et&&et.name===Me.name)[0]||pt.runOutsideAngular(()=>le.Z.initializeApp(Ee,Me));try{JSON.stringify(Ee)!==JSON.stringify(Xe.options)&&K("error",`${Xe.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Xe)}const K=(Ee,...pt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[Ee](...pt)},se={provide:_e,useFactory:Y,deps:[Ce,i.R0b,[new i.FiY,Ie]]};let Qe=(()=>{class Ee{constructor(wt){le.Z.registerVersion("angularfire",V.q4.full,"core"),le.Z.registerVersion("angularfire",V.q4.full,"app-compat"),le.Z.registerVersion("angular",i.q4F.full,wt.toString())}static initializeApp(wt,Be){return{ngModule:Ee,providers:[{provide:Ce,useValue:wt},{provide:Ie,useValue:Be}]}}}return Ee.\u0275fac=function(wt){return new(wt||Ee)(i.LFG(i.Lbi))},Ee.\u0275mod=i.oAB({type:Ee}),Ee.\u0275inj=i.cJS({providers:[se]}),Ee})();function $e(Ee,pt,wt,Be,Me){const[,ke,Xe]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===Ee)||[];if(ke)return function Pe(Ee,pt){try{return Ee.toString()===pt.toString()}catch{return Ee===pt}}(Me,Xe)||(De("error",`${pt} was already initialized on the ${wt} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Me,was:Xe})),ke;{const et=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ee,et,Me]),et}}const yt=!!Et.hot,De=(Ee,...pt)=>{(0,i.X6Q)()&&typeof console<"u"&&console[Ee](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Et,Ue,Z)=>{Z.d(Ue,{q4:()=>so,iC:()=>In,HU:()=>rh,vb:()=>Ds,JM:()=>Cu});var i=Z(4650),le=Z(5867),V=Z(5861),me=Z(9681),fe=Z(2090),be=Z(4859),_e=Z(1877),Ce=Z(8766);const Ie="@firebase/installations",Y="0.5.12",se=`w:${Y}`,Qe="FIS_v2",pt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(D){return D instanceof fe.ZR&&D.code.includes("request-failed")}function Be({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Me(D){return{token:D.token,requestStatus:2,expiresIn:ae(D.expiresIn),creationTime:Date.now()}}function ke(D,S){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,V.Z)(function*(D,S){const H=(yield S.json()).error;return pt.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function et({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function z(D,{refreshToken:S}){const k=et(D);return k.append("Authorization",function pe(D){return`${Qe} ${D}`}(S)),k}function Ae(D){return re.apply(this,arguments)}function re(){return(re=(0,V.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function ae(D){return Number(D.replace("s","000"))}function ce(D,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,V.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:k}){const H=Be(D),ie=et(D),he=S.getImmediate({optional:!0});if(he){const Ft=yield he.getHeartbeatsHeader();Ft&&ie.append("x-firebase-client",Ft)}const tt={method:"POST",headers:ie,body:JSON.stringify({fid:k,authVersion:Qe,appId:D.appId,sdkVersion:se})},Dt=yield Ae(()=>fetch(H,tt));if(Dt.ok){const Ft=yield Dt.json();return{fid:Ft.fid||k,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:Me(Ft.authToken)}}throw yield ke("Create Installation",Dt)})).apply(this,arguments)}function Ge(D){return new Promise(S=>{setTimeout(S,D)})}const an=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function bn(D){return function At(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return an.test(k)?k:""}catch{return""}}function Yn(D){return`${D.appName}!${D.appId}`}const dn=new Map;function hn(D,S){const k=Yn(D);Cn(k,S),function oa(D,S){const k=function jr(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=D=>{Cn(D.data.key,D.data.fid)}),Ii}();k&&k.postMessage({key:D,fid:S}),function ri(){0===dn.size&&Ii&&(Ii.close(),Ii=null)}()}(k,S)}function Cn(D,S){const k=dn.get(D);if(k)for(const H of k)H(S)}let Ii=null;const Ai="firebase-installations-store";let Qi=null;function Pt(){return Qi||(Qi=(0,Ce.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Ai)}})),Qi}function Dn(D,S){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,V.Z)(function*(D,S){const k=Yn(D),ie=(yield Pt()).transaction(Ai,"readwrite"),he=ie.objectStore(Ai),Fe=yield he.get(k);return yield he.put(S,k),yield ie.done,(!Fe||Fe.fid!==S.fid)&&hn(D,S.fid),S})).apply(this,arguments)}function Kn(D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,V.Z)(function*(D){const S=Yn(D),H=(yield Pt()).transaction(Ai,"readwrite");yield H.objectStore(Ai).delete(S),yield H.done})).apply(this,arguments)}function fs(D,S){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,V.Z)(function*(D,S){const k=Yn(D),ie=(yield Pt()).transaction(Ai,"readwrite"),he=ie.objectStore(Ai),Fe=yield he.get(k),tt=S(Fe);return void 0===tt?yield he.delete(k):yield he.put(tt,k),yield ie.done,tt&&(!Fe||Fe.fid!==tt.fid)&&hn(D,tt.fid),tt})).apply(this,arguments)}function Pn(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,V.Z)(function*(D){let S;const k=yield fs(D.appConfig,H=>{const ie=xn(H),he=_t(D,ie);return S=he.registrationPromise,he.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function xn(D){return or(D||{fid:ot(),registrationStatus:0})}function _t(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(pt.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},H=function ct(D,S){return aa.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:H}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ir(D)}:{installationEntry:S}}function aa(){return(aa=(0,V.Z)(function*(D,S){try{const k=yield ce(D,S);return Dn(D.appConfig,k)}catch(k){throw wt(k)&&409===k.customData.serverCode?yield Kn(D.appConfig):yield Dn(D.appConfig,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ir(D){return On.apply(this,arguments)}function On(){return(On=(0,V.Z)(function*(D){let S=yield Gt(D.appConfig);for(;1===S.registrationStatus;)yield Ge(100),S=yield Gt(D.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield Pn(D);return H||k}return S})).apply(this,arguments)}function Gt(D){return fs(D,S=>{if(!S)throw pt.create("installation-not-found");return or(S)})}function or(D){return function qs(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function fn(D,S){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,V.Z)(function*({appConfig:D,heartbeatServiceProvider:S},k){const H=Xt(D,k),ie=z(D,k),he=S.getImmediate({optional:!0});if(he){const Ft=yield he.getHeartbeatsHeader();Ft&&ie.append("x-firebase-client",Ft)}const tt={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:se,appId:D.appId}})},Dt=yield Ae(()=>fetch(H,tt));if(Dt.ok)return Me(yield Dt.json());throw yield ke("Generate Auth Token",Dt)})).apply(this,arguments)}function Xt(D,{fid:S}){return`${Be(D)}/${S}/authTokens:generate`}function ne(D){return Q.apply(this,arguments)}function Q(){return(Q=(0,V.Z)(function*(D,S=!1){let k;const H=yield fs(D.appConfig,he=>{if(!Tt(he))throw pt.create("not-registered");const Fe=he.authToken;if(!S&&En(Fe))return he;if(1===Fe.requestStatus)return k=q(D,S),he;{if(!navigator.onLine)throw pt.create("app-offline");const tt=mr(he);return k=Le(D,tt),tt}});return k?yield k:H.authToken})).apply(this,arguments)}function q(D,S){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(D,S){let k=yield ee(D.appConfig);for(;1===k.authToken.requestStatus;)yield Ge(100),k=yield ee(D.appConfig);const H=k.authToken;return 0===H.requestStatus?ne(D,S):H})).apply(this,arguments)}function ee(D){return fs(D,S=>{if(!Tt(S))throw pt.create("not-registered");return function vt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Le(D,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,V.Z)(function*(D,S){try{const k=yield fn(D,S),H=Object.assign(Object.assign({},S),{authToken:k});return yield Dn(D.appConfig,H),k}catch(k){if(!wt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Dn(D.appConfig,H)}else yield Kn(D.appConfig);throw k}})).apply(this,arguments)}function Tt(D){return void 0!==D&&2===D.registrationStatus}function En(D){return 2===D.requestStatus&&!function pn(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function mr(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function Nn(){return(Nn=(0,V.Z)(function*(D){const S=D,{installationEntry:k,registrationPromise:H}=yield Pn(S);return H?H.catch(console.error):ne(S).catch(console.error),k.fid})).apply(this,arguments)}function kr(){return(kr=(0,V.Z)(function*(D,S=!1){const k=D;return yield at(k),(yield ne(k,S)).token})).apply(this,arguments)}function at(D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,V.Z)(function*(D){const{registrationPromise:S}=yield Pn(D);S&&(yield S)})).apply(this,arguments)}function Zt(D){return pt.create("missing-app-config-values",{valueName:D})}const Qa="installations",Fn=D=>{const S=D.getProvider("app").getImmediate(),k=function zs(D){if(!D||!D.options)throw Zt("App Configuration");if(!D.name)throw Zt("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!D.options[k])throw Zt(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,me._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=D=>{const S=D.getProvider("app").getImmediate(),k=(0,me._getProvider)(S,Qa).getImmediate();return{getId:()=>function Tn(D){return Nn.apply(this,arguments)}(k),getToken:ie=>function Ar(D){return kr.apply(this,arguments)}(k,ie)}};(function Rr(){(0,me._registerComponent)(new be.wA(Qa,Fn,"PUBLIC")),(0,me._registerComponent)(new be.wA("installations-internal",Gs,"PRIVATE"))})(),(0,me.registerVersion)(Ie,Y),(0,me.registerVersion)(Ie,Y,"esm2017");const Ws="@firebase/remote-config",Wt=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sg{constructor(S,k,H,ie){this.client=S,this.storage=k,this.storageCache=H,this.logger=ie}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,ie=H<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ie}.`),ie}fetch(S){var k=this;return(0,V.Z)(function*(){const[H,ie]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ie&&k.isCachedDataFresh(S.cacheMaxAgeMillis,H))return ie;S.eTag=ie&&ie.eTag;const he=yield k.client.fetch(S),Fe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Fe.push(k.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Fe),he})()}}function ic(D=navigator){return D.languages&&D.languages[0]||D.language}class sc{constructor(S,k,H,ie,he,Fe){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=H,this.projectId=ie,this.apiKey=he,this.appId=Fe}fetch(S){var k=this;return(0,V.Z)(function*(){var H,ie,he;const[Fe,tt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},It={sdk_version:k.sdkVersion,app_instance_id:Fe,app_instance_id_token:tt,app_id:k.appId,language_code:ic()},cr={method:"POST",headers:Ut,body:JSON.stringify(It)},Yr=fetch(Ft,cr),Oo=new Promise((No,Tl)=>{S.signal.addEventListener(()=>{const _c=new Error("The operation was aborted.");_c.name="AbortError",Tl(_c)})});let wi;try{yield Promise.race([Yr,Oo]),wi=yield Yr}catch(No){let Tl="fetch-client-network";throw"AbortError"===(null===(H=No)||void 0===H?void 0:H.name)&&(Tl="fetch-timeout"),Wt.create(Tl,{originalErrorMessage:null===(ie=No)||void 0===ie?void 0:ie.message})}let wn=wi.status;const Mr=wi.headers.get("ETag")||void 0;let Pa,os;if(200===wi.status){let No;try{No=yield wi.json()}catch(Tl){throw Wt.create("fetch-client-parse",{originalErrorMessage:null===(he=Tl)||void 0===he?void 0:he.message})}Pa=No.entries,os=No.state}if("INSTANCE_STATE_UNSPECIFIED"===os?wn=500:"NO_CHANGE"===os?wn=304:("NO_TEMPLATE"===os||"EMPTY_CONFIG"===os)&&(Pa={}),304!==wn&&200!==wn)throw Wt.create("fetch-status",{httpStatus:wn});return{status:wn,eTag:Mr,config:Pa}})()}}class og{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,V.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,H)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:H}){var ie=this;return(0,V.Z)(function*(){yield function yr(D,S){return new Promise((k,H)=>{const ie=Math.max(S-Date.now(),0),he=setTimeout(k,ie);D.addEventListener(()=>{clearTimeout(he),H(Wt.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const he=yield ie.client.fetch(S);return yield ie.storage.deleteThrottleMetadata(),he}catch(he){if(!function kd(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(he))throw he;const Fe={throttleEndTimeMillis:Date.now()+(0,fe.$s)(H),backoffCount:H+1};return yield ie.storage.setThrottleMetadata(Fe),ie.attemptFetch(S,Fe)}})()}}class oc{constructor(S,k,H,ie,he){this.app=S,this._client=k,this._storageCache=H,this._storage=ie,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ac(D,S){var k;const H=D.target.error||void 0;return Wt.create(S,{originalErrorMessage:H&&(null===(k=H)||void 0===k?void 0:k.message)})}const Qs="app_namespace_store";class Ld{constructor(S,k,H,ie=function ug(){return new Promise((D,S)=>{var k;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ie=>{S(ac(ie,"storage-open"))},H.onsuccess=ie=>{D(ie.target.result)},H.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Qs,{keyPath:"compositeKey"})}}catch(H){S(Wt.create("storage-open",{originalErrorMessage:null===(k=H)||void 0===k?void 0:k.message}))}})}()){this.appId=S,this.appName=k,this.namespace=H,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,V.Z)(function*(){const H=yield k.openDbPromise;return new Promise((ie,he)=>{var Fe;const Dt=H.transaction([Qs],"readonly").objectStore(Qs),Ft=k.createCompositeKey(S);try{const Ut=Dt.get(Ft);Ut.onerror=It=>{he(ac(It,"storage-get"))},Ut.onsuccess=It=>{const cr=It.target.result;ie(cr?cr.value:void 0)}}catch(Ut){he(Wt.create("storage-get",{originalErrorMessage:null===(Fe=Ut)||void 0===Fe?void 0:Fe.message}))}})})()}set(S,k){var H=this;return(0,V.Z)(function*(){const ie=yield H.openDbPromise;return new Promise((he,Fe)=>{var tt;const Ft=ie.transaction([Qs],"readwrite").objectStore(Qs),Ut=H.createCompositeKey(S);try{const It=Ft.put({compositeKey:Ut,value:k});It.onerror=cr=>{Fe(ac(cr,"storage-set"))},It.onsuccess=()=>{he()}}catch(It){Fe(Wt.create("storage-set",{originalErrorMessage:null===(tt=It)||void 0===tt?void 0:tt.message}))}})})()}delete(S){var k=this;return(0,V.Z)(function*(){const H=yield k.openDbPromise;return new Promise((ie,he)=>{var Fe;const Dt=H.transaction([Qs],"readwrite").objectStore(Qs),Ft=k.createCompositeKey(S);try{const Ut=Dt.delete(Ft);Ut.onerror=It=>{he(ac(It,"storage-delete"))},Ut.onsuccess=()=>{ie()}}catch(Ut){he(Wt.create("storage-delete",{originalErrorMessage:null===(Fe=Ut)||void 0===Fe?void 0:Fe.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class el{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,V.Z)(function*(){const k=S.storage.getLastFetchStatus(),H=S.storage.getLastSuccessfulFetchTimestampMillis(),ie=S.storage.getActiveConfig(),he=yield k;he&&(S.lastFetchStatus=he);const Fe=yield H;Fe&&(S.lastSuccessfulFetchTimestampMillis=Fe);const tt=yield ie;tt&&(S.activeConfig=tt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Bi(){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,V.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function fa(){(0,me._registerComponent)(new be.wA("remote-config",function D(S,{instanceIdentifier:k}){const H=S.getProvider("app").getImmediate(),ie=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wt.create("registration-window");if(!(0,fe.hl)())throw Wt.create("indexed-db-unavailable");const{projectId:he,apiKey:Fe,appId:tt}=H.options;if(!he)throw Wt.create("registration-project-id");if(!Fe)throw Wt.create("registration-api-key");if(!tt)throw Wt.create("registration-app-id");const Dt=new Ld(tt,H.name,k=k||"firebase"),Ft=new el(Dt),Ut=new _e.Yd(Ws);Ut.logLevel=_e.in.ERROR;const It=new sc(ie,me.SDK_VERSION,k,he,Fe,tt),cr=new og(It,Dt),Yr=new sg(cr,Dt,Ft,Ut),Oo=new oc(H,Yr,Ft,Dt,Ut);return function Sn(D){const S=(0,fe.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(Ws,"0.3.11"),(0,me.registerVersion)(Ws,"0.3.11","esm2017")}();const pa="/firebase-messaging-sw.js",Si="/firebase-cloud-messaging-push-scope",_o="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ma="google.c.a.c_id",tl="google.c.a.c_l",Vd="google.c.a.ts",Bd="google.c.a.e";var vr=(()=>{return(D=vr||(vr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",vr;var D})();function si(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $d(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),ie=new Uint8Array(H.length);for(let he=0;he<H.length;++he)ie[he]=H.charCodeAt(he);return ie}const ya="fcm_token_details_db",yi="fcm_token_object_Store";function er(D){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,V.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(ya))return null;let S=null;return(yield(0,Ce.X3)(ya,5,{upgrade:(H=(0,V.Z)(function*(ie,he,Fe,tt){var Dt;if(he<2||!ie.objectStoreNames.contains(yi))return;const Ft=tt.objectStore(yi),Ut=yield Ft.index("fcmSenderId").get(D);if(yield Ft.clear(),Ut)if(2===he){const It=Ut;if(!It.auth||!It.p256dh||!It.endpoint)return;S={token:It.fcmToken,createTime:null!==(Dt=It.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:si(It.vapidKey)}}}else if(3===he){const It=Ut;S={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:si(It.auth),p256dh:si(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:si(It.vapidKey)}}}else if(4===he){const It=Ut;S={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:si(It.auth),p256dh:si(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:si(It.vapidKey)}}}}),function(he,Fe,tt,Dt){return H.apply(this,arguments)})})).close(),yield(0,Ce.Lj)(ya),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),yf(S)?S:null;var H}),Zd.apply(this,arguments)}function yf(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ms="firebase-messaging-store";let nl=null;function ys(){return nl||(nl=(0,Ce.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(ms)}})),nl}function Sr(D){return va.apply(this,arguments)}function va(){return(va=(0,V.Z)(function*(D){const S=_a(D),H=yield(yield ys()).transaction(ms).objectStore(ms).get(S);if(H)return H;{const ie=yield er(D.appConfig.senderId);if(ie)return yield $i(D,ie),ie}})).apply(this,arguments)}function $i(D,S){return vs.apply(this,arguments)}function vs(){return(vs=(0,V.Z)(function*(D,S){const k=_a(D),ie=(yield ys()).transaction(ms,"readwrite");return yield ie.objectStore(ms).put(S,k),yield ie.done,S})).apply(this,arguments)}function _s(D){return ws.apply(this,arguments)}function ws(){return(ws=(0,V.Z)(function*(D){const S=_a(D),H=(yield ys()).transaction(ms,"readwrite");yield H.objectStore(ms).delete(S),yield H.done})).apply(this,arguments)}function _a({appConfig:D}){return D.appId}const Hn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jd(D,S){return ou.apply(this,arguments)}function ou(){return(ou=(0,V.Z)(function*(D,S){var k;const H=yield Re(D),ie=Xs(S),he={method:"POST",headers:H,body:JSON.stringify(ie)};let Fe;try{Fe=yield(yield fetch(wa(D.appConfig),he)).json()}catch(tt){throw Hn.create("token-subscribe-failed",{errorInfo:null===(k=tt)||void 0===k?void 0:k.toString()})}if(Fe.error)throw Hn.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Hn.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function uc(D,S){return Co.apply(this,arguments)}function Co(){return(Co=(0,V.Z)(function*(D,S){var k;const H=yield Re(D),ie=Xs(S.subscriptionOptions),he={method:"PATCH",headers:H,body:JSON.stringify(ie)};let Fe;try{Fe=yield(yield fetch(`${wa(D.appConfig)}/${S.token}`,he)).json()}catch(tt){throw Hn.create("token-update-failed",{errorInfo:null===(k=tt)||void 0===k?void 0:k.toString()})}if(Fe.error)throw Hn.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Hn.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Js(D,S){return au.apply(this,arguments)}function au(){return(au=(0,V.Z)(function*(D,S){var k;const ie={method:"DELETE",headers:yield Re(D)};try{const Fe=yield(yield fetch(`${wa(D.appConfig)}/${S}`,ie)).json();if(Fe.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(he){throw Hn.create("token-unsubscribe-failed",{errorInfo:null===(k=he)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function wa({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Re(D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,V.Z)(function*({appConfig:D,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Xs({p256dh:D,auth:S,endpoint:k,vapidKey:H}){const ie={web:{endpoint:k,auth:S,p256dh:D}};return H!==_o&&(ie.web.applicationPubKey=H),ie}const ba=6048e5;function kn(D){return rl.apply(this,arguments)}function rl(){return(rl=(0,V.Z)(function*(D){const S=yield vf(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:si(S.getKey("auth")),p256dh:si(S.getKey("p256dh"))},H=yield Sr(D.firebaseDependencies);if(H){if(ar(H.subscriptionOptions,k))return Date.now()>=H.createTime+ba?il(D,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield Js(D.firebaseDependencies,H.token)}catch(ie){console.warn(ie)}return Ca(D.firebaseDependencies,k)}return Ca(D.firebaseDependencies,k)})).apply(this,arguments)}function eo(D){return xi.apply(this,arguments)}function xi(){return(xi=(0,V.Z)(function*(D){const S=yield Sr(D.firebaseDependencies);S&&(yield Js(D.firebaseDependencies,S.token),yield _s(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function il(D,S){return sl.apply(this,arguments)}function sl(){return(sl=(0,V.Z)(function*(D,S){try{const k=yield uc(D.firebaseDependencies,S),H=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield $i(D.firebaseDependencies,H),k}catch(k){throw yield eo(D),k}})).apply(this,arguments)}function Ca(D,S){return ol.apply(this,arguments)}function ol(){return(ol=(0,V.Z)(function*(D,S){const H={token:yield jd(D,S),createTime:Date.now(),subscriptionOptions:S};return yield $i(D,H),H.token})).apply(this,arguments)}function vf(D,S){return to.apply(this,arguments)}function to(){return(to=(0,V.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$d(S)})})).apply(this,arguments)}function ar(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function es(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function al(D,S){if(!S.notification)return;D.notification={};const k=S.notification.title;k&&(D.notification.title=k);const H=S.notification.body;H&&(D.notification.body=H);const ie=S.notification.image;ie&&(D.notification.image=ie)}(S,D),function Eo(D,S){!S.data||(D.data=S.data)}(S,D),function bs(D,S){var k,H,ie,he,Fe;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const tt=null!==(ie=null===(H=S.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ie?ie:null===(he=S.notification)||void 0===he?void 0:he.click_action;tt&&(D.fcmOptions.link=tt);const Dt=null===(Fe=S.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;Dt&&(D.fcmOptions.analyticsLabel=Dt)}(S,D),S}function cc(D){return"object"==typeof D&&!!D&&ma in D}function dc(D,S){const k=[];for(let H=0;H<D.length;H++)k.push(D.charAt(H)),H<S.length&&k.push(S.charAt(H));return k.join("")}function ll(D){return Hn.create("missing-app-config-values",{valueName:D})}dc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hc{constructor(S,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function Hd(D){if(!D||!D.options)throw ll("App Configuration Object");if(!D.name)throw ll("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const H of S)if(!k[H])throw ll(H);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ie,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function To(D){return lu.apply(this,arguments)}function lu(){return(lu=(0,V.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(pa,{scope:Si}),D.swRegistration.update().catch(()=>{})}catch(k){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=k)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function ul(D,S){return fc.apply(this,arguments)}function fc(){return(fc=(0,V.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield To(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function Ea(D,S){return uu.apply(this,arguments)}function uu(){return(uu=(0,V.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=_o)})).apply(this,arguments)}function du(){return(du=(0,V.Z)(function*(D,S){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield Ea(D,S?.vapidKey),yield ul(D,S?.serviceWorkerRegistration),kn(D)})).apply(this,arguments)}function hu(D,S,k){return fu.apply(this,arguments)}function fu(){return(fu=(0,V.Z)(function*(D,S,k){const H=Ta(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[ma],message_name:k[tl],message_time:k[Vd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ta(D){switch(D){case vr.NOTIFICATION_CLICKED:return"notification_open";case vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pu(){return(pu=(0,V.Z)(function*(D,S){const k=S.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===vr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(es(k)):D.onMessageHandler.next(es(k)));const H=k.data;cc(H)&&"1"===H[Bd]&&(yield hu(D,k.messageType,H))})).apply(this,arguments)}const _r="@firebase/messaging",Un=D=>{const S=new hc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function _f(D,S){return pu.apply(this,arguments)}(S,k)),S},Ia=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:H=>function cu(D,S){return du.apply(this,arguments)}(S,H)}};function zd(){return pc.apply(this,arguments)}function pc(){return(pc=(0,V.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qd(){(0,me._registerComponent)(new be.wA("messaging",Un,"PUBLIC")),(0,me._registerComponent)(new be.wA("messaging-internal",Ia,"PRIVATE")),(0,me.registerVersion)(_r,"0.9.16"),(0,me.registerVersion)(_r,"0.9.16","esm2017")}();const ts="analytics",Aa="firebase_id",ns="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dl="https://www.googletagmanager.com/gtag/js",xr=new _e.Yd("@firebase/analytics");function Ef(D){return Promise.all(D.map(S=>S.catch(k=>k)))}function Gy(D,S){const k=document.createElement("script");k.src=`${dl}?l=${D}&id=${S}`,k.async=!0,document.head.appendChild(k)}function hl(D,S,k,H,ie,he){return fl.apply(this,arguments)}function fl(){return(fl=(0,V.Z)(function*(D,S,k,H,ie,he){const Fe=H[ie];try{if(Fe)yield S[Fe];else{const Dt=(yield Ef(k)).find(Ft=>Ft.measurementId===ie);Dt&&(yield S[Dt.appId])}}catch(tt){xr.error(tt)}D("config",ie,he)})).apply(this,arguments)}function Yd(D,S,k,H,ie){return no.apply(this,arguments)}function no(){return(no=(0,V.Z)(function*(D,S,k,H,ie){try{let he=[];if(ie&&ie.send_to){let Fe=ie.send_to;Array.isArray(Fe)||(Fe=[Fe]);const tt=yield Ef(k);for(const Dt of Fe){const Ft=tt.find(It=>It.measurementId===Dt),Ut=Ft&&S[Ft.appId];if(!Ut){he=[];break}he.push(Ut)}}0===he.length&&(he=Object.values(S)),yield Promise.all(he),D("event",H,ie||{})}catch(he){xr.error(he)}})).apply(this,arguments)}function pl(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(dl))return S;return null}const Lr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jd=new class Ao{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Da(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function qr(D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,V.Z)(function*(D){var S;const{appId:k,apiKey:H}=D,ie={method:"GET",headers:Da(H)},he=ns.replace("{app-id}",k),Fe=yield fetch(he,ie);if(200!==Fe.status&&304!==Fe.status){let tt="";try{const Dt=yield Fe.json();null!==(S=Dt.error)&&void 0!==S&&S.message&&(tt=Dt.error.message)}catch{}throw Lr.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:tt})}return Fe.json()})).apply(this,arguments)}function mn(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,V.Z)(function*(D,S=Jd,k){const{appId:H,apiKey:ie,measurementId:he}=D.options;if(!H)throw Lr.create("no-app-id");if(!ie){if(he)return{measurementId:he,appId:H};throw Lr.create("no-api-key")}const Fe=S.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new If;return setTimeout((0,V.Z)(function*(){tt.abort()}),void 0!==k?k:6e4),Zi({appId:H,apiKey:ie,measurementId:he},Fe,tt,S)})).apply(this,arguments)}function Zi(D,S,k){return lt.apply(this,arguments)}function lt(){return(lt=(0,V.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:k},H,ie=Jd){var he,Fe;const{appId:tt,measurementId:Dt}=D;try{yield Vn(H,S)}catch(Ft){if(Dt)return xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${null===(he=Ft)||void 0===he?void 0:he.message}]`),{appId:tt,measurementId:Dt};throw Ft}try{const Ft=yield qr(D);return ie.deleteThrottleMetadata(tt),Ft}catch(Ft){const Ut=Ft;if(!ro(Ut)){if(ie.deleteThrottleMetadata(tt),Dt)return xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:tt,measurementId:Dt};throw Ft}const It=503===Number(null===(Fe=Ut?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,fe.$s)(k,ie.intervalMillis,30):(0,fe.$s)(k,ie.intervalMillis),cr={throttleEndTimeMillis:Date.now()+It,backoffCount:k+1};return ie.setThrottleMetadata(tt,cr),xr.debug(`Calling attemptFetch again in ${It} millis`),Zi(D,cr,H,ie)}})).apply(this,arguments)}function Vn(D,S){return new Promise((k,H)=>{const ie=Math.max(S-Date.now(),0),he=setTimeout(k,ie);D.addEventListener(()=>{clearTimeout(he),H(Lr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function ro(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class If{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Cs,Ur;function rs(){return(rs=(0,V.Z)(function*(D,S,k,H,ie){if(ie&&ie.global)D("event",k,H);else{const he=yield S;D("event",k,Object.assign(Object.assign({},H),{send_to:he}))}})).apply(this,arguments)}function mc(D){Ur=D}function yu(D){Cs=D}function Se(){return Is.apply(this,arguments)}function Is(){return(Is=(0,V.Z)(function*(){var D;if(!(0,fe.hl)())return xr.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(S){return xr.warn(Lr.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function zr(){return(zr=(0,V.Z)(function*(D,S,k,H,ie,he,Fe){var tt;const Dt=mn(D);Dt.then(Yr=>{k[Yr.measurementId]=Yr.appId,D.options.measurementId&&Yr.measurementId!==D.options.measurementId&&xr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yr=>xr.error(Yr)),S.push(Dt);const Ft=Se().then(Yr=>{if(Yr)return H.getId()}),[Ut,It]=yield Promise.all([Dt,Ft]);pl()||Gy(he,Ut.measurementId),Ur&&(ie("consent","default",Ur),mc(void 0)),ie("js",new Date);const cr=null!==(tt=Fe?.config)&&void 0!==tt?tt:{};return cr.origin="firebase",cr.update=!0,null!=It&&(cr[Aa]=It),ie("config",Ut.measurementId,cr),Cs&&(ie("set",Cs),yu(void 0)),Ut.measurementId})).apply(this,arguments)}class jt{constructor(S){this.app=S}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},_i=[];const dt={};let ml,tn,Oi="dataLayer",As=!1;function dg(D,S,k){!function Xd(){const D=[];if((0,fe.ru)()&&D.push("This is a browser extension environment."),(0,fe.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((H,ie)=>`(${ie+1}) ${H}`).join(" "),k=Lr.create("invalid-analytics-context",{errorInfo:S});xr.warn(k.message)}}();const H=D.options.appId;if(!H)throw Lr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Lr.create("no-api-key");xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[H])throw Lr.create("already-exists",{id:H});if(!As){!function Wy(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Oi);const{wrappedGtag:he,gtagCore:Fe}=function Tf(D,S,k,H,ie){let he=function(...Fe){window[H].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(he=window[ie]),window[ie]=function Kd(D,S,k,H){function he(){return(he=(0,V.Z)(function*(Fe,tt,Dt){try{"event"===Fe?yield Yd(D,S,k,tt,Dt):"config"===Fe?yield hl(D,S,k,H,tt,Dt):"consent"===Fe?D("consent","update",Dt):D("set",tt)}catch(Ft){xr.error(Ft)}})).apply(this,arguments)}return function ie(Fe,tt,Dt){return he.apply(this,arguments)}}(he,D,S,k),{gtagCore:he,wrappedGtag:window[ie]}}(oi,_i,dt,Oi,"gtag");tn=he,ml=Fe,As=!0}return oi[H]=function ji(D,S,k,H,ie,he,Fe){return zr.apply(this,arguments)}(D,_i,dt,S,ml,Oi,k),new jt(D)}function Vr(){return is.apply(this,arguments)}function is(){return(is=(0,V.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const Wr="@firebase/analytics";!function vl(){(0,me._registerComponent)(new be.wA(ts,(S,{options:k})=>dg(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,me._registerComponent)(new be.wA("analytics-internal",function D(S){try{const k=S.getProvider(ts).getImmediate();return{logEvent:(H,ie,he)=>function Df(D,S,k,H){D=(0,fe.m9)(D),function Fr(D,S,k,H,ie){return rs.apply(this,arguments)}(tn,oi[D.app.options.appId],S,k,H).catch(ie=>xr.error(ie))}(k,H,ie,he)}}catch(k){throw Lr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,me.registerVersion)(Wr,"0.8.0"),(0,me.registerVersion)(Wr,"0.8.0","esm2017")}();var xo=Z(4408),xa=Z(7565);const vu=new class br extends xa.v{}(class ur extends xo.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(S,k,H):S.flush(this)}});var _u=Z(4986),Mo=Z(8505),tr=Z(9468),Ma=Z(5363);const so=new i.GfV("7.4.1"),nh="__angularfire_symbol__analyticsIsSupportedValue",wu="__angularfire_symbol__analyticsIsSupported",ss="__angularfire_symbol__remoteConfigIsSupportedValue",_l="__angularfire_symbol__remoteConfigIsSupported",wl="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function Cu(D,S,k){if(S){if(1===S.length)return S[0];const he=S.filter(Fe=>Fe.app===k);if(1===he.length)return he[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[wu]||(globalThis[wu]=Vr().then(D=>globalThis[nh]=D).catch(()=>globalThis[nh]=!1)),globalThis[bu]||(globalThis[bu]=zd().then(D=>globalThis[wl]=D).catch(()=>globalThis[wl]=!1)),globalThis[_l]||(globalThis[_l]=Bi().then(D=>globalThis[ss]=D).catch(()=>globalThis[ss]=!1));const Ds=(D,S)=>{const k=S?[S]:(0,le.C6)(),H=[];return k.forEach(ie=>{ie.container.getProvider(D).instances.forEach(Fe=>{H.includes(Fe)||H.push(Fe)})}),H};function oo(){}class Ss{constructor(S,k=vu){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,H){const ie=this.zone;return this.delegate.schedule(function(Fe){ie.runGuarded(()=>{S.apply(this,[Fe])})},k,H)}}class yc{constructor(S){this.zone=S,this.task=null}call(S,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),k.pipe((0,Mo.b)({next:H,complete:H,error:H})).subscribe(S).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rh=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ss(Zone.current)),this.insideAngular=k.run(()=>new Ss(Zone.current,_u.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(i.LFG(i.R0b))},D.\u0275prov=i.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function xs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function In(D){return xs(),function vc(D){return function(k){return(k=k.lift(new yc(D.ngZone))).pipe((0,tr.R)(D.outsideAngular),(0,Ma.Q)(D.insideAngular))}}(xs())(D)}},2090:(Et,Ue,Z)=>{Z.d(Ue,{$s:()=>qs,BH:()=>Qe,G6:()=>et,L:()=>Ce,LL:()=>Ye,Mn:()=>ke,Sg:()=>$e,UG:()=>De,US:()=>be,ZB:()=>K,ZR:()=>ce,b$:()=>wt,d:()=>Be,eu:()=>Ae,hl:()=>z,jU:()=>Ee,m9:()=>Xt,ne:()=>Pt,pd:()=>Ai,r3:()=>ni,ru:()=>pt,tV:()=>Ie,uI:()=>yt,vZ:()=>Ii,w1:()=>Me,xO:()=>Ki,xb:()=>Cn,z$:()=>Pe,zI:()=>re,zd:()=>hs});const me=function(ne){const Q=[];let q=0;for(let X=0;X<ne.length;X++){let ee=ne.charCodeAt(X);ee<128?Q[q++]=ee:ee<2048?(Q[q++]=ee>>6|192,Q[q++]=63&ee|128):55296==(64512&ee)&&X+1<ne.length&&56320==(64512&ne.charCodeAt(X+1))?(ee=65536+((1023&ee)<<10)+(1023&ne.charCodeAt(++X)),Q[q++]=ee>>18|240,Q[q++]=ee>>12&63|128,Q[q++]=ee>>6&63|128,Q[q++]=63&ee|128):(Q[q++]=ee>>12|224,Q[q++]=ee>>6&63|128,Q[q++]=63&ee|128)}return Q},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,Q){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let ee=0;ee<ne.length;ee+=3){const Le=ne[ee],Je=ee+1<ne.length,Tt=Je?ne[ee+1]:0,En=ee+2<ne.length,pn=En?ne[ee+2]:0;let Tn=(15&Tt)<<2|pn>>6,Nn=63&pn;En||(Nn=64,Je||(Tn=64)),X.push(q[Le>>2],q[(3&Le)<<4|Tt>>4],q[Tn],q[Nn])}return X.join("")},encodeString(ne,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ne):this.encodeByteArray(me(ne),Q)},decodeString(ne,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ne):function(ne){const Q=[];let q=0,X=0;for(;q<ne.length;){const ee=ne[q++];if(ee<128)Q[X++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Le=ne[q++];Q[X++]=String.fromCharCode((31&ee)<<6|63&Le)}else if(ee>239&&ee<365){const En=((7&ee)<<18|(63&ne[q++])<<12|(63&ne[q++])<<6|63&ne[q++])-65536;Q[X++]=String.fromCharCode(55296+(En>>10)),Q[X++]=String.fromCharCode(56320+(1023&En))}else{const Le=ne[q++],Je=ne[q++];Q[X++]=String.fromCharCode((15&ee)<<12|(63&Le)<<6|63&Je)}}return Q.join("")}(this.decodeStringToByteArray(ne,Q))},decodeStringToByteArray(ne,Q){this.init_();const q=Q?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let ee=0;ee<ne.length;){const Le=q[ne.charAt(ee++)],Tt=ee<ne.length?q[ne.charAt(ee)]:0;++ee;const pn=ee<ne.length?q[ne.charAt(ee)]:64;++ee;const vt=ee<ne.length?q[ne.charAt(ee)]:64;if(++ee,null==Le||null==Tt||null==pn||null==vt)throw Error();X.push(Le<<2|Tt>>4),64!==pn&&(X.push(Tt<<4&240|pn>>2),64!==vt&&X.push(pn<<6&192|vt))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}},Ce=function(ne){return function(ne){const Q=me(ne);return be.encodeByteArray(Q,!0)}(ne).replace(/\./g,"")},Ie=function(ne){try{return be.decodeString(ne,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function K(ne,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===ne&&(ne={});break;case Array:ne=[];break;default:return Q}for(const q in Q)!Q.hasOwnProperty(q)||!se(q)||(ne[q]=K(ne[q],Q[q]));return ne}function se(ne){return"__proto__"!==ne}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,q)=>{this.resolve=Q,this.reject=q})}wrapCallback(Q){return(q,X)=>{q?this.reject(q):this.resolve(X),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(q):Q(q,X))}}}function $e(ne,Q){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=Q||"demo-project",ee=ne.iat||0,Le=ne.sub||ne.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:ee,exp:ee+3600,auth_time:ee,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Je)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function pt(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return Pe().indexOf("Electron/")>=0}function Me(){const ne=Pe();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function ke(){return Pe().indexOf("MSAppHost/")>=0}function et(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function Ae(){return new Promise((ne,Q)=>{try{let q=!0;const X="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(X);ee.onsuccess=()=>{ee.result.close(),q||self.indexedDB.deleteDatabase(X),ne(!0)},ee.onupgradeneeded=()=>{q=!1},ee.onerror=()=>{var Le;Q((null===(Le=ee.error)||void 0===Le?void 0:Le.message)||"")}}catch(q){Q(q)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ce extends Error{constructor(Q,q,X){super(q),this.code=Q,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(Q,q,X){this.service=Q,this.serviceName=q,this.errors=X}create(Q,...q){const X=q[0]||{},ee=`${this.service}/${Q}`,Le=this.errors[Q],Je=Le?function Ge(ne,Q){return ne.replace(At,(q,X)=>{const ee=Q[X];return null!=ee?String(ee):`<${X}?>`})}(Le,X):"Error";return new ce(ee,`${this.serviceName}: ${Je} (${ee}).`,X)}}const At=/\{\$([^}]+)}/g;function ni(ne,Q){return Object.prototype.hasOwnProperty.call(ne,Q)}function Cn(ne){for(const Q in ne)if(Object.prototype.hasOwnProperty.call(ne,Q))return!1;return!0}function Ii(ne,Q){if(ne===Q)return!0;const q=Object.keys(ne),X=Object.keys(Q);for(const ee of q){if(!X.includes(ee))return!1;const Le=ne[ee],Je=Q[ee];if(jr(Le)&&jr(Je)){if(!Ii(Le,Je))return!1}else if(Le!==Je)return!1}for(const ee of X)if(!q.includes(ee))return!1;return!0}function jr(ne){return null!==ne&&"object"==typeof ne}function Ki(ne){const Q=[];for(const[q,X]of Object.entries(ne))Array.isArray(X)?X.forEach(ee=>{Q.push(encodeURIComponent(q)+"="+encodeURIComponent(ee))}):Q.push(encodeURIComponent(q)+"="+encodeURIComponent(X));return Q.length?"&"+Q.join("&"):""}function hs(ne){const Q={};return ne.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[ee,Le]=X.split("=");Q[decodeURIComponent(ee)]=decodeURIComponent(Le)}}),Q}function Ai(ne){const Q=ne.indexOf("?");if(!Q)return"";const q=ne.indexOf("#",Q);return ne.substring(Q,q>0?q:void 0)}function Pt(ne,Q){const q=new Dn(ne,Q);return q.subscribe.bind(q)}class Dn{constructor(Q,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{Q(this)}).catch(X=>{this.error(X)})}next(Q){this.forEachObserver(q=>{q.next(Q)})}error(Q){this.forEachObserver(q=>{q.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,q,X){let ee;if(void 0===Q&&void 0===q&&void 0===X)throw new Error("Missing Observer.");ee=function Kn(ne,Q){if("object"!=typeof ne||null===ne)return!1;for(const q of Q)if(q in ne&&"function"==typeof ne[q])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:q,complete:X},void 0===ee.next&&(ee.next=Ji),void 0===ee.error&&(ee.error=Ji),void 0===ee.complete&&(ee.complete=Ji);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Le}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,Q)}sendOne(Q,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{q(this.observers[Q])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ji(){}function qs(ne,Q=1e3,q=2){const X=Q*Math.pow(q,ne),ee=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+ee)}function Xt(ne){return ne&&ne._delegate?ne._delegate:ne}},4463:(Et,Ue,Z)=>{var i=Z(4650);let le=null;function V(){return le}const _e=new i.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Ie(){return(0,i.LFG)(K)}()},providedIn:"platform"}),n})();const Y=new i.OlP("Location Initialized");let K=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){se()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){se()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Qe(){return new K((0,i.LFG)(_e))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function yt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(pt)},providedIn:"root"}),n})();const Ee=new i.OlP("appBaseHref");let pt=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+yt(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,l){const c=this.prepareExternalUrl(s+yt(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,l){const c=this.prepareExternalUrl(s+yt(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ce),i.LFG(Ee,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wt=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,l){let c=this.prepareExternalUrl(s+yt(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,l){let c=this.prepareExternalUrl(s+yt(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ce),i.LFG(Ee,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Pe(Xe(r)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yt(r))}normalize(t){return n.stripTrailingSlash(function ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yt(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yt(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=yt,n.joinWithSlash=$e,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(i.LFG(De))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Me(){return new Be((0,i.LFG)(De))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Percent=1]="Percent",z[z.Currency=2]="Currency",z[z.Scientific=3]="Scientific",z))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function zt(n,e){const t=(0,i.cg1)(n),r=t[i.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ce.CurrencyDecimal)return t[i.wAp.NumberSymbols][ce.Decimal];if(e===ce.CurrencyGroup)return t[i.wAp.NumberSymbols][ce.Group]}return r}const at=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ps(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function iu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(l)}return null}let nc=(()=>{class n{constructor(t,r,s,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ca{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,l,c)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new ca(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,c),Xn(f,s)}});for(let s=0,l=r.length;s<l;s++){const f=r.get(s).context;f.index=s,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Xn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xn(n,e){n.context.$implicit=e.item}let Sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){da("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){da("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class gi{constructor(){this.$implicit=null,this.ngIf=null}}function da(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}class vo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ha=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),mi=(()=>{class n{constructor(t,r,s){this.ngSwitch=s,s._addCase(),this._view=new vo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(ha,9))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),gf=(()=>{class n{constructor(t,r,s){s._addDefault(new vo(t,r))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(ha,9))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),ic=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(s,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.TTD]}),n})();function yr(n,e){return new i.vHH(2100,!1)}class kd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class og{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const gs=new og,ag=new kd;let oc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,i.QGY)(t))return gs;if((0,i.F4k)(t))return ag;throw yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Si=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function ma(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function la(n,e,t){return function zs(n,e,t,r,s,l,c=!1){let f="",y=!1;if(isFinite(n)){let v=function Rr(n){let r,s,l,c,f,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(s<0&&(s=l),s+=+e.slice(l+1),e=e.substring(0,l)):s<0&&(s=e.length),l=0;"0"===e.charAt(l);l++);if(l===(f=e.length))r=[0],s=1;else{for(f--;"0"===e.charAt(f);)f--;for(s-=l,r=[],c=0;l<=f;l++,c++)r[c]=Number(e.charAt(l))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);c&&(v=function Gs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let C=e.minInt,E=e.minFrac,A=e.maxFrac;if(l){const G=l.match(at);if(null===G)throw new Error(`${l} is not a valid digit info`);const j=G[1],W=G[3],xe=G[5];null!=j&&(C=ps(j)),null!=W&&(E=ps(W)),null!=xe?A=ps(xe):null!=W&&E>A&&(A=E)}!function Ws(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const l=Math.min(Math.max(e,s),t);let c=l+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let E=c;E<r.length;E++)r[E]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,c=l+1),r[0]=0;for(let E=1;E<c;E++)r[E]=0}if(f>=5)if(c-1<0){for(let E=0;E>c;E--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;s<Math.max(0,l);s++)r.push(0);let y=0!==l;const v=e+n.integerLen,C=r.reduceRight(function(E,A,P,O){return O[P]=(A+=E)<10?A:A-10,y&&(0===O[P]&&P>=v?O.pop():y=!1),A>=10?1:0},0);C&&(r.unshift(C),n.integerLen++)}(v,E,A);let P=v.digits,O=v.integerLen;const U=v.exponent;let N=[];for(y=P.every(G=>!G);O<C;O++)P.unshift(0);for(;O<0;O++)P.unshift(0);O>0?N=P.splice(O,P.length):(N=P,P=[0]);const F=[];for(P.length>=e.lgSize&&F.unshift(P.splice(-e.lgSize,P.length).join(""));P.length>e.gSize;)F.unshift(P.splice(-e.gSize,P.length).join(""));P.length&&F.unshift(P.join("")),f=F.join(zt(t,r)),N.length&&(f+=zt(t,s)+N.join("")),U&&(f+=zt(t,ce.Exponential)+"+"+U)}else f=zt(t,ce.Infinity);return f=n<0&&!y?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Fn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],l=r[1],c=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],f=c[0],y=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let C=0;C<y.length;C++){const E=y.charAt(C);"0"===E?t.minFrac=t.maxFrac=C+1:"#"===E?t.maxFrac=C+1:t.posSuf+=E}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,l){const C=s.length-t.posPre.length-t.posSuf.length,E=l.indexOf("#");t.negPre=l.substring(0,E).replace(/'/g,""),t.negSuf=l.slice(E+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Cn(n,e){return(0,i.cg1)(n)[i.wAp.NumberFormats][e]}(e,z.Decimal),zt(e,ce.MinusSign)),e,ce.Group,ce.Decimal,t)}(function tl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(l){throw yr()}}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.soG,16))},n.\u0275pipe=i.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const vr="browser";function yi(n){return"server"===n}let bo=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new vi((0,i.LFG)(_e),window)}),n})();class vi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const l=s.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sr{}class $i extends class va extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){le||(le=n)}(new $i)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _s(){return vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null}();return null==t?null:function _a(n){ws=ws||document.createElement("a"),ws.setAttribute("href",n);const e=ws.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iu(document.cookie,e)}}let ws,vs=null;const kt=new i.OlP("TRANSITION_ID"),jd=[{provide:i.ip1,useFactory:function Hn(n,e,t){return()=>{t.get(i.CZH).donePromise.then(()=>{const r=V(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<s.length;l++)r.remove(s[l])})}},deps:[kt,_e,i.zs3],multi:!0}];let uc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Co=new i.OlP("EventManagerPlugins");let Js=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let l=0;l<s.length;l++){const c=s[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Co),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class au{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=V().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let wa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends wa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,s.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yt))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Yt(n){V().remove(n)}const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ba=/%COMP%/g;function Ca(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Ca(n,s,t):(s=s.replace(ba,n),t.push(s))}return t}function ol(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let to=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new ar(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new bs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case i.ifc.ShadowDom:return new cc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Ca(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Js),i.LFG(Re),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class ar{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Eo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Eo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const l=Xs[s];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Xs[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,r,s&i.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ol(r)):this.eventManager.addEventListener(e,t,ol(r))}}function Eo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bs extends ar{constructor(e,t,r,s){super(e),this.component=r;const l=Ca(s+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function il(n){return"_ngcontent-%COMP%".replace(ba,n)}(s+"-"+r.id),this.hostAttr=function sl(n){return"_nghost-%COMP%".replace(ba,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class cc extends ar{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ca(s.id,s.styles,[]);for(let c=0;c<l.length;c++){const f=document.createElement("style");f.textContent=l[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dc=(()=>{class n extends au{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Hd=["alt","control","meta","shift"],hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},To={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends au{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=n._normalizeKey(r.pop());let c="";if(Hd.forEach(y=>{const v=r.indexOf(y);v>-1&&(r.splice(v,1),c+=y+".")}),c+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=s,f.fullKey=c,f}static getEventFullKey(t){let r="",s=function fc(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&To.hasOwnProperty(e)&&(e=To[e]))}return hc[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Hd.forEach(l=>{l!=s&&(0,lu[l])(t)&&(r+=l+".")}),r+=s,r}static eventCallback(t,r,s){return l=>{n.getEventFullKey(l)===t&&s.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const _f=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:vr},{provide:i.g9A,useValue:function du(){$i.makeCurrent()},multi:!0},{provide:_e,useFactory:function fu(){return(0,i.RDi)(document),document},deps:[]}]),pu=new i.OlP(""),_r=[{provide:i.rWj,useClass:class ou{addToWindow(e){i.dqk.getAngularTestability=(r,s=!0)=>{const l=e.findTestabilityInTree(r,s);if(null==l)throw new Error("Could not find testability for element.");return l},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const s=i.dqk.getAllAngularTestabilities();let l=s.length,c=!1;const f=function(y){c=c||y,l--,0==l&&r(c)};s.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],Mi=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function hu(){return new i.qLn},deps:[]},{provide:Co,useClass:dc,multi:!0,deps:[_e,i.R0b,i.Lbi]},{provide:Co,useClass:ul,multi:!0,deps:[_e]},{provide:to,useClass:to,deps:[Js,Re,i.AFp]},{provide:i.FYo,useExisting:to},{provide:wa,useExisting:Re},{provide:Re,useClass:Re,deps:[_e]},{provide:Js,useClass:Js,deps:[Co,i.R0b]},{provide:Sr,useClass:uc,deps:[]},[]];let Un=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:i.AFp,useValue:t.appId},{provide:kt,useExisting:i.AFp},jd]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pu,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...Mi,..._r],imports:[wo,i.hGG]}),n})(),Gd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pc(){return new Gd((0,i.LFG)(_e))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Da_firebaseConfig={apiKey:"AIzaSyCFciE7URwMXLW9Z_eZ0rAhANyHpAOwJ3E",authDomain:"noon-3e078.firebaseapp.com",projectId:"noon-3e078",storageBucket:"noon-3e078.appspot.com",messagingSenderId:"884703040907",appId:"1:884703040907:web:5f4f64f2de4b1f44ba4b8e",measurementId:"G-ECSF5CVY6B"};var qr=Z(2011),Pi=Z(4986),mn=Z(9751),cn=Z(8996),Zi=Z(7669);function lt(...n){const e=(0,Zi.yG)(n);return(0,cn.D)(n,e)}var Vn=Z(5813),ro=Z(8189);function Cs(...n){return function If(){return(0,ro.J)(1)}()((0,cn.D)(n,(0,Zi.yG)(n)))}var Fr=Z(4482);function rs(...n){const e=(0,Zi.yG)(n);return(0,Fr.e)((t,r)=>{(e?Cs(n,t,e):Cs(n,t)).subscribe(r)})}var wr=Z(5403);function Es(){return(0,Fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,wr.x)(e,s=>{const l=t;t=s,r&&e.next([l,s]),r=!0}))})}var Ct=Z(4004);function Do(n,e,t,r,s){return(l,c)=>{let f=t,y=e,v=0;l.subscribe((0,wr.x)(c,C=>{const E=v++;y=f?n(y,C,E):(f=!0,C),r&&c.next(y)},s&&(()=>{f&&c.next(y),c.complete()})))}}function So(n,e){return(0,Fr.e)(Do(n,e,arguments.length>=2,!0))}var Ts=Z(4671);function io(n,e){return n===e}function Ur(n,e){return(0,Fr.e)((t,r)=>{let s=0;t.subscribe((0,wr.x)(r,l=>n.call(e,l,s++)&&r.next(l)))})}Z(1451);var dt,yu=Z(3942),Se=Z(5861),Is=Z(9681),ji=Z(4859),zr=Z(1877),jt=Z(2090),oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_i={},Oi=Oi||{},Vt=oi||self;function ml(){}function tn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function As(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Xd="closure_uid_"+(1e9*Math.random()>>>0),dg=0;function Af(n,e,t){return n.call.apply(n.bind,arguments)}function hg(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Vr(n,e,t){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Af:hg).apply(null,arguments)}function is(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,l){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[s].apply(r,c)}}function Sa(){this.s=this.s,this.o=this.o}var eh={};Sa.prototype.s=!1,Sa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Yy(n){return Object.prototype.hasOwnProperty.call(n,Xd)&&n[Xd]||(n[Xd]=++dg)}(this);delete eh[n]}},Sa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Df=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in s&&e.call(t,s[l],l,n)};function Wr(n){return Array.prototype.concat.apply([],arguments)}function ai(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vl(n){return/^[\s\xa0]*$/.test(n)}var br,xo=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ur(n,e){return-1!=n.indexOf(e)}function xa(n,e){return n<e?-1:n>e?1:0}e:{var vu=Vt.navigator;if(vu){var fg=vu.userAgent;if(fg){br=fg;break e}}br=""}function _u(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Mo(n){const e={};for(const t in n)e[t]=n[t];return e}var tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ma(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let l=0;l<tr.length;l++)t=tr[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function so(n){return so[" "](n),n}so[" "]=ml;var Po,n,wu=ur(br,"Opera"),ss=ur(br,"Trident")||ur(br,"MSIE"),_l=ur(br,"Edge"),wl=_l||ss,bu=ur(br,"Gecko")&&!(ur(br.toLowerCase(),"webkit")&&!ur(br,"Edge"))&&!(ur(br,"Trident")||ur(br,"MSIE"))&&!ur(br,"Edge"),bl=ur(br.toLowerCase(),"webkit")&&!ur(br,"Edge");function Sf(){var n=Vt.document;return n?n.documentMode:void 0}e:{var Cl="",Cu=(n=br,bu?/rv:([^\);]+)(\)|;)/.exec(n):_l?/Edge\/([\d\.]+)/.exec(n):ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bl?/WebKit\/(\S+)/.exec(n):wu?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cu&&(Cl=Cu?Cu[1]:""),ss){var Ds=Sf();if(null!=Ds&&Ds>parseFloat(Cl)){Po=String(Ds);break e}}Po=Cl}var oo={};var xs=Vt.document&&ss&&(Sf()||parseInt(Po,10))||void 0,Eu=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",ml,e),Vt.removeEventListener("test",ml,e)}catch{}return n}();function _n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ms(n,e){if(_n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bu){e:{try{so(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ih[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ms.Z.h.call(this)}}_n.prototype.h=function(){this.defaultPrevented=!0},Gr(Ms,_n);var ih={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),vc=0;function sh(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++vc,this.ca=this.fa=!1}function El(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function D(n){this.src=n,this.g={},this.h=0}function S(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],s=yl(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(El(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function k(n,e,t,r){for(var s=0;s<n.length;++s){var l=n[s];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return s}return-1}D.prototype.add=function(n,e,t,r,s){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=k(n,e,r,s);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new sh(e,this.src,l,!!r,s)).fa=t,n.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),ie={};function he(n,e,t,r,s){if(r&&r.once)return Dt(n,e,t,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)he(n,e[l],t,r,s);return null}return t=wi(t),n&&n[In]?n.N(e,t,As(r)?!!r.capture:!!r,s):Fe(n,e,t,!1,r,s)}function Fe(n,e,t,r,s,l){if(!e)throw Error("Invalid event type");var c=As(s)?!!s.capture:!!s,f=Yr(n);if(f||(n[H]=f=new D(n)),(t=f.add(e,t,r,c,l)).proxy)return t;if(r=function tt(){var e=cr;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Eu||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(It(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Dt(n,e,t,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Dt(n,e[l],t,r,s);return null}return t=wi(t),n&&n[In]?n.O(e,t,As(r)?!!r.capture:!!r,s):Fe(n,e,t,!0,r,s)}function Ft(n,e,t,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ft(n,e[l],t,r,s);else r=As(r)?!!r.capture:!!r,t=wi(t),n&&n[In]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=k(l=n.g[e],t,r,s))&&(El(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Yr(n))&&(e=n.g[e.toString()],n=-1,e&&(n=k(e,t,r,s)),(t=-1<n?e[n]:null)&&Ut(t))}function Ut(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[In])S(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(It(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Yr(e))?(S(t,n),0==t.h&&(t.src=null,e[H]=null)):El(n)}}}function It(n){return n in ie?ie[n]:ie[n]="on"+n}function cr(n,e){if(n.ca)n=!0;else{e=new Ms(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ut(n),n=t.call(r,e)}return n}function Yr(n){return(n=n[H])instanceof D?n:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function wi(n){return"function"==typeof n?n:(n[Oo]||(n[Oo]=function(e){return n.handleEvent(e)}),n[Oo])}function wn(){Sa.call(this),this.i=new D(this),this.P=this,this.I=null}function Mr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _n(e,n);else if(e instanceof _n)e.target=e.target||n;else{var s=e;Ma(e=new _n(r,n),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];s=Pa(c,r,!0,e)&&s}if(s=Pa(c=e.g=n,r,!0,e)&&s,s=Pa(c,r,!1,e)&&s,t)for(l=0;l<t.length;l++)s=Pa(c=e.g=t[l],r,!1,e)&&s}function Pa(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var f=c.listener,y=c.ia||c.src;c.fa&&S(n.i,c),s=!1!==f.call(y,r)&&s}}return s&&!r.defaultPrevented}Gr(wn,Sa),wn.prototype[In]=!0,wn.prototype.removeEventListener=function(n,e,t,r){Ft(this,n,e,t,r)},wn.prototype.M=function(){if(wn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)El(t[r]);delete n.g[e],n.h--}}this.I=null},wn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var os=Vt.JSON.stringify;function No(){var n=Jy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wc,_c=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new xf,n=>n.reset());class xf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ky(n){Vt.setTimeout(()=>{throw n},0)}function Tu(n,e){wc||function Qy(){var n=Vt.Promise.resolve(void 0);wc=function(){n.then(pg)}}(),Il||(wc(),Il=!0),Jy.add(n,e)}var Il=!1,Jy=new class Tl{constructor(){this.h=this.g=null}add(e,t){const r=_c.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function pg(){for(var n;n=No();){try{n.h.call(n.g)}catch(t){Ky(t)}var e=_c;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Il=!1}function Mf(n,e){wn.call(this),this.h=n||1,this.g=e||Vt,this.j=Vr(this.kb,this),this.l=Date.now()}function bc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Pf(n,e,t){if("function"==typeof n)t&&(n=Vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Of(n){n.g=Pf(()=>{n.g=null,n.i&&(n.i=!1,Of(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gr(Mf,wn),(dt=Mf.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mr(this,"tick"),this.da&&(bc(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Mf.Z.M.call(this),bc(this),delete this.g};class oh extends Sa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Of(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(n){Sa.call(this),this.h=n,this.g={}}Gr(Al,Sa);var ko=[];function gg(n,e,t,r){Array.isArray(t)||(t&&(ko[0]=t.toString()),t=ko);for(var s=0;s<t.length;s++){var l=he(e,t[s],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function mg(n){_u(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ut(e)},n),n.g={}}function Nf(){this.g=!0}function Oa(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vg(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<s.length;c++)s[c]=""}}}return os(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Al.prototype.M=function(){Al.Z.M.call(this),mg(this)},Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nf.prototype.Aa=function(){this.g=!1},Nf.prototype.info=function(){};var Na={},_g=null;function Iu(){return _g=_g||new wn}function wg(n){_n.call(this,Na.Ma,n)}function Dl(n){const e=Iu();Mr(e,new wg(e,n))}function bg(n,e){_n.call(this,Na.STAT_EVENT,n),this.stat=e}function qn(n){const e=Iu();Mr(e,new bg(e,n))}function Au(n,e){_n.call(this,Na.Na,n),this.size=e}function Sl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Na.Ma="serverreachability",Gr(wg,_n),Na.STAT_EVENT="statevent",Gr(bg,_n),Na.Na="timingevent",Gr(Au,_n);var Rf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lf(){}function ev(){}Lf.prototype.h=null;var Ff,Du={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Eg(){_n.call(this,"d")}function Ro(){_n.call(this,"c")}function lh(){}function Su(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Al(this),this.P=xu,this.W=new Mf(n=wl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tg}function Tg(){this.i=null,this.g="",this.h=!1}Gr(Eg,_n),Gr(Ro,_n),Gr(lh,Lf),lh.prototype.g=function(){return new XMLHttpRequest},lh.prototype.i=function(){return{}},Ff=new lh;var xu=45e3,uh={},Hi={};function Lo(n,e,t){n.K=1,n.v=Ou(Fo(e)),n.s=t,n.U=!0,Uf(n,null)}function Uf(n,e){n.F=Date.now(),ch(n),n.A=Fo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),bi(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Tg,n.g=cv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new oh(Vr(n.Ia,n,n.g),n.O)),gg(n.V,n.g,"readystatechange",n.gb),e=n.H?Mo(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Dl(1),function ah(n,e,t,r,s,l){n.info(function(){if(n.g)if(l)for(var c="",f=l.split("&"),y=0;y<f.length;y++){var v=f[y].split("=");if(1<v.length){var C=v[0];v=v[1];var E=C.split("_");c=2<=E.length&&"type"==E[1]?c+(C+"=")+v+"&":c+(C+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Vf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Cc(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=kw(n,t),s==Hi){4==e&&(n.o=4,qn(14),r=!1),Oa(n.j,n.m,null,"[Incomplete Response]");break}if(s==uh){n.o=4,qn(15),Oa(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Oa(n.j,n.m,s,null),dh(n,s)}Vf(n)&&s!=Hi&&s!=uh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),qf(e),e.L=!0,qn(11))):(Oa(n.j,n.m,t,"[Invalid Chunked Response]"),ao(n),xl(n))}function kw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Hi:(t=Number(e.substring(t,r)),isNaN(t)?uh:(r+=1)+t>e.length?Hi:(e=e.substr(r,t),n.C=r+t,e))}function ch(n){n.Y=Date.now()+n.P,tv(n,n.P)}function tv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sl(Vr(n.eb,n),e)}function Mu(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function xl(n){0==n.l.G||n.I||lv(n.l,n)}function ao(n){Mu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,bc(n.W),mg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function dh(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Vo(t.i,n)))if(t.I=n.N,!n.J&&Vo(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;kc(t),Ni(t)}Rl(t),qn(18)}}else t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Sl(Vr(t.ab,t),6e3));if(1>=gh(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Rc(t,11)}else if((n.J||t.g==n)&&kc(t),!vl(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let v=s[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const C=v[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const E=v[4];null!=E&&(t.za=E,t.h.info("SVER="+t.za));const A=v[5];null!=A&&"number"==typeof A&&0<A&&(t.K=r=1.5*A,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const P=n.g;if(P){const O=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var l=r.i;!l.g&&(ur(O,"spdy")||ur(O,"quic")||ur(O,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(uo(l,l.h),l.h=null))}if(r.D){const U=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(r.sa=U,Bn(r.F,r.D,U))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=kg(r,r.H?r.la:null,r.W),c.J){Mc(r.i,c);var f=c,y=r.K;y&&f.setTimeout(y),f.B&&(Mu(f),ch(f)),r.g=c}else Ng(r);0<t.l.length&&Ra(t)}else"stop"!=v[0]&&"close"!=v[0]||Rc(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Rc(t,7):dr(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}Dl(4)}catch{}}function hh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(tn(n)||"string"==typeof n)Df(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(tn(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function Rw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(tn(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var l=0;l<s;l++)e.call(void 0,r[l],t&&t[l],n)}}function ka(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ka)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ec(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ml(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)Ml(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function Ml(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Su.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==J(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const C=J(this.g);var e=this.g.Da();const E=this.g.ba();if(!(3>C)&&(3!=C||wl||this.g&&(this.h.h||this.g.ga()||ye(this.g)))){this.I||4!=C||7==e||Dl(8==e||0>=E?3:2),Mu(this);var t=this.g.ba();this.N=t;t:if(Vf(this)){var r=ye(this.g);n="";var s=r.length,l=4==J(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),xl(this);var c="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function kf(n,e,t,r,s,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,qn(12),ao(this),xl(this);break e}Oa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dh(this,t)}this.U?(Cc(this,C,c),wl&&this.i&&3==C&&(gg(this.V,this.W,"tick",this.fb),this.W.start())):(Oa(this.j,this.m,c,null),dh(this,c)),4==C&&ao(this),this.i&&!this.I&&(4==C?lv(this.l,this):(this.i=!1,ch(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),ao(this),xl(this)}}}catch{}},dt.fb=function(){if(this.g){var n=J(this.g),e=this.g.ga();this.C<e.length&&(Mu(this),Cc(this,n,e),this.i&&4!=n&&ch(this))}},dt.cancel=function(){this.I=!0,ao(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dl(3),qn(17)),ao(this),this.o=2,xl(this)):tv(this,this.Y-n)},(dt=ka.prototype).R=function(){Ec(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return Ec(this),this.g.concat()},dt.get=function(n,e){return Ml(this.h,n)?this.h[n]:e},dt.set=function(n,e){Ml(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],l=this.get(s);n.call(e,l,s,this)}};var Ig=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof lo){this.g=void 0!==e?e:n.g,Pu(this,n.j),this.s=n.s,Ic(this,n.i),zn(this,n.m),this.l=n.l,e=n.h;var t=new Ol;t.i=e.i,e.g&&(t.g=new ka(e.g),t.h=e.h),Ag(this,t),this.o=n.o}else n&&(t=String(n).match(Ig))?(this.g=!!e,Pu(this,t[1]||"",!0),this.s=ku(t[2]||""),Ic(this,t[3]||"",!0),zn(this,t[4]),this.l=ku(t[5]||"",!0),Ag(this,t[6]||"",!0),this.o=ku(t[7]||"")):(this.g=!!e,this.h=new Ol(null,this.g))}function Fo(n){return new lo(n)}function Pu(n,e,t){n.j=t?ku(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ic(n,e,t){n.i=t?ku(e,!0):e}function zn(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ag(n,e,t){e instanceof Ol?(n.h=e,function fh(n,e){e&&!n.j&&(Uo(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Sc(this,r),bi(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ac(e,Pl)),n.h=new Ol(e,n.g))}function Bn(n,e,t){n.h.set(e,t)}function Ou(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ku(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ac(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ac(e,Dg,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ac(e,Dg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ac(t,"/"==t.charAt(0)?iv:Lw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ac(t,Dc)),n.join("")};var Dg=/[#\/\?@]/g,Lw=/[#\?:]/g,iv=/[#\?]/g,Pl=/[#\?@]/g,Dc=/#/g;function Ol(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uo(n){n.g||(n.g=new ka,n.h=0,n.i&&function Tc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var l=n[t].substring(0,r);s=n[t].substring(r+1)}else l=n[t];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sc(n,e){Uo(n),e=Ps(n,e),Ml(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ml((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ec(n)))}function Sg(n,e){return Uo(n),e=Ps(n,e),Ml(n.g.h,e)}function bi(n,e,t){Sc(n,e),0<t.length&&(n.i=null,n.g.set(Ps(n,e),ai(t)),n.h+=t.length)}function Ps(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ph(n){this.l=n||xc,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Ol.prototype).add=function(n,e){Uo(this),this.i=null,n=Ps(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Uo(this),this.g.forEach(function(t,r){Df(t,function(s){n.call(e,s,r,this)},this)},this)},dt.T=function(){Uo(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],l=0;l<s.length;l++)t.push(e[r]);return t},dt.R=function(n){Uo(this);var e=[];if("string"==typeof n)Sg(this,n)&&(e=Wr(e,this.g.get(Ps(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Wr(e,n[t])}return e},dt.set=function(n,e){return Uo(this),this.i=null,Sg(this,n=Ps(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=s;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var xc=10;function Bf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gh(n){return n.h?1:n.g?n.g.size:0}function Vo(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uo(n,e){n.g?n.g.add(e):n.h=e}function Mc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pc(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ai(n.i)}function $f(){}function Zf(){this.g=new $f}function Oc(n,e,t){const r=t||"";try{hh(n,function(s,l){let c=s;As(s)&&(c=os(s)),e.push(r+l+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Nl(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Bo(n){this.l=n.$b||null,this.j=n.ib||!1}function mh(n,e){wn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Os,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ph.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$f.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},$f.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Gr(Bo,Lf),Bo.prototype.g=function(){return new mh(this.l,this.j)},Bo.prototype.i=function(n){return function(){return n}}({}),Gr(mh,wn);var Os=0;function kl(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ns(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ru(n)}function Ru(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=mh.prototype).open=function(n,e){if(this.readyState!=Os)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ru(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ns(this)),this.readyState=Os},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ru(this)),this.g&&(this.readyState=3,Ru(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kl(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ns(this):Ru(this),3==this.readyState&&kl(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Ns(this))},dt.Ta=function(n){this.g&&(this.response=n,Ns(this))},dt.ha=function(){this.g&&Ns(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sv=Vt.JSON.parse;function nr(n){wn.call(this),this.headers=new ka,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xg,this.K=this.L=!1}Gr(nr,wn);var xg="",jf=/^https?$/i,ov=["POST","PUT"];function _(n){return"content-type"==n.toLowerCase()}function p(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,m(n),M(n)}function m(n){n.D||(n.D=!0,Mr(n,"complete"),Mr(n,"error"))}function b(n){if(n.h&&typeof Oi<"u"&&(!n.C[1]||4!=J(n)||2!=n.ba()))if(n.v&&4==J(n))Pf(n.Fa,0,n);else if(Mr(n,"readystatechange"),4==J(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var s=String(n.H).match(Ig)[1]||null;if(!s&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;s=l.substr(0,l.length-1)}r=!jf.test(s?s.toLowerCase():"")}t=r}if(t)Mr(n,"complete"),Mr(n,"success");else{n.m=6;try{var c=2<J(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",m(n)}}finally{M(n)}}}function M(n,e){if(n.g){L(n);const t=n.g,r=n.C[0]?ml:null;n.g=null,n.C=null,e||Mr(n,"ready");try{t.onreadystatechange=r}catch{}}}function L(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function J(n){return n.g?n.g.readyState:0}function ye(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ft(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Ke(n){let e="";return _u(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function St(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xt(n){this.za=0,this.l=[],this.h=new Nf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=St("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=St("baseRetryDelayMs",5e3,n),this.$a=St("retryDelaySeedMs",1e4,n),this.Ya=St("forwardChannelMaxRetries",2,n),this.ra=St("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ph(n&&n.concurrentRequestLimit),this.Ca=new Zf,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function dr(n){if(Lu(n),3==n.G){var e=n.V++,t=Fo(n.F);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),$o(n,t),(e=new Su(n,n.h,e,void 0)).K=2,e.v=Ou(Fo(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=cv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ch(e)}uv(n)}function Ni(n){n.g&&(qf(n),n.g.cancel(),n.g=null)}function Lu(n){Ni(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),kc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function Nc(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Ra(n)}function Ra(n){Bf(n.i)||n.m||(n.m=!0,Tu(n.Ha,n),n.C=0)}function Hf(n,e){var t;t=e?e.m:n.V++;const r=Fo(n.F);Bn(r,"SID",n.J),Bn(r,"RID",t),Bn(r,"AID",n.U),$o(n,r),n.o&&n.s&&ft(r,n.o,n.s),t=new Su(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Og(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),uo(n.i,t),Lo(t,r,e)}function $o(n,e){n.j&&hh({},function(t,r){Bn(e,r,t)})}function Og(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Vr(n.j.Oa,n.j,n):null;e:{var s=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=s[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let f=!0;for(let y=0;y<t;y++){let v=s[y].h;const C=s[y].g;if(v-=l,0>v)l=Math.max(0,s[y].h-100),f=!1;else try{Oc(C,c,"req"+v+"_")}catch{r&&r(C)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ng(n){n.g||n.u||(n.Y=1,Tu(n.Ga,n),n.A=0)}function Rl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Sl(Vr(n.Ga,n),x1(n,n.A)),n.A++,0))}function qf(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function av(n){n.g=new Su(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Fo(n.oa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.N?"0":"1"),Bn(e,"AID",n.U),$o(n,e),Bn(e,"TYPE","xmlhttp"),n.o&&n.s&&ft(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ou(Fo(e)),t.s=null,t.U=!0,Uf(t,n)}function kc(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function lv(n,e){var t=null;if(n.g==e){kc(n),qf(n),n.g=null;var r=2}else{if(!Vo(n.i,e))return;t=e.D,Mc(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Mr(r=Iu(),new Au(r,t,e,s)),Ra(n)}else Ng(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function Pg(n,e){return!(gh(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Sl(Vr(n.Ha,n,e),x1(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Rc(n,5);break;case 4:Rc(n,10);break;case 3:Rc(n,6);break;default:Rc(n,2)}}function x1(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Rc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Vr(n.jb,n);t||(t=new lo("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||Pu(t,"https"),Ou(t)),function Cr(n,e){const t=new Nf;if(Vt.Image){const r=new Image;r.onload=is(Nl,t,r,"TestLoadImage: loaded",!0,e),r.onerror=is(Nl,t,r,"TestLoadImage: error",!1,e),r.onabort=is(Nl,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=is(Nl,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qn(2);n.G=0,n.j&&n.j.va(e),uv(n),Lu(n)}function uv(n){n.G=0,n.I=-1,n.j&&((0!=Pc(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ai(n.l),n.l.length=0),n.j.ua())}function kg(n,e,t){let r=function Nu(n){return n instanceof lo?Fo(n):new lo(n,void 0)}(t);if(""!=r.i)e&&Ic(r,e+"."+r.i),zn(r,r.m);else{const s=Vt.location;r=function nv(n,e,t,r){var s=new lo(null,void 0);return n&&Pu(s,n),e&&Ic(s,e),t&&zn(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&_u(n.aa,function(s,l){Bn(r,l,s)}),t=n.sa,(e=n.D)&&t&&Bn(r,e,t),Bn(r,"VER",n.ma),$o(n,r),r}function cv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Ba&&!n.qa?new Bo({ib:!0}):n.qa)).L=n.H,e}function dv(){}function zf(){if(ss&&!(10<=Number(xs)))throw Error("Environmental error: no available transport.")}function qi(n,e){wn.call(this),this.g=new xt(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!vl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new La(this)}function Uw(n){Eg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Rg(){Ro.call(this),this.status=1}function La(n){this.g=n}(dt=nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ff.g(),this.C=function Xy(n){return n.h||(n.h=n.i())}(this.u?this.u:Ff),this.g.onreadystatechange=Vr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void p(this,l)}n=t||"";const s=new ka(this.headers);r&&hh(r,function(l,c){s.set(c,l)}),r=function th(n){e:{var e=_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=yl(ov,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L(this),0<this.B&&((this.K=function Mg(n){return ss&&function Ss(){return function nh(n){var e=oo;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=xo(String(Po)).split("."),t=xo("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var s=e[c]||"",l=t[c]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;n=xa(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||xa(0==s[2].length,0==l[2].length)||xa(s[2],l[2]),s=s[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.pa,this)):this.A=Pf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){p(this,l)}},dt.pa=function(){typeof Oi<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mr(this,"complete"),Mr(this,"abort"),M(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),M(this,!0)),nr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?b(this):this.cb())},dt.cb=function(){b(this)},dt.ba=function(){try{return 2<J(this)?this.g.status:-1}catch{return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sv(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=xt.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new Su(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Mo(l),Ma(l,this.P)):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Og(this,s,e),Bn(t=Fo(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),$o(this,t),this.o&&l&&ft(t,this.o,l),uo(this.i,s),this.Ra&&Bn(t,"TYPE","init"),this.ja?(Bn(t,"$req",e),Bn(t,"SID","null"),s.$=!0,Lo(s,t,null)):Lo(s,t,e),this.G=2}}else 3==this.G&&(n?Hf(this,n):0==this.l.length||Bf(this.i)||Hf(this))},dt.Ga=function(){if(this.u=null,av(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Sl(Vr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),Ni(this),av(this))},dt.ab=function(){null!=this.v&&(this.v=null,Ni(this),Rl(this),qn(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))},(dt=dv.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},zf.prototype.g=function(n,e){return new qi(n,e)},Gr(qi,wn),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Tu(Vr(n.hb,n,e))),qn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=kg(n,null,n.W),Ra(n)},qi.prototype.close=function(){dr(this.g)},qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Nc(this.g,e)}else this.v?((e={}).__data__=os(n),Nc(this.g,e)):Nc(this.g,n)},qi.prototype.M=function(){this.g.j=null,delete this.j,dr(this.g),delete this.g,qi.Z.M.call(this)},Gr(Uw,Eg),Gr(Rg,Ro),Gr(La,dv),La.prototype.xa=function(){Mr(this.g,"a")},La.prototype.wa=function(n){Mr(this.g,new Uw(n))},La.prototype.va=function(n){Mr(this.g,new Rg(n))},La.prototype.ua=function(){Mr(this.g,"b")},zf.prototype.createWebChannel=zf.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Rf.NO_ERROR=0,Rf.TIMEOUT=8,Rf.HTTP_ERROR=6,Cg.COMPLETE="complete",ev.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",wn.prototype.listen=wn.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.La,nr.prototype.getLastErrorCode=nr.prototype.Da,nr.prototype.getStatus=nr.prototype.ba,nr.prototype.getResponseJson=nr.prototype.Qa,nr.prototype.getResponseText=nr.prototype.ga,nr.prototype.send=nr.prototype.ea;var M1=_i.createWebChannelTransport=function(){return new zf},P1=_i.getStatEventTarget=function(){return Iu()},hv=_i.ErrorCode=Rf,Vw=_i.EventType=Cg,O1=_i.Event=Na,Bw=_i.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},N1=_i.FetchXmlHttpFactory=Bo,Lg=_i.WebChannel=ev,fv=_i.XhrIo=nr;const $w="@firebase/firestore";class li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let yh="9.9.2";const Ll=new zr.Yd("@firebase/firestore");function pv(){return Ll.logLevel}function Ve(n,...e){if(Ll.logLevel<=zr.in.DEBUG){const t=e.map(Gf);Ll.debug(`Firestore (${yh}): ${n}`,...t)}}function hr(n,...e){if(Ll.logLevel<=zr.in.ERROR){const t=e.map(Gf);Ll.error(`Firestore (${yh}): ${n}`,...t)}}function Fu(n,...e){if(Ll.logLevel<=zr.in.WARN){const t=e.map(Gf);Ll.warn(`Firestore (${yh}): ${n}`,...t)}}function Gf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function Rt(n,e){n||rt()}function ut(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(li.UNAUTHENTICATED))}shutdown(){}}class Zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class L1{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const l=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let c=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ui,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,Se.Z)(function*(){yield v.promise,yield l(r.currentUser)}))},y=v=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new mv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new li(e)}}class F1{constructor(e,t,r){this.type="FirstParty",this.user=li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class U1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new F1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?s(l):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.p=t.token,new jw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vh(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Fa{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=vh(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function _h(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function B1(n){return n+"\0"}class fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new fr(0,0))}static max(){return new Bt(new fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fg{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=e.get(s),c=t.get(s);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends Fg{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Fg{construct(e,t,r){return new rr(e,t,r)}static isValidIdentifier(e){return yv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(0===r.length)throw new je(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const f=e[s];if("\\"===f){if(s+1===e.length)throw new je(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new je(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,s+=2}else"`"===f?(c=!c,s++):"."!==f||c?(r+=f,s++):(l(),s++)}if(l(),c)throw new je(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(Kt.fromString(e))}static fromName(e){return new st(Kt.fromString(e).popFirst(5))}static empty(){return new st(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Kt(e.slice()))}}class Wf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function vv(n){return n.fields.find(e=>2===e.kind)}function Zo(n){return n.fields.filter(e=>2!==e.kind)}Wf.UNKNOWN_ID=-1;class Yf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lc(0,ci.min())}}function wv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(1e9===r?new fr(t+1,0):new fr(t,r));return new ci(s,st.empty(),e)}function Z1(n){return new ci(n.readTime,n.key,-1)}class ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ci(Bt.min(),st.empty(),-1)}static max(){return new ci(Bt.max(),st.empty(),-1)}}function Kf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ua(n){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,Se.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==bv)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),Cv.apply(this,arguments)}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let s=0,l=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++l,c&&l===s&&t()},y=>r(y))}),c=!0,l===s&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(s=>s?ge.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,s)=>{const l=e.length,c=new Array(l);let f=0;for(let y=0;y<l;y++){const v=y;t(e[v]).next(C=>{c[v]=C,++f,f===l&&r(c)},C=>s(C))}})}static doWhile(e,t){return new ge((r,s)=>{const l=()=>{!0===e()?t().next(()=>{l()},s):r()};l()})}}class Ug{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ui,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Qf(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const s=Tv(r.target.error);this.T.reject(new Qf(e,s))}}static open(e,t,r,s){try{return new Ug(t,e.transaction(s,r))}catch(l){throw new Qf(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ev(t)}}class jo{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===jo.v((0,jt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Uu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,jt.hl)())return!1;if(jo.S())return!0;const e=(0,jt.z$)(),t=jo.v(e),r=0<t&&t<10,s=jo.D(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{s(new Qf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const f=c.target.error;s("VersionError"===f.name?new je(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new je(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Qf(e,f))},l.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.M(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var l=this;return(0,Se.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.k(e);const y=Ug.open(l.db,e,c?"readonly":"readwrite",r),v=s(y).next(C=>(y.R(),C)).catch(C=>(y.abort(C),ge.reject(C))).toPromise();return v.catch(()=>{}),yield y.A,v}catch(y){const v=y,C="FirebaseError"!==v.name&&f<3;if(Ve("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),l.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class j1{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Uu(this.$.delete())}}class Qf extends je{constructor(e,t){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fl(n){return"IndexedDbTransactionError"===n.name}class Ev{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uu(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Uu(this.store.add(e))}get(e){return Uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Uu(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Uu(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),l=[];return this.G(s,(c,f)=>{l.push(f)}).next(()=>l)}{const s=this.store.getAll(r.range);return new ge((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((s,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}W(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const s=this.cursor(r);return this.G(s,(l,c,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.G(s,t)}Y(e){const t=this.cursor({});return new ge((r,s)=>{t.onerror=l=>{const c=Tv(l.target.error);s(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}G(e,t){const r=[];return new ge((s,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void s();const y=new j1(f),v=t(f.primaryKey,f.value,y);if(v instanceof ge){const C=v.catch(E=>(y.done(),ge.reject(E)));r.push(C)}y.isDone?s():null===y.U?f.continue():f.continue(y.U)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uu(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Tv(r.target.error);t(s)}})}let Vg=!1;function Tv(n){const e=jo.v((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vg||(Vg=!0,setTimeout(()=>{throw r},0)),r}}return n}class H1{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Fl(r)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ua(r)}yield t.Z(1)}))}}class qw{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let s=t,l=!0;return ge.doWhile(()=>!0===l&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ve("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,s).next(f=>{s-=f,r.add(c)});l=!1})).next(()=>t-s)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(s,l)).next(f=>(Ve("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((s,l)=>{const c=Z1(l);Kf(c,r)>0&&(r=c)}),new ci(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Vu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Iv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}zi.ot=-1;class Er{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Av(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Av(this.root,e,this.comparator,!1)}getReverseIterator(){return new Av(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Av(this.root,e,this.comparator,!0)}}class Av{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??Br.RED,this.left=s??Br.EMPTY,this.right=l??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Br(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Br.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fc(n){return n.hasNext()?n.getNext():void 0}class as{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new as([])}unionWith(e){let t=new Mn(rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new as(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _h(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const Bg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=Bg.exec(n);if(Rt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ul(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function $g(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zg(n){const e=n.mapValue.fields.__previous_value__;return $g(e)?Zg(e):e}function Vl(n){const e=Ho(n.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}class q1{constructor(e,t,r,s,l,c,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}function Jf(n){return null==n}function Xf(n){return 0===n&&1/n==-1/0}function xv(n){return"number"==typeof n&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ep={nullValue:"NULL_VALUE"};function wh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$g(n)?4:Yw(n)?9007199254740991:10:rt()}function qo(n,e){if(n===e)return!0;const t=wh(n);if(t!==wh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=Ho(r.timestampValue),c=Ho(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ul(n.bytesValue).isEqual(Ul(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return pr(r.geoPointValue.latitude)===pr(s.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pr(r.integerValue)===pr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=pr(r.doubleValue),c=pr(s.doubleValue);return l===c?Xf(l)===Xf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return _h(n.arrayValue.values||[],e.arrayValue.values||[],qo);case 10:return function(r,s){const l=r.mapValue.fields||{},c=s.mapValue.fields||{};if(Vu(l)!==Vu(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===c[f]||!qo(l[f],c[f])))return!1;return!0}(n,e);default:return rt()}var s}function tp(n,e){return void 0!==(n.values||[]).find(t=>qo(t,e))}function Bl(n,e){if(n===e)return 0;const t=wh(n),r=wh(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(s,l){const c=pr(s.integerValue||s.doubleValue),f=pr(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return zw(n.timestampValue,e.timestampValue);case 4:return zw(Vl(n),Vl(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(s,l){const c=Ul(s),f=Ul(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),f=l.split("/");for(let y=0;y<c.length&&y<f.length;y++){const v=Ht(c[y],f[y]);if(0!==v)return v}return Ht(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const c=Ht(pr(s.latitude),pr(l.latitude));return 0!==c?c:Ht(pr(s.longitude),pr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const c=s.values||[],f=l.values||[];for(let y=0;y<c.length&&y<f.length;++y){const v=Bl(c[y],f[y]);if(v)return v}return Ht(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===Ba.mapValue&&l===Ba.mapValue)return 0;if(s===Ba.mapValue)return 1;if(l===Ba.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),y=l.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const E=Ht(f[C],v[C]);if(0!==E)return E;const A=Bl(c[f[C]],y[v[C]]);if(0!==A)return A}return Ht(f.length,v.length)}(n.mapValue,e.mapValue);default:throw rt()}}function zw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Ho(n),r=Ho(e),s=Ht(t.seconds,r.seconds);return 0!==s?s:Ht(t.nanos,r.nanos)}function bh(n){return ks(n)}function ks(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Ho(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ul(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",l=!0;for(const c of r.values||[])l?l=!1:s+=",",s+=ks(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${ks(r.fields[f])}`;return l+"}"}(n.mapValue):rt();var e}function Uc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jg(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function Gw(n){return!!n&&"nullValue"in n}function Ww(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hg(n){return!!n&&"mapValue"in n}function Ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ch(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function z1(n){return"nullValue"in n?ep:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uc(Va.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function G1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uc(Va.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ba:rt()}function qt(n,e){const t=Bl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Mv(n,e){const t=Bl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(t)}setAll(e){let t=rr.emptyPath(),r={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,s),r={},s=[],t=f.popLast()}c?r[f.lastSegment()]=Ch(c):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Hg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Bu(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new di(Ch(this.value))}}function Pv(n){const e=[];return Bu(n.fields,(t,r)=>{const s=new rr([t]);if(Hg(r)){const l=Pv(r.mapValue).fields;if(0===l.length)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new as(e)}class $n{constructor(e,t,r,s,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new $n(e,0,Bt.min(),Bt.min(),di.empty(),0)}static newFoundDocument(e,t,r){return new $n(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new $n(e,2,t,Bt.min(),di.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,Bt.min(),di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class W1{constructor(e,t=null,r=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.ut=null}}function Ov(n,e=null,t=[],r=[],s=null,l=null,c=null){return new W1(n,e,t,r,s,l,c)}function Vc(n){const e=ut(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+bh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Jf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bh(r)).join(",")),e.ut=t}return e.ut}function rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!Q1(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!qo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jw(n.startAt,e.startAt)&&Jw(n.endAt,e.endAt)}function qg(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Nv(n,e){return n.filters.filter(t=>t instanceof gr&&t.field.isEqual(e))}function kv(n,e,t){let r=ep,s=!0;for(const l of Nv(n,e)){let c=ep,f=!0;switch(l.op){case"<":case"<=":c=z1(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=ep}qt({value:r,inclusive:s},{value:c,inclusive:f})<0&&(r=c,s=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];qt({value:r,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}function Rv(n,e,t){let r=Ba,s=!0;for(const l of Nv(n,e)){let c=Ba,f=!0;switch(l.op){case">=":case">":c=G1(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Ba}Mv({value:r,inclusive:s},{value:c,inclusive:f})>0&&(r=c,s=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Mv({value:r,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}class gr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Y1(e,t,r):"array-contains"===t?new LD(e,r):"in"===t?new FD(e,r):"not-in"===t?new UD(e,r):"array-contains-any"===t?new K1(e,r):new gr(e,t,r)}static ct(e,t,r){return"in"===t?new Lv(e,r):new Fv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Bl(t,this.value)):null!==t&&wh(this.value)===wh(t)&&this.at(Bl(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Y1 extends gr{constructor(e,t,r){super(e,t,r),this.key=st.fromName(r.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.at(t)}}class Lv extends gr{constructor(e,t){super(e,"in",t),this.keys=Qw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fv extends gr{constructor(e,t){super(e,"not-in",t),this.keys=Qw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>st.fromName(r.referenceValue))}class LD extends gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&tp(t.arrayValue,this.value)}}class FD extends gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tp(this.value.arrayValue,t)}}class UD extends gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tp(this.value.arrayValue,t)}}class K1 extends gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tp(this.value.arrayValue,r))}}class $l{constructor(e,t){this.position=e,this.inclusive=t}}class ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Bc(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(r=l.field.isKeyField()?st.comparator(st.fromName(c.referenceValue),t.key):Bl(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Jw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qo(n.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t=null,r=[],s=[],l=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=y,this.lt=null,this.ft=null}}function sp(n,e,t,r,s,l,c,f){return new $a(n,e,t,r,s,l,c,f)}function Eh(n){return new $a(n)}function Uv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bv(n){for(const e of n.filters)if(e.ht())return e.field;return null}function $v(n){return null!==n.collectionGroup}function Th(n){const e=ut(n);if(null===e.lt){e.lt=[];const t=Bv(e),r=Vv(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new ip(t)),e.lt.push(new ip(rr.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ip(rr.keyField(),l))}}}return e.lt}function ls(n){const e=ut(n);if(!e.ft)if("F"===e.limitType)e.ft=Ov(e.path,e.collectionGroup,Th(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Th(e))t.push(new ip(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new $l(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new $l(e.startAt.position,e.startAt.inclusive):null;e.ft=Ov(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.ft}function op(n,e,t){return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return rp(ls(n),ls(e))&&n.limitType===e.limitType}function Zv(n){return`${Vc(ls(n))}|lt:${n.limitType}`}function zg(n){return`Query(target=${function Kw(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${bh(r.value)}`;var r}).join(", ")}]`),Jf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>bh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>bh(t)).join(",")),`Target(${e})`}(ls(n))}; limitType=${n.limitType})`}function lp(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):st.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,l,c){const f=Bc(s,l,c);return s.inclusive?f<=0:f<0}(t.startAt,Th(t),r)||t.endAt&&!function(s,l,c){const f=Bc(s,l,c);return s.inclusive?f>=0:f>0}(t.endAt,Th(t),r)));var t,r}function J1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Gg(n){return(e,t)=>{let r=!1;for(const s of Th(n)){const l=X1(s,e,t);if(0!==l)return l;r=r||s.field.isKeyField()}return 0}}function X1(n,e,t){const r=n.field.isKeyField()?st.comparator(e.key,t.key):function(s,l,c){const f=l.data.field(s),y=c.data.field(s);return null!==f&&null!==y?Bl(f,y):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function eT(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function $c(n){return{integerValue:""+n}}function jv(n,e){return xv(e)?$c(e):eT(n,e)}class up{constructor(){this._=void 0}}function Wg(n,e,t){return n instanceof Ih?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof Zl?Za(n,e):n instanceof jl?qv(n,e):function(r,s){const l=Hv(r,s),c=tT(l)+tT(r._t);return jg(l)&&jg(r._t)?$c(c):eT(r.wt,c)}(n,e)}function zo(n,e,t){return n instanceof Zl?Za(n,e):n instanceof jl?qv(n,e):t}function Hv(n,e){return n instanceof $u?jg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ih extends up{}class Zl extends up{constructor(e){super(),this.elements=e}}function Za(n,e){const t=zv(e);for(const r of n.elements)t.some(s=>qo(s,r))||t.push(r);return{arrayValue:{values:t}}}class jl extends up{constructor(e){super(),this.elements=e}}function qv(n,e){let t=zv(e);for(const r of n.elements)t=t.filter(s=>!qo(s,r));return{arrayValue:{values:t}}}class $u extends up{constructor(e,t){super(),this.wt=e,this._t=t}}function tT(n){return pr(n.integerValue||n.doubleValue)}function zv(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yg{constructor(e,t){this.field=e,this.transform=t}}class Qg{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dh{}function nT(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jc(n.key,Gn.none()):new Zc(n.key,n.data,Gn.none());{const t=n.data,r=di.empty();let s=new Mn(rr.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),s=s.add(l)}return new Zu(n.key,r,new as(s.toArray()),Gn.none())}}function rT(n,e,t){n instanceof Zc?function(r,s,l){const c=r.value.clone(),f=sT(r.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zu?function(r,s,l){if(!Ah(r.precondition,s))return void s.convertToUnknownDocument(l.version);const c=sT(r.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(eb(r)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cp(n,e,t,r){return n instanceof Zc?function(s,l,c,f){if(!Ah(s.precondition,l))return c;const y=s.value.clone(),v=Gv(s.fieldTransforms,f,l);return y.setAll(v),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zu?function(s,l,c,f){if(!Ah(s.precondition,l))return c;const y=Gv(s.fieldTransforms,f,l),v=l.data;return v.setAll(eb(s)),v.setAll(y),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,Ah(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function iT(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=Hv(r.transform,s||null);null!=l&&(null===t&&(t=di.empty()),t.set(r.field,l))}return t||null}function Xw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_h(t,r,(s,l)=>function Kg(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zl&&r instanceof Zl||t instanceof jl&&r instanceof jl?_h(t.elements,r.elements,qo):t instanceof $u&&r instanceof $u?qo(t._t,r._t):t instanceof Ih&&r instanceof Ih);var t,r}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Zc extends Dh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zu extends Dh{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sT(n,e,t){const r=new Map;Rt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);r.set(l.field,zo(c,f,t[s]))}return r}function Gv(n,e,t){const r=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);r.set(s.field,Wg(l,c,e))}return r}class jc extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wv extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yv{constructor(e){this.count=e}}var Kr,yn;function oT(n){switch(n){default:return rt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function aT(n){if(void 0===n)return hr("GRPC error has no .code"),we.UNKNOWN;switch(n){case Kr.OK:return we.OK;case Kr.CANCELLED:return we.CANCELLED;case Kr.UNKNOWN:return we.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return we.INTERNAL;case Kr.UNAVAILABLE:return we.UNAVAILABLE;case Kr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Kr.NOT_FOUND:return we.NOT_FOUND;case Kr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Kr.ABORTED:return we.ABORTED;case Kr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Kr.DATA_LOSS:return we.DATA_LOSS;default:return rt()}}(yn=Kr||(Kr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,l]of r)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}const VD=new Er(st.comparator);function Rs(){return VD}const lT=new Er(st.comparator);function Jg(...n){let e=lT;for(const t of n)e=e.insert(t.key,t);return e}function uT(n){let e=lT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ci(){return dp()}function Xg(){return dp()}function dp(){return new Hc(n=>n.toString(),(n,e)=>n.isEqual(e))}const tb=new Er(st.comparator),Kv=new Mn(st.comparator);function Qt(...n){let e=Kv;for(const t of n)e=e.add(t);return e}const Qv=new Mn(Ht);function em(){return Qv}class co{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,t)),new co(Bt.min(),r,em(),Rs(),Qt())}}class Sh{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Sh($r.EMPTY_BYTE_STRING,t,Qt(),Qt(),Qt())}}class tm{constructor(e,t,r,s){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=s}}class nm{constructor(e,t){this.targetId=e,this.It=t}}class nb{constructor(e,t,r=$r.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Jv{constructor(){this.Tt=0,this.Et=hp(),this.At=$r.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Qt(),t=Qt(),r=Qt();return this.Et.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new Sh(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=hp()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class cT{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Rs(),this.Bt=rb(),this.Lt=new Mn(Ht)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,s)=>{this.jt(s)&&t(s)})}zt(e){const t=e.targetId,r=e.It.count,s=this.Ht(t);if(s){const l=s.target;if(qg(l))if(0===r){const c=new st(l.path);this.Kt(t,c,$n.newNoDocument(c,Bt.min()))}else Rt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,c)=>{const f=this.Ht(c);if(f){if(l.current&&qg(f.target)){const y=new st(f.target.path);null!==this.$t.get(y)||this.Xt(c,y)||this.Kt(c,y,$n.newNoDocument(y,e))}l.vt&&(t.set(c,l.St()),l.Dt())}});let r=Qt();this.Bt.forEach((l,c)=>{let f=!0;c.forEachWhile(y=>{const v=this.Ht(y);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(e));const s=new co(e,t,this.Lt,this.$t,r);return this.$t=Rs(),this.Bt=rb(),this.Lt=new Mn(Ht),s}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,t)?s.Ct(t,1):s.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Jv,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Mn(Ht),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Jv),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function rb(){return new Er(st.comparator)}function hp(){return new Er(st.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},Xv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mh{constructor(e,t){this.databaseId=e,this.dt=t}}function ju(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ph(n,e){return n.dt?e.toBase64():e.toUint8Array()}function dT(n,e){return ju(n,e.toTimestamp())}function Qr(n){return Rt(!!n),Bt.fromTimestamp(function(e){const t=Ho(e);return new fr(t.seconds,t.nanos)}(n))}function rm(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function im(n){const e=Kt.fromString(n);return Rt(fb(e)),e}function qc(n,e){return rm(n.databaseId,e.path)}function Go(n,e){const t=im(e);if(t.get(1)!==n.databaseId.projectId)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(sb(t))}function fp(n,e){return rm(n.databaseId,e)}function ib(n){const e=im(n);return 4===e.length?Kt.emptyPath():sb(e)}function sm(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sb(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function e_(n,e,t){return{name:qc(n,e),fields:t.value.mapValue.fields}}function ob(n,e,t){const r=Go(n,e.name),s=Qr(e.updateTime),l=new di({mapValue:{fields:e.fields}}),c=$n.newFoundDocument(r,s,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function pp(n,e){let t;if(e instanceof Zc)t={update:e_(n,e.key,e.value)};else if(e instanceof jc)t={delete:qc(n,e.key)};else if(e instanceof Zu)t={update:e_(n,e.key,e.data),updateMask:mT(e.fieldMask)};else{if(!(e instanceof Wv))return rt();t={verify:qc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const c=l.transform;if(c instanceof Ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $u)return{fieldPath:l.field.canonicalString(),increment:c._t};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:dT(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}function Gi(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Gn.updateTime(Qr(s.updateTime)):void 0!==s.exists?Gn.exists(s.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(l,c){let f=null;"setToServerValue"in c?(Rt("REQUEST_TIME"===c.setToServerValue),f=new Ih):"appendMissingElements"in c?f=new Zl(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new jl(c.removeAllFromArray.values||[]):"increment"in c?f=new $u(l,c.increment):rt();const y=rr.fromServerFormat(c.fieldPath);return new Yg(y,f)}(n,s)):[];var s;if(e.update){const s=Go(n,e.update.name),l=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new as((e.updateMask.fieldPaths||[]).map(v=>rr.fromServerFormat(v)));return new Zu(s,l,c,t,r)}return new Zc(s,l,t,r)}if(e.delete){const s=Go(n,e.delete);return new jc(s,t)}if(e.verify){const s=Go(n,e.verify);return new Wv(s,t)}return rt()}function cb(n,e){return{documents:[fp(n,e.path)]}}function hT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=fp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(y){if(0===y.length)return;const v=y.map(C=>function(E){if("=="===E.op){if(Ww(E.value))return{unaryFilter:{field:Oh(E.field),op:"IS_NAN"}};if(Gw(E.value))return{unaryFilter:{field:Oh(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(Ww(E.value))return{unaryFilter:{field:Oh(E.field),op:"IS_NOT_NAN"}};if(Gw(E.value))return{unaryFilter:{field:Oh(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(E.field),op:pT(E.op),value:E.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);s&&(t.structuredQuery.where=s);const l=function(y){if(0!==y.length)return y.map(v=>{return{field:Oh((C=v).field),direction:fT(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(v=e.limit,n.dt||Jf(v)?v:{value:v});var v,f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function db(n){let e=ib(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Rt(1===r);const C=t.from[0];C.allDescendants?s=C.collectionId:e=e.child(C.collectionId)}let l=[];t.where&&(l=n_(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new ip(zc((E=C).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let f=null;t.limit&&(f=function(C){let E;return E="object"==typeof C?C.value:C,Jf(E)?null:E}(t.limit));let y=null;var C;t.startAt&&(y=new $l((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new $l(C.values||[],!C.before)}(t.endAt)),sp(e,s,c,l,f,"F",y,v)}function n_(n){return n?void 0!==n.unaryFilter?[hb(n)]:void 0!==n.fieldFilter?[gT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>n_(e)).reduce((e,t)=>e.concat(t)):rt():[]}function fT(n){return xh[n]}function pT(n){return Xv[n]}function Oh(n){return{fieldPath:n.canonicalString()}}function zc(n){return rr.fromServerFormat(n.fieldPath)}function gT(n){return gr.create(zc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function hb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zc(n.unaryFilter.field);return gr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zc(n.unaryFilter.field);return gr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zc(n.unaryFilter.field);return gr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zc(n.unaryFilter.field);return gr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function mT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gb(e)),e=pb(n.get(t),e);return gb(e)}function pb(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function gb(n){return n+"\x01\x01"}function Jr(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let s="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const f=n.substring(l,c);let y;0===s.length?y=f:(s+=f,y=s,s=""),r.push(y);break;case"\x10":s+=n.substring(l,c),s+="\0";break;case"\x11":s+=n.substring(l,c+1);break;default:rt()}l=c+2}return new Kt(r)}const om=["userId","batchId"];function am(n,e){return[n,ki(e)]}function mb(n,e,t){return[n,ki(e),t]}const BD={},yb=["prefixPath","collectionGroup","readTime","documentId"],yT=["prefixPath","collectionGroup","documentId"],vT=["collectionGroup","readTime","prefixPath","documentId"],_T=["canonicalId","targetId"],r_=["targetId","path"],wT=["path","targetId"],bT=["collectionId","parent"],lm=["indexId","uid"],i_=["uid","sequenceNumber"],CT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vb=["indexId","uid","orderedDocumentKey"],s_=["userId","collectionPath","documentId"],_b=["userId","collectionPath","largestBatchId"],$D=["userId","collectionGroup","largestBatchId"],ET=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o_=[...ET,"documentOverlays"],TT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wb=TT,bb=[...wb,"indexConfiguration","indexState","indexEntries"];class um extends Hw{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Xr(n,e){const t=ut(n);return jo.N(t.ee,e)}class cm{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&rT(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xg();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const y=nT(c,f);null!==y&&r.set(s.key,y),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&_h(this.mutations,e.mutations,(t,r)=>Xw(t,r))&&_h(this.baseMutations,e.baseMutations,(t,r)=>Xw(t,r))}}class gp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Rt(e.mutations.length===r.length);let s=tb;const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new gp(e,t,r,s)}}class Wo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yo{constructor(e,t,r,s,l=Bt.min(),c=Bt.min(),f=$r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mp{constructor(e){this.ne=e}}function Cb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:qc(s=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:ju(s,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Hu(e.version)}}var s,l;return r}function Nh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gc(n){const e=new fr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function Wc(n,e){const t=(e.baseMutations||[]).map(l=>Gi(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Gi(n.ne,l)),s=fr.fromMillis(e.localWriteTimeMs);return new cm(e.batchId,s,t,r)}function Hl(n){const e=Gc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gc(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var s;return void 0!==n.query.documents?(Rt(1===(s=n.query).documents.length),r=ls(Eh(ib(s.documents[0])))):r=ls(db(n.query)),new Yo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function Eb(n,e){const t=Hu(e.snapshotVersion),r=Hu(e.lastLimboFreeSnapshotVersion);let s;s=qg(e.target)?cb(n.ne,e.target):hT(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Tb(n){const e=db({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?op(e,e.limit,"L"):e}function a_(n,e){return new Wo(e.largestBatchId,Gi(n.ne,e.overlayMutation))}function IT(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function Ib(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hu(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class AT{getBundleMetadata(e,t){return Ab(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Gc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return Ab(e).put({bundleId:(r=t).id,createTime:Hu(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Db(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Tb(s.bundledQuery),readTime:Gc(s.readTime)};var s})}saveNamedQuery(e,t){return Db(e).put({name:(r=t).name,readTime:Hu(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ab(n){return Xr(n,"bundles")}function Db(n){return Xr(n,"namedQueries")}class l_{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new l_(e,t.uid||"")}getOverlay(e,t){return kh(e).get(IT(this.userId,t)).next(r=>r?a_(this.wt,r):null)}getOverlays(e,t){const r=Ci();return ge.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((l,c)=>{const f=new Wo(t,c);s.push(this.ie(e,f))}),ge.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(c=>s.add(ki(c.getCollectionPath())));const l=[];return s.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(kh(e).W("collectionPathOverlayIndex",f))}),ge.waitFor(l)}getOverlaysForCollection(e,t,r){const s=Ci(),l=ki(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return kh(e).K("collectionPathOverlayIndex",c).next(f=>{for(const y of f){const v=a_(this.wt,y);s.set(v.getKey(),v)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const l=Ci();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kh(e).J({index:"collectionGroupOverlayIndex",range:f},(y,v,C)=>{const E=a_(this.wt,v);l.size()<s||E.largestBatchId===c?(l.set(E.getKey(),E),c=E.largestBatchId):C.done()}).next(()=>l)}ie(e,t){return kh(e).put(function(r,s,l){const[c,f,y]=IT(s,l.mutation.key);return{userId:s,collectionPath:f,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:pp(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function kh(n){return Xr(n,"documentOverlays")}class ql{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Xf(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ul(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Yw(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):rt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const s of Object.keys(r))this.le(s,t),this.oe(r[s],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const s of r)this.oe(s,t)}_e(e,t){this.ce(t,37),st.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function DT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function dm(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const l=DT(255&t[s]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}ql.ye=new ql;class ST{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const s=t.codePointAt(0);this.Ie(240|s>>>18),this.Ie(128|63&s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=t.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}ve(e){const t=this.Ve(e),r=dm(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}De(e){const t=this.Ve(e),r=dm(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class xT{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class MT{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class vp{constructor(){this.Oe=new ST,this.Fe=new xT(this.Oe),this.$e=new MT(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Yc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Yc(this.indexId,this.documentKey,this.arrayValue,r)}}function Kc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_p(n.arrayValue,e.arrayValue),0!==t?t:(t=_p(n.directionalValue,e.directionalValue),0!==t?t:st.comparator(n.documentKey,e.documentKey)))}function _p(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Qc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=vv(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Zo(e);let s=0,l=0;for(;s<r.length&&this.Qe(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Ke){const c=r[s];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++s}for(;s<r.length;++s){const c=r[s];if(l>=this.Ue.length||!this.We(this.Ue[l++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ZD{constructor(){this.ze=new Jc}addToCollectionParentIndex(e,t){return this.ze.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ci.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class Jc{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Mn(Kt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mn(Kt.comparator)).toArray()}}const hm=new Uint8Array(0);class PT{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Jc,this.Je=new Hc(r=>Vc(r),(r,s)=>rp(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:ki(s)};return fm(e).put(l)}return ge.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[B1(t),""],!1,!0);return fm(e).K(s).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Jr(c.parent))}return r})}addFieldIndex(e,t){const r=Ls(e),s={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete s.indexId;const l=r.add(s);if(t.indexState){const c=zl(e);return l.next(f=>{c.put(Ib(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Ls(e),s=zl(e),l=wp(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=wp(e);let s=!0;const l=new Map;return ge.forEach(this.Ye(t),c=>this.Xe(e,c).next(f=>{s&&(s=!!f),l.set(c,f)})).next(()=>{if(s){let c=Qt();const f=[];return ge.forEach(l,(y,v)=>{var C;Ve("IndexedDbIndexManager",`Using index ${C=y,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(j=>`${j.fieldPath}:${j.kind}`).join(",")}`} to execute ${Vc(t)}`);const E=function(j,W){const xe=vv(W);if(void 0===xe)return null;for(const ve of Nv(j,xe.fieldPath))switch(ve.op){case"array-contains-any":return ve.value.arrayValue.values||[];case"array-contains":return[ve.value]}return null}(v,y),A=function(j,W){const xe=new Map;for(const ve of Zo(W))for(const qe of Nv(j,ve.fieldPath))switch(qe.op){case"==":case"in":xe.set(ve.fieldPath.canonicalString(),qe.value);break;case"not-in":case"!=":return xe.set(ve.fieldPath.canonicalString(),qe.value),Array.from(xe.values())}return null}(v,y),P=function(j,W){const xe=[];let ve=!0;for(const qe of Zo(W)){const Oe=0===qe.kind?kv(j,qe.fieldPath,j.startAt):Rv(j,qe.fieldPath,j.startAt);xe.push(Oe.value),ve&&(ve=Oe.inclusive)}return new $l(xe,ve)}(v,y),O=function(j,W){const xe=[];let ve=!0;for(const qe of Zo(W)){const Oe=0===qe.kind?Rv(j,qe.fieldPath,j.endAt):kv(j,qe.fieldPath,j.endAt);xe.push(Oe.value),ve&&(ve=Oe.inclusive)}return new $l(xe,ve)}(v,y),U=this.Ze(y,v,P),N=this.Ze(y,v,O),F=this.tn(y,v,A),G=this.en(y.indexId,E,U,P.inclusive,N,O.inclusive,F);return ge.forEach(G,j=>r.j(j,t.limit).next(W=>{W.forEach(xe=>{const ve=st.fromSegments(xe.documentKey);c.has(ve)||(c=c.add(ve),f.push(ve))})}))}).next(()=>f)}return ge.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,s,l,c,f){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),v=y/(null!=t?t.length:1),C=[];for(let E=0;E<y;++E){const A=t?this.nn(t[E/v]):hm,P=this.sn(e,A,r[E%v],s),O=this.rn(e,A,l[E%v],c),U=f.map(N=>this.sn(e,A,N,!0));C.push(...this.createRange(P,O,U))}return C}sn(e,t,r,s){const l=new Yc(e,st.empty(),t,r);return s?l:l.Le()}rn(e,t,r,s){const l=new Yc(e,st.empty(),t,r);return s?l.Le():l}Xe(e,t){const r=new Qc(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let c=null;for(const f of l)r.Ge(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return ge.forEach(this.Ye(t),s=>this.Xe(e,s).next(l=>{l?0!==r&&l.fields.length<function(c){let f=new Mn(rr.comparator),y=!1;for(const v of c.filters){const C=v;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?y=!0:f=f.add(C.field))}for(const v of c.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(y?1:0)}(s)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new vp;for(const s of Zo(e)){const l=t.data.field(s.fieldPath);if(null==l)return null;const c=r.Be(s.kind);ql.ye.re(l,c)}return r.Me()}nn(e){const t=new vp;return ql.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new vp;return ql.ye.re(Uc(this.databaseId,t),r.Be(function(s){const l=Zo(s);return 0===l.length?0:l[l.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let s=[];s.push(new vp);let l=0;for(const c of Zo(e)){const f=r[l++];for(const y of s)if(this.cn(t,c.fieldPath)&&np(f))s=this.an(s,c,f);else{const v=y.Be(c.kind);ql.ye.re(f,v)}}return this.hn(s)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const s=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of s){const y=new vp;y.seed(f.Me()),ql.ye.re(c,y.Be(t.kind)),l.push(y)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof gr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ls(e),s=zl(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const c=[];return ge.forEach(l,f=>s.get([f.indexId,this.uid]).next(y=>{c.push(function(v,C){const E=C?new Lc(C.sequenceNumber,new ci(Gc(C.readTime),new st(Jr(C.documentKey)),C.largestBatchId)):Lc.empty(),A=v.fields.map(([P,O])=>new Yf(rr.fromServerFormat(P),O));return new Wf(v.indexId,v.collectionGroup,A,E)}(f,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==l?l:Ht(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Ls(e),l=zl(e);return this.ln(e).next(c=>s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ge.forEach(f,y=>l.put(Ib(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(s,l)=>{const c=r.get(s.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next(f=>(r.set(s.collectionGroup,f),ge.forEach(f,y=>this.fn(e,s,y).next(v=>{const C=this.dn(l,y);return v.isEqual(C)?ge.resolve():this._n(e,l,y,v,C)}))))})}wn(e,t,r,s){return wp(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,s){return wp(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const s=wp(e);let l=new Mn(Kc);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,f)=>{l=l.add(new Yc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}dn(e,t){let r=new Mn(Kc);const s=this.on(t,e);if(null==s)return r;const l=vv(t);if(null!=l){const c=e.data.field(l.fieldPath);if(np(c))for(const f of c.arrayValue.values||[])r=r.add(new Yc(t.indexId,e.key,this.nn(f),s))}else r=r.add(new Yc(t.indexId,e.key,hm,s));return r}_n(e,t,r,s,l){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,y,v,C,E){const A=f.getIterator(),P=y.getIterator();let O=Fc(A),U=Fc(P);for(;O||U;){let N=!1,F=!1;if(O&&U){const G=v(O,U);G<0?F=!0:G>0&&(N=!0)}else null!=O?F=!0:N=!0;N?(C(U),U=Fc(P)):F?(E(O),O=Fc(A)):(O=Fc(A),U=Fc(P))}}(s,l,Kc,f=>{c.push(this.wn(e,t,r,f))},f=>{c.push(this.mn(e,t,r,f))}),ge.waitFor(c)}ln(e){let t=1;return zl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Kc(c,f)).filter((c,f,y)=>!f||0!==Kc(c,y[f-1]));const s=[];s.push(e);for(const c of r){const f=Kc(c,e),y=Kc(c,t);if(0===f)s[0]=e.Le();else if(f>0&&y<0)s.push(c),s.push(c.Le());else if(y>0)break}s.push(t);const l=[];for(let c=0;c<s.length;c+=2)l.push(IDBKeyRange.bound([s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,hm,[]],[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,hm,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ei)}getMinOffset(e,t){return ge.mapArray(this.Ye(t),r=>this.Xe(e,r).next(s=>s||rt())).next(Ei)}}function fm(n){return Xr(n,"collectionParents")}function wp(n){return Xr(n,"indexEntries")}function Ls(n){return Xr(n,"indexConfiguration")}function zl(n){return Xr(n,"indexState")}function Ei(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Kf(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ci(e.readTime,e.documentKey,t)}const qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ti{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fs(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let f=0;const y=r.J({range:c},(C,E,A)=>(f++,A.delete()));l.push(y.next(()=>{Rt(1===f)}));const v=[];for(const C of t.mutations){const E=mb(e,C.key.path,t.batchId);l.push(s.delete(E)),v.push(C.key)}return ge.waitFor(l).next(()=>v)}function Rh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Gl{constructor(e,t,r,s){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=s,this.gn={}}static se(e,t,r,s){Rt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Gl(l,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).J({index:"userMutationsIndex",range:r},(s,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const l=Ko(e),c=Us(e);return c.add({}).next(f=>{Rt("number"==typeof f);const y=new cm(f,t,r,s),v=function(A,P,O){const U=O.baseMutations.map(F=>pp(A.ne,F)),N=O.mutations.map(F=>pp(A.ne,F));return{userId:P,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:U,mutations:N}}(this.wt,this.userId,y),C=[];let E=new Mn((A,P)=>Ht(A.canonicalString(),P.canonicalString()));for(const A of s){const P=mb(this.userId,A.key.path,f);E=E.add(A.key.path.popLast()),C.push(c.put(v)),C.push(l.put(P,BD))}return E.forEach(A=>{C.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.gn[f]=y.keys()}),ge.waitFor(C).next(()=>y)})}lookupMutationBatch(e,t){return Us(e).get(t).next(r=>r?(Rt(r.userId===this.userId),Wc(this.wt,r)):null)}yn(e,t){return this.gn[t]?ge.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.gn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Us(e).J({index:"userMutationsIndex",range:s},(c,f,y)=>{f.userId===this.userId&&(Rt(f.batchId>=r),l=Wc(this.wt,f)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Us(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).K("userMutationsIndex",t).next(r=>r.map(s=>Wc(this.wt,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=am(this.userId,t.path),s=IDBKeyRange.lowerBound(r),l=[];return Ko(e).J({range:s},(c,f,y)=>{const[v,C,E]=c,A=Jr(C);if(v===this.userId&&t.path.isEqual(A))return Us(e).get(E).next(P=>{if(!P)throw rt();Rt(P.userId===this.userId),l.push(Wc(this.wt,P))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Ht);const s=[];return t.forEach(l=>{const c=am(this.userId,l.path),f=IDBKeyRange.lowerBound(c),y=Ko(e).J({range:f},(v,C,E)=>{const[A,P,O]=v,U=Jr(P);A===this.userId&&l.path.isEqual(U)?r=r.add(O):E.done()});s.push(y)}),ge.waitFor(s).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,l=am(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new Mn(Ht);return Ko(e).J({range:c},(y,v,C)=>{const[E,A,P]=y,O=Jr(A);E===this.userId&&r.isPrefixOf(O)?O.length===s&&(f=f.add(P)):C.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],s=[];return t.forEach(l=>{s.push(Us(e).get(l).next(c=>{if(null===c)throw rt();Rt(c.userId===this.userId),r.push(Wc(this.wt,c))}))}),ge.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Fs(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ge.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Ko(e).J({range:r},(l,c,f)=>{if(l[0]===this.userId){const y=Jr(l[1]);s.push(y)}else f.done()}).next(()=>{Rt(0===s.length)})})}containsKey(e,t){return Xc(e,this.userId,t)}Tn(e){return ed(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xc(n,e,t){const r=am(e,t.path),s=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Ko(n).J({range:l,H:!0},(f,y,v)=>{const[C,E,A]=f;C===e&&E===s&&(c=!0),v.done()}).next(()=>c)}function Us(n){return Xr(n,"mutations")}function Ko(n){return Xr(n,"documentMutations")}function ed(n){return Xr(n,"mutationQueues")}class ho{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ho(0)}static Rn(){return new ho(-1)}}class Lh{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new ho(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Bt.fromTimestamp(new fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pn(e,s)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qo(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let s=0;const l=[];return Qo(e).J((c,f)=>{const y=Hl(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(s++,l.push(this.removeTargetData(e,y)))}).next(()=>ge.waitFor(l)).next(()=>s)}forEachTarget(e,t){return Qo(e).J((r,s)=>{const l=Hl(s);t(l)})}bn(e){return td(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}Pn(e,t){return td(e).put("targetGlobalKey",t)}vn(e,t){return Qo(e).put(Eb(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vc(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Qo(e).J({range:s,index:"queryTargetsIndex"},(c,f,y)=>{const v=Hl(f);rp(t,v.target)&&(l=v,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const s=[],l=Wl(e);return t.forEach(c=>{const f=ki(c.path);s.push(l.put({targetId:r,path:f})),s.push(this.referenceDelegate.addReference(e,r,c))}),ge.waitFor(s)}removeMatchingKeys(e,t,r){const s=Wl(e);return ge.forEach(t,l=>{const c=ki(l.path);return ge.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Wl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Wl(e);let l=Qt();return s.J({range:r,H:!0},(c,f,y)=>{const v=Jr(c[1]),C=new st(v);l=l.add(C)}).next(()=>l)}containsKey(e,t){const r=ki(t.path),s=IDBKeyRange.bound([r],[B1(r)],!1,!0);let l=0;return Wl(e).J({index:"documentTargetsIndex",H:!0,range:s},([c,f],y,v)=>{0!==c&&(l++,v.done())}).next(()=>l>0)}te(e,t){return Qo(e).get(t).next(r=>r?Hl(r):null)}}function Qo(n){return Xr(n,"targets")}function td(n){return Xr(n,"targetGlobal")}function Wl(n){return Xr(n,"targetDocuments")}function u_([n,e],[t,r]){const s=Ht(n,t);return 0===s?Ht(e,r):s}class Sb{constructor(e){this.Sn=e,this.buffer=new Mn(u_),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();u_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Fl(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ua(r)}yield t.kn(3e5)}))}}class Mb{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(zi.ot);const r=new Sb(t);return this.Mn.forEachTarget(e,s=>r.xn(s.sequenceNumber)).next(()=>this.Mn.Fn(e,s=>r.xn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(qu)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qu):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,s,l,c,f,y,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,f=Date.now(),this.removeTargets(e,r,t))).next(E=>(l=E,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(v=Date.now(),pv()<=zr.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${s} in `+(f-c)+`ms\n\tRemoved ${l} targets in `+(y-f)+`ms\n\tRemoved ${E} documents in `+(v-y)+`ms\nTotal Duration: ${v-C}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}class Pb{constructor(e,t){this.db=e,this.garbageCollector=new Mb(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,s)=>t(s))}addReference(e,t,r){return bp(e,r)}removeReference(e,t,r){return bp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bp(e,t)}Un(e,t){return function(r,s){let l=!1;return ed(r).Y(c=>Xc(r,c,s).next(f=>(f&&(l=!0),ge.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.Ln(e,(c,f)=>{if(f<=t){const y=this.Un(e,c).next(v=>{if(!v)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Bt.min()),Wl(e).delete([0,ki(c.path)])))});s.push(y)}}).next(()=>ge.waitFor(s)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bp(e,t)}Ln(e,t){const r=Wl(e);let s,l=zi.ot;return r.J({index:"documentTargetsIndex"},([c,f],{path:y,sequenceNumber:v})=>{0===c?(l!==zi.ot&&t(new st(Jr(s)),l),l=v,s=y):l=zi.ot}).next(()=>{l!==zi.ot&&t(new st(Jr(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bp(n,e){return Wl(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class c_{constructor(){this.changes=new Hc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ob{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zu(e).put(r)}removeEntry(e,t,r){return zu(e).delete(function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Nh(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=$n.newInvalidDocument(t);return zu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cp(t))},(s,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:$n.newInvalidDocument(t)};return zu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cp(t))},(s,l)=>{r={document:this.Kn(t,l),size:Rh(l)}}).next(()=>r)}getEntries(e,t){let r=Rs();return this.Qn(e,t,(s,l)=>{const c=this.Kn(s,l);r=r.insert(s,c)}).next(()=>r)}jn(e,t){let r=Rs(),s=new Er(st.comparator);return this.Qn(e,t,(l,c)=>{const f=this.Kn(l,c);r=r.insert(l,f),s=s.insert(l,Rh(c))}).next(()=>({documents:r,Wn:s}))}Qn(e,t,r){if(t.isEmpty())return ge.resolve();let s=new Mn(pm);t.forEach(y=>s=s.add(y));const l=IDBKeyRange.bound(Cp(s.first()),Cp(s.last())),c=s.getIterator();let f=c.getNext();return zu(e).J({index:"documentKeyIndex",range:l},(y,v,C)=>{const E=st.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&pm(f,E)<0;)r(f,null),f=c.getNext();f&&f.isEqual(E)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?C.q(Cp(f)):C.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),Nh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zu(e).K(IDBKeyRange.bound(s,l,!0)).next(c=>{let f=Rs();for(const y of c){const v=this.Kn(st.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,r,s){let l=Rs();const c=d_(t,r),f=d_(t,ci.max());return zu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(y,v,C)=>{const E=this.Kn(st.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);l=l.insert(E.key,E),l.size===s&&C.done()}).next(()=>l)}newChangeBuffer(e){return new OT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kb(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}qn(e,t){return kb(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function yp(n,e){let t;if(e.document)t=ob(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=st.fromSegments(e.noDocument.path),s=Gc(e.noDocument.readTime);t=$n.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=st.fromSegments(e.unknownDocument.path),s=Gc(e.unknownDocument.version);t=$n.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new fr(r[0],r[1]);return Bt.fromTimestamp(s)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return $n.newInvalidDocument(e)}}function Nb(n){return new Ob(n)}class OT extends c_{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Hc(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Mn((l,c)=>Ht(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const f=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,f.readTime)),c.isValidDocument()){const y=Cb(this.zn.wt,c);s=s.add(l.path.popLast()),r+=Rh(y)-f.size,t.push(this.zn.addEntry(e,l,y))}else if(r-=f.size,this.trackRemovals){const y=Cb(this.zn.wt,c.convertToNoDocument(Bt.min()));t.push(this.zn.addEntry(e,l,y))}}),s.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:s})=>(s.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function kb(n){return Xr(n,"remoteDocumentGlobal")}function zu(n){return Xr(n,"remoteDocumentsV14")}function Cp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d_(n,e){const t=e.documentKey.path.toArray();return[n,Nh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pm(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(s=Ht(t[l],r[l]),s)return s;return s=Ht(t.length,r.length),s||(s=Ht(t[t.length-2],r[r.length-2]),s||Ht(t[t.length-1],r[r.length-1]))}class h_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.getBaseDocument(e,t,r))).next(s=>(null!==r&&cp(r.mutation,s,as.empty(),fr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const s=Ci();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let c=Jg();return l.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ci();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,s){let l=Rs();const c=dp(),f=dp();return t.forEach((y,v)=>{const C=r.get(v.key);s.has(v.key)&&(void 0===C||C.mutation instanceof Zu)?l=l.insert(v.key,v):void 0!==C&&(c.set(v.key,C.mutation.getFieldMask()),cp(C.mutation,v,C.mutation.getFieldMask(),fr.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((v,C)=>c.set(v,C)),t.forEach((v,C)=>{var E;return f.set(v,new h_(C,null!==(E=c.get(v))&&void 0!==E?E:null))}),f))}recalculateAndSaveOverlays(e,t){const r=dp();let s=new Er((c,f)=>c-f),l=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const v=t.get(y);if(null===v)return;let C=r.get(y)||as.empty();C=f.applyToLocalView(v,C),r.set(y,C);const E=(s.get(f.batchId)||Qt()).add(y);s=s.insert(f.batchId,E)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),v=y.key,C=y.value,E=Xg();C.forEach(A=>{if(!l.has(A)){const P=nT(t.get(A),r.get(A));null!==P&&E.set(A,P),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,E))}return ge.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return st.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):ge.resolve(Ci());let f=-1,y=l;return c.next(v=>ge.forEach(v,(C,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(C)?ge.resolve():this.getBaseDocument(e,C,E).next(A=>{y=y.insert(C,A)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,y,v,Qt())).next(C=>({batchId:f,changes:uT(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(r=>{let s=Jg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let l=Jg();return this.indexManager.getCollectionParents(e,s).next(c=>ge.forEach(c,f=>{const y=(v=t,C=f.child(s),new $a(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(v=>{v.forEach((C,E)=>{l=l.insert(C,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(s=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,y)=>{const v=y.getKey();null===s.get(v)&&(s=s.insert(v,$n.newInvalidDocument(v)))});let c=Jg();return s.forEach((f,y)=>{const v=l.get(f);void 0!==v&&cp(v.mutation,y,as.empty(),fr.now()),lp(t,y)&&(c=c.insert(f,y))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ge.resolve($n.newInvalidDocument(t))}}class gm{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ge.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:Tb(r.bundledQuery),readTime:Qr(r.readTime)}),ge.resolve();var r}}class mm{constructor(){this.overlays=new Er(st.comparator),this.Xn=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ci();return ge.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.ie(e,t,l)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Xn.get(r);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const s=Ci(),l=t.length+1,c=new st(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>r&&s.set(y.getKey(),y)}return ge.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new Er((v,C)=>v-C);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=l.get(v.largestBatchId);null===C&&(C=Ci(),l=l.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=Ci(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=s)););return ge.resolve(f)}ie(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Wo(t,r));let l=this.Xn.get(t);void 0===l&&(l=Qt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class Ep{constructor(){this.Zn=new Mn(hi.ts),this.es=new Mn(hi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new hi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new hi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new st(new Kt([])),r=new hi(t,e),s=new hi(t,e+1),l=[];return this.es.forEachInRange([r,s],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new st(new Kt([])),r=new hi(t,e),s=new hi(t,e+1);let l=Qt();return this.es.forEachInRange([r,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new hi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return st.comparator(e.key,t.key)||Ht(e.ls,t.ls)}static ns(e,t){return Ht(e.ls,t.ls)||st.comparator(e.key,t.key)}}class ym{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Mn(hi.ts)}checkEmpty(e){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const l=this.fs;this.fs++;const c=new cm(l,t,r,s);this.mutationQueue.push(c);for(const f of s)this.ds=this.ds.add(new hi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,t){return ge.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ws(t+1),l=s<0?0:s;return ge.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),s=new hi(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,s],c=>{const f=this._s(c.ls);l.push(f)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Ht);return t.forEach(s=>{const l=new hi(s,0),c=new hi(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],f=>{r=r.add(f.ls)})}),ge.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;st.isDocumentKey(l)||(l=l.child(""));const c=new hi(new st(l),0);let f=new Mn(Ht);return this.ds.forEachWhile(y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===s&&(f=f.add(y.ls)),!0)},c),ge.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const s=this._s(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Rt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ge.forEach(t.mutations,s=>{const l=new hi(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new hi(t,0),s=this.ds.firstAfterOrEqual(r);return ge.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ge.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vm{constructor(e){this.ps=e,this.docs=new Er(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=Rs();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():$n.newInvalidDocument(s))}),ge.resolve(r)}getAllFromCollection(e,t,r){let s=Rs();const l=new st(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:y}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Kf(Z1(y),r)<=0||(s=s.insert(y.key,y.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,t,r,s){rt()}Is(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lb(this)}getSize(e){return ge.resolve(this.size)}}class Lb extends c_{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.zn.addEntry(e,s)):this.zn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Fb{constructor(e){this.persistence=e,this.Ts=new Hc(t=>Vc(t),rp),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Es=0,this.As=new Ep,this.targetCount=0,this.Rs=ho.An()}forEachTarget(e,t){return this.Ts.forEach((r,s)=>t(s)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ge.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ho(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.vn(t),ge.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Ts.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ge.waitFor(l).next(()=>s)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.As.containsKey(t))}}class _m{constructor(e,t){this.bs={},this.overlays={},this.Ps=new zi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Fb(this),this.indexManager=new ZD,this.remoteDocumentCache=new vm(r=>this.referenceDelegate.Ss(r)),this.wt=new mp(t),this.Ds=new gm(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new ym(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const s=new Ub(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(l=>this.referenceDelegate.xs(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ns(e,t){return ge.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Ub extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.ks=new Ep,this.Ms=null}static Os(e){return new Tp(e)}get Fs(){if(this.Ms)return this.Ms;throw rt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Fs,r=>{const s=st.fromPath(r);return this.$s(e,s).next(l=>{l||t.removeEntry(s,Bt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ge.or([()=>ge.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class f_{constructor(e){this.wt=e}M(e,t,r,s){const l=new Ug("createOrUpgrade",t);var f;r<1&&s>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",om,{unique:!0}),f.createObjectStore("documentMutations"),p_(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ge.resolve();return r<3&&s>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),p_(e)),c=c.next(()=>function(f){const y=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",v)}(l))),r<4&&s>=4&&(0!==r&&(c=c.next(()=>function(f,y){return y.store("mutations").K().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",om,{unique:!0});const C=y.store("mutations"),E=v.map(A=>C.put(A));return ge.waitFor(E)})}(e,l))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(c=c.next(()=>this.Bs(l))),r<6&&s>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&s>=7&&(c=c.next(()=>this.Us(l))),r<8&&s>=8&&(c=c.next(()=>this.qs(e,l))),r<9&&s>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(c=c.next(()=>this.Ks(l))),r<11&&s>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(c=c.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:s_});y.createIndex("collectionPathOverlayIndex",_b,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",$D,{unique:!1})}(e)})),r<13&&s>=13&&(c=c.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:yb});y.createIndex("documentKeyIndex",yT),y.createIndex("collectionGroupIndex",vT)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(c=c.next(()=>this.Qs(e,l))),r<15&&s>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:lm}).createIndex("sequenceNumberIndex",i_,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:CT}).createIndex("documentKeyIndex",vb,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,s)=>{t+=Rh(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(s=>ge.forEach(s,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(f=>ge.forEach(f,y=>{Rt(y.userId===l.userId);const v=Wc(this.wt,y);return Fs(e,l.userId,v).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const l=[];return r.J((c,f)=>{const y=new Kt(c),v=[0,ki(y)];l.push(t.get(v).next(C=>C?ge.resolve():t.put({targetId:0,path:ki(y),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ge.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:bT});const r=t.store("collectionParents"),s=new Jc,l=c=>{if(s.add(c)){const f=c.lastSegment(),y=c.popLast();return r.put({collectionId:f,parent:ki(y)})}};return t.store("remoteDocuments").J({H:!0},(c,f)=>{const y=new Kt(c);return l(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,f,y],v)=>{const C=Jr(f);return l(C.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,s)=>{const l=Hl(s),c=Eb(this.wt,l);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),s=[];return r.J((l,c)=>{const f=t.store("remoteDocumentsV14"),y=(v=c,v.document?new st(Kt.fromString(v.document.name).popFirst(5)):v.noDocument?st.fromSegments(v.noDocument.path):v.unknownDocument?st.fromSegments(v.unknownDocument.path):rt()).path.toArray();var v;const C={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(f.put(C))}).next(()=>ge.waitFor(s))}Qs(e,t){const r=t.store("mutations"),s=Nb(this.wt),l=new _m(Tp.Os,this.wt.ne);return r.K().next(c=>{const f=new Map;return c.forEach(y=>{var v;let C=null!==(v=f.get(y.userId))&&void 0!==v?v:Qt();Wc(this.wt,y).keys().forEach(E=>C=C.add(E)),f.set(y.userId,C)}),ge.forEach(f,(y,v)=>{const C=new li(v),E=l_.se(this.wt,C),A=l.getIndexManager(C),P=Gl.se(C,this.wt,A,l.referenceDelegate);return new Rb(s,P,E,A).recalculateAndSaveOverlaysForDocumentKeys(new um(t,zi.ot),y).next()})})}}function p_(n){n.createObjectStore("targetDocuments",{keyPath:r_}).createIndex("documentTargetsIndex",wT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_T,{unique:!0}),n.createObjectStore("targetGlobal")}const g_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wm{constructor(e,t,r,s,l,c,f,y,v,C,E=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=c,this.document=f,this.Ws=v,this.zs=C,this.Hs=E,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=A=>Promise.resolve(),!wm.V())throw new je(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pb(this,s),this.ei=t+"main",this.wt=new mp(y),this.ni=new jo(this.ei,this.Hs,new f_(this.wt)),this.Vs=new Lh(this.referenceDelegate,this.wt),this.remoteDocumentCache=Nb(this.wt),this.Ds=new AT,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,g_);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new zi(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Se.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ip(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Fl(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Fh(e).get("owner").next(t=>ge.resolve(this.di(t)))}_i(e){return Ip(e).delete(this.clientId)}wi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Xr(r,"clientMetadata");return s.K().next(l=>{const c=e.gi(l,18e5),f=l.filter(y=>-1===c.indexOf(y));return ge.forEach(f,y=>s.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ge.resolve(!0):Fh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,g_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ip(e).K().next(r=>void 0===this.gi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const c=!this.inForeground&&s.inForeground,f=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new um(t,zi.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Ip(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Gl.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PT(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return l_.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ve("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",l=15===(c=this.Hs)?bb:14===c?wb:13===c?TT:12===c?o_:11===c?ET:void rt();var c;let f;return this.ni.runTransaction(e,s,l,y=>(f=new um(y,this.Ps?this.Ps.next():zi.ot),"readwrite-primary"===t?this.ai(f).next(v=>!!v||this.hi(f)).next(v=>{if(!v)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new je(we.FAILED_PRECONDITION,bv);return r(f)}).next(v=>this.fi(f).next(()=>v)):this.bi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}bi(e){return Fh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(we.FAILED_PRECONDITION,g_)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put("owner",t)}static V(){return jo.V()}li(e){const t=Fh(e);return t.get("owner").next(r=>this.di(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(n){return Xr(n,"owner")}function Ip(n){return Xr(n,"clientMetadata")}function bm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class m_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=s}static Vi(e,t){let r=Qt(),s=Qt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new m_(e,t.fromCache,r,s)}}class y_{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ci(e,t).next(l=>l||this.xi(e,t,s,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){if(Uv(t))return ge.resolve(null);let r=ls(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=op(t,null,"F"),r=ls(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Qt(...l);return this.Di.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const v=this.ki(t,f);return this.Mi(t,v,c,y.readTime)?this.Ci(e,op(t,null,"F")):this.Oi(e,v,t,y)}))})))}xi(e,t,r,s){return Uv(t)||s.isEqual(Bt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const c=this.ki(t,l);return this.Mi(t,c,r,s)?this.Ni(e,t):(pv()<=zr.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zg(t)),this.Oi(e,c,t,wv(s,-1)))})}ki(e,t){let r=new Mn(Gg(e));return t.forEach((s,l)=>{lp(e,l)&&(r=r.add(l))}),r}Mi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ni(e,t){return pv()<=zr.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",zg(t)),this.Di.getDocumentsMatchingQuery(e,t,ci.min())}Oi(e,t,r,s){return this.Di.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class Vb{constructor(e,t,r,s){this.persistence=e,this.Fi=t,this.wt=s,this.$i=new Er(Ht),this.Bi=new Hc(l=>Vc(l),rp),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rb(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Cm(n,e,t,r){return new Vb(n,e,t,r)}function Ap(n,e){return Em.apply(this,arguments)}function Em(){return Em=(0,Se.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let y=Qt();for(const v of s){c.push(v.batchId);for(const C of v.mutations)y=y.add(C.key)}for(const v of l){f.push(v.batchId);for(const C of v.mutations)y=y.add(C.key)}return t.localDocuments.getDocuments(r,y).next(v=>({Ki:v,removedBatchIds:c,addedBatchIds:f}))})})}),Em.apply(this,arguments)}function Bb(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,f,y,v){const C=y.batch,E=C.keys();let A=ge.resolve();return E.forEach(P=>{A=A.next(()=>v.getEntry(f,P)).next(O=>{const U=y.docVersions.get(P);Rt(null!==U),O.version.compareTo(U)<0&&(C.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),v.addEntry(O)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(f,C))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Qt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function v_(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function $b(n,e){const t=ut(n),r=e.snapshotVersion;let s=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});s=t.$i;const f=[];e.targetChanges.forEach((C,E)=>{const A=s.get(E);if(!A)return;f.push(t.Vs.removeMatchingKeys(l,C.removedDocuments,E).next(()=>t.Vs.addMatchingKeys(l,C.addedDocuments,E)));let P=A.withSequenceNumber(l.currentSequenceNumber);var O,U,N;e.targetMismatches.has(E)?P=P.withResumeToken($r.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):C.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(C.resumeToken,r)),s=s.insert(E,P),U=P,N=C,(0===(O=A).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(l,P))});let y=Rs(),v=Qt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),f.push(__(l,c,e.documentUpdates).next(C=>{y=C.Gi,v=C.Qi})),!r.isEqual(Bt.min())){const C=t.Vs.getLastRemoteSnapshotVersion(l).next(E=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(C)}return ge.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,v)).next(()=>y)}).then(l=>(t.$i=s,l))}function __(n,e,t){let r=Qt(),s=Qt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Rs();return t.forEach((f,y)=>{const v=l.get(f);y.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(f)),y.isNoDocument()&&y.version.isEqual(Bt.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||0===y.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Ve("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",y.version)}),{Gi:c,Qi:s}})}function Zb(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nd(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Vs.getTargetData(r,e).next(l=>l?(s=l,ge.resolve(s)):t.Vs.allocateTargetId(r).next(c=>(s=new Yo(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.$i.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function rd(n,e,t){return jb.apply(this,arguments)}function jb(){return jb=(0,Se.Z)(function*(n,e,t){const r=ut(n),s=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Fl(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(s.target)}),jb.apply(this,arguments)}function Tm(n,e,t){const r=ut(n);let s=Bt.min(),l=Qt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,v){const C=ut(f),E=C.Bi.get(v);return void 0!==E?ge.resolve(C.$i.get(E)):C.Vs.getTargetData(y,v)}(r,c,ls(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{l=y})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?s:Bt.min(),t?l:Qt())).next(f=>(qb(r,J1(e),f),{documents:f,ji:l})))}function Hb(n,e){const t=ut(n),r=ut(t.Vs),s=t.$i.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(c=>c?c.target:null))}function w_(n,e){const t=ut(n),r=t.Li.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Ui.getAllFromCollectionGroup(s,e,wv(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(qb(t,e,s),s))}function qb(n,e,t){let r=Bt.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function Im(){return Im=(0,Se.Z)(function*(n,e,t,r){const s=ut(n);let l=Qt(),c=Rs();for(const v of t){const C=e.Wi(v.metadata.name);v.document&&(l=l.add(C));const E=e.zi(v);E.setReadTime(e.Hi(v.metadata.readTime)),c=c.insert(C,E)}const f=s.Ui.newChangeBuffer({trackRemovals:!0}),y=yield nd(s,(v=r,ls(Eh(Kt.fromString(`__bundle__/docs/${v}`)))));var v;return s.persistence.runTransaction("Apply bundle documents","readwrite",v=>__(v,f,c).next(C=>(f.apply(v),C)).next(C=>s.Vs.removeMatchingKeysForTargetId(v,y.targetId).next(()=>s.Vs.addMatchingKeys(v,l,y.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(v,C.Gi,C.Qi)).next(()=>C.Gi)))}),Im.apply(this,arguments)}function NT(n,e){return b_.apply(this,arguments)}function b_(){return b_=(0,Se.Z)(function*(n,e,t=Qt()){const r=yield nd(n,ls(Tb(e.bundledQuery))),s=ut(n);return s.persistence.runTransaction("Save named query","readwrite",l=>{const c=Qr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return s.Ds.saveNamedQuery(l,e);const f=r.withResumeToken($r.EMPTY_BYTE_STRING,c);return s.$i=s.$i.insert(f.targetId,f),s.Vs.updateTargetData(l,f).next(()=>s.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>s.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>s.Ds.saveNamedQuery(l,e))})}),b_.apply(this,arguments)}function C_(n,e){return`firestore_clients_${n}_${e}`}function zb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Am(n,e){return`firestore_targets_${n}_${e}`}class Dp{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ji(e,t,r){const s=JSON.parse(r);let l,c="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new je(s.error.code,s.error.message))),c?new Dp(e,t,s.state,l):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ja{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let s,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new je(r.error.code,r.error.message))),l?new ja(e,r.state,s):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,l=em();for(let c=0;s&&c<r.activeTargetIds.length;++c)s=xv(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return s?new Dm(e,l):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class E_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new E_(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sm{constructor(){this.activeTargetIds=em()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T_{constructor(e,t,r,s,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Er(Ht),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=C_(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Sm),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.Ri();for(const s of t){if(s===e.tr)continue;const l=e.getItem(C_(e.persistenceKey,s));if(l){const c=Dm.Ji(s,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const s=e.wr(r);s&&e.mr(s)}for(const s of e.ir)e.nr(s);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Am(this.persistenceKey,e));if(r){const s=ja.Ji(e,r);s&&(t=s.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Am(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.pr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const s=t.Rr(r.key);return t.br(s,null)}{const s=t.Pr(r.key,r.newValue);if(s)return t.br(s.clientId,s)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const s=t.vr(r.key,r.newValue);if(s)return t.Vr(s)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const s=t.Sr(r.key,r.newValue);if(s)return t.Dr(s)}}else if(r.key===t.lr){if(null!==r.newValue){const s=t.wr(r.newValue);if(s)return t.mr(s)}}else if(r.key===t.ur){const s=function(l){let c=zi.ot;if(null!=l)try{const f=JSON.parse(l);Rt("number"==typeof f),c=f}catch(f){hr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);s!==zi.ot&&t.sequenceNumberHandler(s)}else if(r.key===t.dr){const s=t.Cr(r.newValue);yield Promise.all(s.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const s=new Dp(this.currentUser,e,t,r),l=zb(this.persistenceKey,this.currentUser,e);this.setItem(l,s.Yi())}pr(e){const t=zb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const s=Am(this.persistenceKey,e),l=new ja(e,t,r);this.setItem(s,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Dm.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),s=Number(r[1]);return Dp.Ji(new li(void 0!==r[2]?r[2]:null),s,t)}Sr(e,t){const r=this.hr.exec(e),s=Number(r[1]);return ja.Ji(s,t)}wr(e){return E_.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),s=this.gr(this.sr),l=this.gr(r),c=[],f=[];return l.forEach(y=>{s.has(y)||c.push(y)}),s.forEach(y=>{l.has(y)||f.push(y)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=em();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class I_{constructor(){this.Fr=new Sm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Sm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jD{Br(e){}shutdown(){}}class A_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jo{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class kT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,s,l){const c=this.oo(e,t);Ve("RestConnection","Sending: ",c,r);const f={};return this.uo(f,s,l),this.co(e,c,f,r).then(y=>(Ve("RestConnection","Received: ",y),y),y=>{throw Fu("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}ao(e,t,r,s,l,c){return this.ro(e,t,r,s,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}oo(e,t){return`${this.so}/v1/${t}:${D_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,s){return new Promise((l,c)=>{const f=new fv;f.listenOnce(Vw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case hv.NO_ERROR:const v=f.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(v)),l(v);break;case hv.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),c(new je(we.DEADLINE_EXCEEDED,"Request time out"));break;case hv.HTTP_ERROR:const C=f.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',C,"response text:",f.getResponseText()),C>0){const E=f.getResponseJson().error;if(E&&E.status&&E.message){const A=function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(O)>=0?O:we.UNKNOWN}(E.status);c(new je(A,E.message))}else c(new je(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new je(we.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(s);f.send(t,"POST",y,r,15)})}ho(e,t,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=M1(),c=P1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new N1({})),this.uo(f.initMessageHeaders,t,r),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=s.join("");Ve("Connection","Creating WebChannel: "+y,f);const v=l.createWebChannel(y,f);let C=!1,E=!1;const A=new Jo({jr:O=>{E?Ve("Connection","Not sending because WebChannel is closed:",O):(C||(Ve("Connection","Opening WebChannel transport."),v.open(),C=!0),Ve("Connection","WebChannel sending:",O),v.send(O))},Wr:()=>v.close()}),P=(O,U,N)=>{O.listen(U,F=>{try{N(F)}catch(G){setTimeout(()=>{throw G},0)}})};return P(v,Lg.EventType.OPEN,()=>{E||Ve("Connection","WebChannel transport opened.")}),P(v,Lg.EventType.CLOSE,()=>{E||(E=!0,Ve("Connection","WebChannel transport closed"),A.eo())}),P(v,Lg.EventType.ERROR,O=>{E||(E=!0,Fu("Connection","WebChannel transport errored:",O),A.eo(new je(we.UNAVAILABLE,"The operation could not be completed")))}),P(v,Lg.EventType.MESSAGE,O=>{var U;if(!E){const N=O.data[0];Rt(!!N);const F=N,G=F.error||(null===(U=F[0])||void 0===U?void 0:U.error);if(G){Ve("Connection","WebChannel received error:",G);const j=G.status;let W=function(ve){const qe=Kr[ve];if(void 0!==qe)return aT(qe)}(j),xe=G.message;void 0===W&&(W=we.INTERNAL,xe="Unknown error status: "+j+" with message "+G.message),E=!0,A.eo(new je(W,xe)),v.close()}else Ve("Connection","WebChannel received:",N),A.no(N)}}),P(c,O1.STAT_EVENT,O=>{O.stat===Bw.PROXY?Ve("Connection","Detected buffering proxy"):O.stat===Bw.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.Zr()},0),A}}function S_(){return typeof window<"u"?window:null}function Vs(){return typeof document<"u"?document:null}function Wi(n){return new Mh(n,!0)}class Bs{constructor(e,t,r=1e3,s=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=s,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,t-r);s>0&&Ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class x_{constructor(e,t,r,s,l,c,f,y){this.js=e,this.Ao=r,this.Ro=s,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Bs(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Se.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Se.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===we.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===t&&this.Uo(r,s)},r=>{e(()=>{const s=new je(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){var e=this;this.state=5,this.So.Io((0,Se.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gb extends x_{constructor(e,t,r,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function lb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:rt(),s=e.targetChange.targetIds||[],l=function(y,v){return y.dt?(Rt(void 0===v||"string"==typeof v),$r.fromBase64String(v||"")):(Rt(void 0===v||v instanceof Uint8Array),$r.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const v=void 0===y.code?we.UNKNOWN:aT(y.code);return new je(v,y.message||"")}(c);t=new nb(r,s,l,f||null)}else if("documentChange"in e){const r=e.documentChange,s=Go(n,r.document.name),l=Qr(r.document.updateTime),c=new di({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(s,l,c);t=new tm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,s=Go(n,r.document),l=r.readTime?Qr(r.readTime):Bt.min(),c=$n.newNoDocument(s,l);t=new tm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=Go(n,r.document);t=new tm([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new Yv(r.count||0);t=new nm(r.targetId,l)}}var y;return t}(this.wt,e),r=function(s){if(!("targetChange"in s))return Bt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Qr(l.readTime):Bt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=sm(this.wt),t.addTarget=function(s,l){let c;const f=l.target;return c=qg(f)?{documents:cb(s,f)}:{query:hT(s,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=Ph(s,l.resumeToken):l.snapshotVersion.compareTo(Bt.min())>0&&(c.readTime=ju(s,l.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function t_(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=sm(this.wt),t.removeTarget=e,this.Oo(t)}}class RT extends x_{constructor(e,t,r,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function ub(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,s){let l=Qr(r.updateTime?r.updateTime:s);return l.isEqual(Bt.min())&&(l=Qr(s)),new Qg(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.Jo(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=sm(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pp(this.wt,r))};this.Oo(t)}}class LT extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.bo.ro(e,t,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(we.UNKNOWN,s.toString())})}ao(e,t,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(e,t,r,l,c,s)).catch(l=>{throw"FirebaseError"===l.name?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(we.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class FT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(hr(t),this.su=!1):Ve("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class UT{constructor(e,t,r,s,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{r.enqueueAndForget((0,Se.Z)(function*(){var y;Yl(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Se.Z)(function*(v){const C=ut(v);C.lu.add(4),yield Uh(C),C._u.set("Unknown"),C.lu.delete(4),yield id(C)}),function(v){return y.apply(this,arguments)})(c))}))}),this._u=new FT(r,s)}}function id(n){return sd.apply(this,arguments)}function sd(){return sd=(0,Se.Z)(function*(n){if(Yl(n))for(const e of n.fu)yield e(!0)}),sd.apply(this,arguments)}function Uh(n){return xm.apply(this,arguments)}function xm(){return xm=(0,Se.Z)(function*(n){for(const e of n.fu)yield e(!1)}),xm.apply(this,arguments)}function Mm(n,e){const t=ut(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Om(t)?M_(t):od(t).Co()&&Pm(t,e))}function Vh(n,e){const t=ut(n),r=od(t);t.hu.delete(e),r.Co()&&Sp(t,e),0===t.hu.size&&(r.Co()?r.ko():Yl(t)&&t._u.set("Unknown"))}function Pm(n,e){n.wu.Nt(e.targetId),od(n).Qo(e)}function Sp(n,e){n.wu.Nt(e),od(n).jo(e)}function M_(n){n.wu=new cT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),od(n).start(),n._u.iu()}function Om(n){return Yl(n)&&!od(n).Do()&&n.hu.size>0}function Yl(n){return 0===ut(n).lu.size}function Nm(n){n.wu=void 0}function km(n){return xp.apply(this,arguments)}function xp(){return xp=(0,Se.Z)(function*(n){n.hu.forEach((e,t)=>{Pm(n,e)})}),xp.apply(this,arguments)}function P_(n,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Se.Z)(function*(n,e){Nm(n),Om(n)?(n._u.uu(e),M_(n)):n._u.set("Unknown")}),Rm.apply(this,arguments)}function Wb(n,e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Se.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof nb&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(s,l){const c=l.cause;for(const f of l.targetIds)s.hu.has(f)&&(yield s.remoteSyncer.rejectListen(f,c),s.hu.delete(f),s.wu.removeTarget(f))}),function(s,l){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mp(n,r)}else if(e instanceof tm?n.wu.Ut(e):e instanceof nm?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Bt.min()))try{const r=yield v_(n.localStore);t.compareTo(r)>=0&&(yield function(s,l){const c=s.wu.Yt(l);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=s.hu.get(y);v&&s.hu.set(y,v.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach(f=>{const y=s.hu.get(f);if(!y)return;s.hu.set(f,y.withResumeToken($r.EMPTY_BYTE_STRING,y.snapshotVersion)),Sp(s,f);const v=new Yo(y.target,f,1,y.sequenceNumber);Pm(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield Mp(n,r)}var r}),Lm.apply(this,arguments)}function Mp(n,e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Se.Z)(function*(n,e,t){if(!Fl(e))throw e;n.lu.add(1),yield Uh(n),n._u.set("Offline"),t||(t=()=>v_(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield id(n)}))}),Fm.apply(this,arguments)}function O_(n,e){return e().catch(t=>Mp(n,t,e))}function Bh(n){return N_.apply(this,arguments)}function N_(){return N_=(0,Se.Z)(function*(n){const e=ut(n),t=Kl(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;VT(e);)try{const s=yield Zb(e.localStore,r);if(null===s){0===e.au.length&&t.ko();break}r=s.batchId,BT(e,s)}catch(s){yield Mp(e,s)}Yb(e)&&Kb(e)}),N_.apply(this,arguments)}function VT(n){return Yl(n)&&n.au.length<10}function BT(n,e){n.au.push(e);const t=Kl(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Yb(n){return Yl(n)&&!Kl(n).Do()&&n.au.length>0}function Kb(n){Kl(n).start()}function $T(n){return k_.apply(this,arguments)}function k_(){return k_=(0,Se.Z)(function*(n){Kl(n).Xo()}),k_.apply(this,arguments)}function ZT(n){return R_.apply(this,arguments)}function R_(){return R_=(0,Se.Z)(function*(n){const e=Kl(n);for(const t of n.au)e.Ho(t.mutations)}),R_.apply(this,arguments)}function jT(n,e,t){return L_.apply(this,arguments)}function L_(){return L_=(0,Se.Z)(function*(n,e,t){const r=n.au.shift(),s=gp.from(r,e,t);yield O_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Bh(n)}),L_.apply(this,arguments)}function HT(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,Se.Z)(function*(n,e){var t;e&&Kl(n).zo&&(yield(t=(0,Se.Z)(function*(r,s){if(oT(l=s.code)&&l!==we.ABORTED){const c=r.au.shift();Kl(r).No(),yield O_(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield Bh(r)}var l}),function(r,s){return t.apply(this,arguments)})(n,e)),Yb(n)&&Kb(n)}),F_.apply(this,arguments)}function Qb(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,Se.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=Yl(t);t.lu.add(3),yield Uh(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield id(t)}),U_.apply(this,arguments)}function V_(n,e){return B_.apply(this,arguments)}function B_(){return B_=(0,Se.Z)(function*(n,e){const t=ut(n);e?(t.lu.delete(2),yield id(t)):e||(t.lu.add(2),yield Uh(t),t._u.set("Unknown"))}),B_.apply(this,arguments)}function od(n){return n.mu||(n.mu=function(e,t,r){const s=ut(e);return s.tu(),new Gb(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:km.bind(null,n),Jr:P_.bind(null,n),Go:Wb.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.mu.No(),Om(n)?M_(n):n._u.set("Unknown")):(yield n.mu.stop(),Nm(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Kl(n){return n.gu||(n.gu=function(e,t,r){const s=ut(e);return s.tu(),new RT(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:$T.bind(null,n),Jr:HT.bind(null,n),Yo:ZT.bind(null,n),Jo:jT.bind(null,n)}),n.fu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.gu.No(),yield Bh(n)):(yield n.gu.stop(),n.au.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Um{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,l){const c=Date.now()+r,f=new Um(e,t,c,s,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(n,e){if(hr("AsyncQueue",`${e}: ${n}`),Fl(n))return new je(we.UNAVAILABLE,`${e}: ${n}`);throw n}class ld{constructor(e){this.comparator=e?(t,r)=>e(t,r)||st.comparator(t.key,r.key):(t,r)=>st.comparator(t.key,r.key),this.keyedMap=Jg(),this.sortedSet=new Er(this.comparator)}static emptySet(e){return new ld(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $_{constructor(){this.yu=new Er(st.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ud{constructor(e,t,r,s,l,c,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,s){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ud(e,t,ld.emptySet(t),l,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class Jb{constructor(){this.Iu=void 0,this.listeners=[]}}class Xb{constructor(){this.queries=new Hc(e=>Zv(e),ap),this.onlineState="Unknown",this.Tu=new Set}}function Vm(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.query;let s=!1,l=t.queries.get(r);if(l||(s=!0,l=new Jb),s)try{l.Iu=yield t.onListen(r)}catch(c){const f=ad(c,`Initialization of query '${zg(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&eC(t)}),Bm.apply(this,arguments)}function Ql(n,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.query;let s=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),s=0===l.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Z_.apply(this,arguments)}function qT(n,e){const t=ut(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const f of c.listeners)f.Au(s)&&(r=!0);c.Iu=s}}r&&eC(t)}function $h(n,e,t){const r=ut(n),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(t);r.queries.delete(e)}function eC(n){n.Tu.forEach(e=>{e.next()})}class Pp{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new ud(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class HD{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class j_{constructor(e){this.wt=e}Wi(e){return Go(this.wt,e)}zi(e){return e.metadata.exists?ob(this.wt,e.document,!1):$n.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Qr(e)}}class tC{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zT(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new j_(this.wt);for(const s of e)if(s.metadata.queries){const l=r.Wi(s.metadata.name);for(const c of s.metadata.queries){const f=(t.get(c)||Qt()).add(l);t.set(c,f)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function ei(n,e,t,r){return Im.apply(this,arguments)}(e.localStore,new j_(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const s of e.queries)yield NT(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function zT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Nt{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class rC{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Qt(),this.mutatedKeys=Qt(),this.Lu=Gg(e),this.Uu=new ld(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new $_,s=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const y="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,v="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((C,E)=>{const A=s.get(C),P=lp(this.query,E)?E:null,O=!!A&&this.mutatedKeys.has(A.key),U=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let N=!1;A&&P?A.data.isEqual(P.data)?O!==U&&(r.track({type:3,doc:P}),N=!0):this.Qu(A,P)||(r.track({type:2,doc:P}),N=!0,(y&&this.Lu(P,y)>0||v&&this.Lu(P,v)<0)&&(f=!0)):!A&&P?(r.track({type:0,doc:P}),N=!0):A&&!P&&(r.track({type:1,doc:A}),N=!0,(y||v)&&(f=!0)),N&&(P?(c=c.add(P),l=U?l.add(C):l.delete(C)):(c=c.delete(C),l=l.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),l=l.delete(C.key),r.track({type:1,doc:C})}return{Uu:c,Gu:r,Mi:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((v,C)=>function(E,A){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return P(E)-P(A)}(v.type,C.type)||this.Lu(v.doc,C.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,y=f!==this.$u;return this.$u=f,0!==l.length||y?{snapshot:new ud(this.query,e.Uu,s,l,e.mutatedKeys,0===f,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new $_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Qt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new nC(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new Nt(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Qt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return ud.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class GT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Zh{constructor(e){this.key=e,this.Xu=!1}}class WT{constructor(e,t,r,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Hc(f=>Zv(f),ap),this.ec=new Map,this.nc=new Set,this.sc=new Er(st.comparator),this.ic=new Map,this.rc=new Ep,this.oc={},this.uc=new Map,this.cc=ho.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function $m(n,e){return jh.apply(this,arguments)}function jh(){return jh=(0,Se.Z)(function*(n,e){const t=X_(n);let r,s;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),s=l.view.Yu();else{const c=yield nd(t.localStore,ls(e));t.isPrimaryClient&&Mm(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield ir(t,e,r,"current"===f)}return s}),jh.apply(this,arguments)}function ir(n,e,t,r){return iC.apply(this,arguments)}function iC(){return iC=(0,Se.Z)(function*(n,e,t,r){n.hc=(C,E,A)=>{return(P=(0,Se.Z)(function*(O,U,N,F){let G=U.view.Ku(N);G.Mi&&(G=yield Tm(O.localStore,U.query,!1).then(({documents:xe})=>U.view.Ku(xe,G)));const j=F&&F.targetChanges.get(U.targetId),W=U.view.applyChanges(G,O.isPrimaryClient,j);return hd(O,U.targetId,W.zu),W.snapshot}),function(O,U,N,F){return P.apply(this,arguments)})(n,C,E,A);var P};const s=yield Tm(n.localStore,e,!0),l=new rC(e,s.ji),c=l.Ku(s.documents),f=Sh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(c,n.isPrimaryClient,f);hd(n,t,y.zu);const v=new GT(e,t,l);return n.tc.set(e,v),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),y.snapshot}),iC.apply(this,arguments)}function sC(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Se.Z)(function*(n,e){const t=ut(n),r=t.tc.get(e),s=t.ec.get(r.targetId);if(s.length>1)return t.ec.set(r.targetId,s.filter(l=>!ap(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vh(t.remoteStore,r.targetId),dd(t,r.targetId)}).catch(Ua))):(dd(t,r.targetId),yield rd(t.localStore,r.targetId,!0))}),Zm.apply(this,arguments)}function jm(){return jm=(0,Se.Z)(function*(n,e,t){const r=e0(n);try{const s=yield function(l,c){const f=ut(l),y=fr.now(),v=c.reduce((A,P)=>A.add(P.key),Qt());let C,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let P=Rs(),O=Qt();return f.Ui.getEntries(A,v).next(U=>{P=U,P.forEach((N,F)=>{F.isValidDocument()||(O=O.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,P)).next(U=>{C=U;const N=[];for(const F of c){const G=iT(F,C.get(F.key).overlayedDocument);null!=G&&N.push(new Zu(F.key,G,Pv(G.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(A,y,N,c)}).next(U=>{E=U;const N=U.applyToLocalDocumentSet(C,O);return f.documentOverlayCache.saveOverlays(A,U.batchId,N)})}).then(()=>({batchId:E.batchId,changes:uT(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let y=l.oc[l.currentUser.toKey()];y||(y=new Er(Ht)),y=y.insert(c,f),l.oc[l.currentUser.toKey()]=y}(r,s.batchId,t),yield Jl(r,s.changes),yield Bh(r.remoteStore)}catch(s){const l=ad(s,"Failed to persist write");t.reject(l)}}),jm.apply(this,arguments)}function H_(n,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,Se.Z)(function*(n,e){const t=ut(n);try{const r=yield $b(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.ic.get(l);c&&(Rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Xu=!0:s.modifiedDocuments.size>0?Rt(c.Xu):s.removedDocuments.size>0&&(Rt(c.Xu),c.Xu=!1))}),yield Jl(t,r,e)}catch(r){yield Ua(r)}}),Hm.apply(this,arguments)}function q_(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.tc.forEach((l,c)=>{const f=c.view.Eu(e);f.snapshot&&s.push(f.snapshot)}),function(l,c){const f=ut(l);f.onlineState=c;let y=!1;f.queries.forEach((v,C)=>{for(const E of C.listeners)E.Eu(c)&&(y=!0)}),y&&eC(f)}(r.eventManager,e),s.length&&r.Zu.Go(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KT(n,e,t){return z_.apply(this,arguments)}function z_(){return z_=(0,Se.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ic.get(e),l=s&&s.key;if(l){let c=new Er(st.comparator);c=c.insert(l,$n.newNoDocument(l,Bt.min()));const f=Qt().add(l),y=new co(Bt.min(),new Map,new Mn(Ht),c,f);yield H_(r,y),r.sc=r.sc.remove(l),r.ic.delete(e),W_(r)}else yield rd(r.localStore,e,!1).then(()=>dd(r,e,t)).catch(Ua)}),z_.apply(this,arguments)}function QT(n,e){return cd.apply(this,arguments)}function cd(){return cd=(0,Se.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const s=yield Bb(t.localStore,e);zm(t,r,null),qm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jl(t,s)}catch(s){yield Ua(s)}}),cd.apply(this,arguments)}function JT(n,e,t){return G_.apply(this,arguments)}function G_(){return G_=(0,Se.Z)(function*(n,e,t){const r=ut(n);try{const s=yield function(l,c){const f=ut(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return f.mutationQueue.lookupMutationBatch(y,c).next(C=>(Rt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(y,C))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>f.localDocuments.getDocuments(y,v))})}(r.localStore,e);zm(r,e,t),qm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jl(r,s)}catch(s){yield Ua(s)}}),G_.apply(this,arguments)}function Hh(){return Hh=(0,Se.Z)(function*(n,e){const t=ut(n);Yl(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=ut(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const s=t.uc.get(r)||[];s.push(e),t.uc.set(r,s)}catch(r){const s=ad(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Hh.apply(this,arguments)}function qm(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function zm(n,e,t){const r=ut(n);let s=r.oc[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.oc[r.currentUser.toKey()]=s}}function dd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||oC(n,r)})}function oC(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Vh(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),W_(n))}function hd(n,e,t){for(const r of t)r instanceof Nt?(n.rc.addReference(r.key,e),Op(n,r)):r instanceof nC?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||oC(n,r.key)):rt()}function Op(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.nc.add(r),W_(n))}function W_(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new st(Kt.fromString(e)),r=n.cc.next();n.ic.set(r,new Zh(t)),n.sc=n.sc.insert(t,r),Mm(n.remoteStore,new Yo(ls(Eh(t.path)),r,2,zi.ot))}}function Jl(n,e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Se.Z)(function*(n,e,t){const r=ut(n),s=[],l=[],c=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,y)=>{c.push(r.hc(y,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,v.fromCache?"not-current":"current"),s.push(v);const C=m_.Vi(y.targetId,v);l.push(C)}}))}),yield Promise.all(c),r.Zu.Go(s),yield(f=(0,Se.Z)(function*(y,v){const C=ut(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ge.forEach(v,A=>ge.forEach(A.Pi,P=>C.persistence.referenceDelegate.addReference(E,A.targetId,P)).next(()=>ge.forEach(A.vi,P=>C.persistence.referenceDelegate.removeReference(E,A.targetId,P)))))}catch(E){if(!Fl(E))throw E;Ve("LocalStore","Failed to update sequence numbers: "+E)}for(const E of v){const A=E.targetId;if(!E.fromCache){const P=C.$i.get(A),U=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.$i=C.$i.insert(A,U)}}}),function(y,v){return f.apply(this,arguments)})(r.localStore,l))}),Y_.apply(this,arguments)}function aC(n,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,Se.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield Ap(t.localStore,e);t.currentUser=e,(s=t).uc.forEach(c=>{c.forEach(f=>{f.reject(new je(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jl(t,r.Ki)}var s}),Gm.apply(this,arguments)}function lC(n,e){const t=ut(n),r=t.ic.get(e);if(r&&r.Xu)return Qt().add(r.key);{let s=Qt();const l=t.ec.get(e);if(!l)return s;for(const c of l){const f=t.tc.get(c);s=s.unionWith(f.view.qu)}return s}}function eI(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Se.Z)(function*(n,e){const t=ut(n),r=yield Tm(t.localStore,e.query,!0),s=e.view.Ju(r);return t.isPrimaryClient&&hd(t,e.targetId,s.zu),s}),Wm.apply(this,arguments)}function tI(n,e){return K_.apply(this,arguments)}function K_(){return K_=(0,Se.Z)(function*(n,e){const t=ut(n);return w_(t.localStore,e).then(r=>Jl(t,r))}),K_.apply(this,arguments)}function qD(n,e,t,r){return uC.apply(this,arguments)}function uC(){return uC=(0,Se.Z)(function*(n,e,t,r){const s=ut(n),l=yield function(c,f){const y=ut(c),v=ut(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.yn(C,f).next(E=>E?y.localDocuments.getDocuments(C,E):ge.resolve(null)))}(s.localStore,e);var f;null!==l?("pending"===t?yield Bh(s.remoteStore):"acknowledged"===t||"rejected"===t?(zm(s,e,r||null),qm(s,e),f=e,ut(ut(s.localStore).mutationQueue).In(f)):rt(),yield Jl(s,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),uC.apply(this,arguments)}function cC(){return cC=(0,Se.Z)(function*(n,e){const t=ut(n);if(X_(t),e0(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield Q_(t,r.toArray());t.ac=!0,yield V_(t.remoteStore,!0);for(const l of s)Mm(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let s=Promise.resolve();t.ec.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):s=s.then(()=>(dd(t,c),rd(t.localStore,c,!0))),Vh(t.remoteStore,c)}),yield s,yield Q_(t,r),function(l){const c=ut(l);c.ic.forEach((f,y)=>{Vh(c.remoteStore,y)}),c.rc.cs(),c.ic=new Map,c.sc=new Er(st.comparator)}(t),t.ac=!1,yield V_(t.remoteStore,!1)}}),cC.apply(this,arguments)}function Q_(n,e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,Se.Z)(function*(n,e,t){const r=ut(n),s=[],l=[];for(const c of e){let f;const y=r.ec.get(c);if(y&&0!==y.length){f=yield nd(r.localStore,ls(y[0]));for(const v of y){const C=r.tc.get(v),E=yield eI(r,C);E.snapshot&&l.push(E.snapshot)}}else{const v=yield Hb(r.localStore,c);f=yield nd(r.localStore,v),yield ir(r,dC(v),c,!1)}s.push(f)}return r.Zu.Go(l),s}),qh.apply(this,arguments)}function dC(n){return sp(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nI(n){const e=ut(n);return ut(ut(e.localStore).persistence).Ri()}function hC(n,e,t,r){return fd.apply(this,arguments)}function fd(){return fd=(0,Se.Z)(function*(n,e,t,r){const s=ut(n);if(s.ac)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const l=s.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield w_(s.localStore,J1(l[0])),f=co.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Jl(s,c,f);break}case"rejected":yield rd(s.localStore,e,!0),dd(s,e,r);break;default:rt()}}),fd.apply(this,arguments)}function rI(n,e,t){return J_.apply(this,arguments)}function J_(){return J_=(0,Se.Z)(function*(n,e,t){const r=X_(n);if(r.ac){for(const s of e){if(r.ec.has(s)){Ve("SyncEngine","Adding an already active target "+s);continue}const l=yield Hb(r.localStore,s),c=yield nd(r.localStore,l);yield ir(r,dC(l),c.targetId,!1),Mm(r.remoteStore,c)}for(const s of t)r.ec.has(s)&&(yield rd(r.localStore,s,!1).then(()=>{Vh(r.remoteStore,s),dd(r,s)}).catch(Ua))}}),J_.apply(this,arguments)}function X_(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KT.bind(null,e),e.Zu.Go=qT.bind(null,e.eventManager),e.Zu.lc=$h.bind(null,e.eventManager),e}function e0(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JT.bind(null,e),e}class t0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.wt=Wi(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Cm(this.persistence,new y_,e.initialUser,this.wt)}_c(e){return new _m(Tp.Os,this.wt)}dc(e){return new I_}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fC extends t0{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield e0(r.yc.syncEngine),yield Bh(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Cm(this.persistence,new y_,e.initialUser,this.wt)}mc(e,t){return new xb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new qw(t,this.persistence);return new H1(e.asyncQueue,r)}_c(e){const t=bm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new wm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,S_(),Vs(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new I_}}class sI extends fC{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const s=r.yc.syncEngine;r.sharedClientState instanceof T_&&(r.sharedClientState.syncEngine={kr:qD.bind(null,s),Mr:hC.bind(null,s),Or:rI.bind(null,s),Ri:nI.bind(null,s),Nr:tI.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,Se.Z)(function*(c){yield function zD(n,e){return cC.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(e){const t=S_();if(!T_.V(t))throw new je(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new T_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gu{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>q_(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,r.syncEngine),yield V_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xb}createDatastore(e){const t=Wi(e.databaseInfo.databaseId),r=new kT(e.databaseInfo);return new LT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,l=f=>q_(this.syncEngine,f,0),c=A_.V()?new A_:new jD,new UT(t,r,s,l,c);var t,r,s,l,c}createSyncEngine(e,t){return function(r,s,l,c,f,y,v){const C=new WT(r,s,l,c,f,y);return v&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=ut(t);Ve("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Uh(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pC(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oI{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ui,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),s=Number(r);isNaN(s)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(s);return new HD(JSON.parse(l),t.length+s)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Se.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class gC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Se.Z)(function*(l,c){const f=ut(l),y=sm(f.wt)+"/documents",v={documents:c.map(P=>qc(f.wt,P))},C=yield f.ao("BatchGetDocuments",y,v,c.length),E=new Map;C.forEach(P=>{const O=function ab(n,e){return"found"in e?function(t,r){Rt(!!r.found);const s=Go(t,r.found.name),l=Qr(r.found.updateTime),c=new di({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(s,l,c)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const s=Go(t,r.missing),l=Qr(r.readTime);return $n.newNoDocument(s,l)}(n,e):rt()}(f.wt,P);E.set(O.key.toString(),O)});const A=[];return c.forEach(P=>{const O=E.get(P.toString());Rt(!!O),A.push(O)}),A}),function(l,c){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const l=st.fromPath(s);e.mutations.push(new Wv(l,e.precondition(l)))}),yield(r=(0,Se.Z)(function*(s,l){const c=ut(s),f=sm(c.wt)+"/documents",y={writes:l.map(v=>pp(c.wt,v))};yield c.ro("Commit",f,y)}),function(s,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new je(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aI{constructor(e,t,r,s,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=l,this.Dc=r.maxAttempts,this.So=new Bs(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Se.Z)(function*(){const t=new gC(e.datastore),r=e.xc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(l=>{e.Nc(l)}))}).catch(s=>{e.Nc(s)})}))}xc(e){try{const t=this.updateFunction(e);return!Jf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!oT(t)}return!1}}class mC{constructor(e,t,r,s){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=li.UNAUTHENTICATED,this.clientId=Fa.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=ad(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function yC(n,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Se.Z)(function*(l){r.isEqual(l)||(yield Ap(e.localStore,l),r=l)});return function(l){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),kp.apply(this,arguments)}function vC(n,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Km(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>Qb(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,l)=>Qb(e.remoteStore,l)),n.onlineComponents=e}),Ym.apply(this,arguments)}function Km(n){return n0.apply(this,arguments)}function n0(){return n0=(0,Se.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield yC(n,new t0)),n.offlineComponents}),n0.apply(this,arguments)}function Qm(n){return r0.apply(this,arguments)}function r0(){return r0=(0,Se.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield vC(n,new Gu)),n.onlineComponents}),r0.apply(this,arguments)}function Jm(n){return Km(n).then(e=>e.persistence)}function Xm(n){return Km(n).then(e=>e.localStore)}function s0(n){return Qm(n).then(e=>e.remoteStore)}function o0(n){return Qm(n).then(e=>e.syncEngine)}function zh(n){return a0.apply(this,arguments)}function a0(){return a0=(0,Se.Z)(function*(n){const e=yield Qm(n),t=e.eventManager;return t.onListen=$m.bind(null,e.syncEngine),t.onUnlisten=sC.bind(null,e.syncEngine),t}),a0.apply(this,arguments)}function _C(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,l,c,f,y){const v=new Np({next:E=>{l.enqueueAndForget(()=>Ql(s,C));const A=E.docs.has(c);!A&&E.fromCache?y.reject(new je(we.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&"server"===f.source?y.reject(new je(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),C=new Pp(Eh(c.path),v,{includeMetadataChanges:!0,Du:!0});return Vm(s,C)}(yield zh(n),n.asyncQueue,e,t,r)})),r.promise}function l0(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,l,c,f,y){const v=new Np({next:E=>{l.enqueueAndForget(()=>Ql(s,C)),E.fromCache&&"server"===f.source?y.reject(new je(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),C=new Pp(c,v,{includeMetadataChanges:!0,Du:!0});return Vm(s,C)}(yield zh(n),n.asyncQueue,e,t,r)})),r.promise}const CC=new Map;function u0(n,e,t){if(!t)throw new je(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EC(n,e,t,r){if(!0===e&&!0===r)throw new je(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ey(n){if(!st.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ty(n){if(st.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rp(n);throw new je(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TC(n,e){if(e<=0)throw new je(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class IC{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new je(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,EC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IC({}),this._settingsFrozen=!1,e instanceof Va?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new je(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(s.options.projectId)}(e))}get app(){if(!this._app)throw new je(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IC(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new R1;switch(t.type){case"gapi":const r=t.client;return Rt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new U1(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new je(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CC.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),CC.delete(e),t.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Pr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pr(this.firestore,e,this._query)}}class Xo extends Pr{constructor(e,t,r){super(e,t,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new st(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function AC(n,e,...t){if(n=(0,jt.m9)(n),u0("collection","path",e),n instanceof pd){const r=Kt.fromString(e,...t);return ty(r),new Xo(n,null,r)}{if(!(n instanceof Zn||n instanceof Xo))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return ty(r),new Xo(n.firestore,null,r)}}function Lp(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=Fa.I()),u0("doc","path",e),n instanceof pd){const r=Kt.fromString(e,...t);return ey(r),new Zn(n,null,new st(r))}{if(!(n instanceof Zn||n instanceof Xo))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return ey(r),new Zn(n.firestore,n instanceof Xo?n.converter:null,new st(r))}}function ny(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof Zn||n instanceof Xo)&&(e instanceof Zn||e instanceof Xo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function DC(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof Pr&&e instanceof Pr&&n.firestore===e.firestore&&ap(n._query,e._query)&&n.converter===e.converter}class c0{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Bs(this,"async_queue_retry"),this.Kc=()=>{const t=Vs();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Vs();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Vs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ui;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Fl(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const s=Um.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(s),s}Gc(){this.Bc&&rt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function d0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class gI{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends pd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new c0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||SC(this),this._firestoreClient.terminate()}}function Or(n){return n._firestoreClient||SC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SC(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new q1(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new mC(n._authCredentials,n._appCheckCredentials,n._queue,r)}function xC(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield yC(n,t),yield vC(n,e),r.resolve()}catch(s){const l=s;if(!("FirebaseError"===(c=l).name?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;Fu("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function OC(n){if(n._initialized||n._terminated)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea($r.fromBase64String(e))}catch(t){throw new je(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gd{constructor(e){this._methodName=e}}class ry{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const NC=/^__.*__$/;class kC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}class RC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class iy{constructor(e,t,r,s,l,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=s,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new iy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.sa(e),s}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return ay(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(LC(this.Zc)&&NC.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class CI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Wi(e)}aa(e,t,r,s=!1){return new iy({Zc:e,methodName:t,ca:r,path:rr.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ta(n){const e=n._freezeSettings(),t=Wi(n._databaseId);return new CI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fp(n,e,t,r,s,l={}){const c=n.aa(l.merge||l.mergeFields?2:0,e,t,s);yd("Data must be an object, but it was:",c,r);const f=BC(r,c);let y,v;if(l.merge)y=new as(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const C=[];for(const E of l.mergeFields){const A=g0(e,E,t);if(!c.contains(A))throw new je(we.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ly(C,A)||C.push(A)}y=new as(C),v=c.fieldTransforms.filter(E=>y.covers(E.field))}else y=null,v=c.fieldTransforms;return new kC(new di(f),y,v)}class Gh extends gd{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function f0(n,e,t){return new iy({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class sy extends gd{_toFieldTransform(e){return new Yg(e.path,new Ih)}isEqual(e){return e instanceof sy}}class FC extends gd{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=f0(this,e,!0),r=this.ha.map(l=>md(l,t)),s=new Zl(r);return new Yg(e.path,s)}isEqual(e){return this===e}}class UC extends gd{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=f0(this,e,!0),r=this.ha.map(l=>md(l,t)),s=new jl(r);return new Yg(e.path,s)}isEqual(e){return this===e}}class EI extends gd{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new $u(e.wt,jv(e.wt,this.la));return new Yg(e.path,t)}isEqual(e){return this===e}}function VC(n,e,t,r){const s=n.aa(1,e,t);yd("Data must be an object, but it was:",s,r);const l=[],c=di.empty();Bu(r,(y,v)=>{const C=$s(e,y,t);v=(0,jt.m9)(v);const E=s.ia(C);if(v instanceof Gh)l.push(C);else{const A=md(v,E);null!=A&&(l.push(C),c.set(C,A))}});const f=new as(l);return new RC(c,f,s.fieldTransforms)}function oy(n,e,t,r,s,l){const c=n.aa(1,e,t),f=[g0(e,r,t)],y=[s];if(l.length%2!=0)throw new je(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)f.push(g0(e,l[A])),y.push(l[A+1]);const v=[],C=di.empty();for(let A=f.length-1;A>=0;--A)if(!ly(v,f[A])){const P=f[A];let O=y[A];O=(0,jt.m9)(O);const U=c.ia(P);if(O instanceof Gh)v.push(P);else{const N=md(O,U);null!=N&&(v.push(P),C.set(P,N))}}const E=new as(v);return new RC(C,E,c.fieldTransforms)}function p0(n,e,t,r=!1){return md(t,n.aa(r?4:3,e))}function md(n,e){if($C(n=(0,jt.m9)(n)))return yd("Unsupported field value:",e,n),BC(n,e);if(n instanceof gd)return function(t,r){if(!LC(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const s=[];let l=0;for(const c of t){let f=md(c,r.ra(l));null==f&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jv(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=fr.fromDate(t);return{timestampValue:ju(r.wt,s)}}if(t instanceof fr){const s=new fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ju(r.wt,s)}}if(t instanceof ry)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ea)return{bytesValue:Ph(r.wt,t._byteString)};if(t instanceof Zn){const s=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Rp(t)}`)}(n,e)}function BC(n,e){const t={};return Iv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(n,(r,s)=>{const l=md(s,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function $C(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof ry||n instanceof ea||n instanceof Zn||n instanceof gd)}function yd(n,e,t){if(!$C(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Rp(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function g0(n,e,t){if((e=(0,jt.m9)(e))instanceof Xl)return e._internalPath;if("string"==typeof e)return $s(n,e);throw ay("Field path arguments must be of type string or ",n,!1,void 0,t)}const m0=new RegExp("[~\\*/\\[\\]]");function $s(n,e,t){if(e.search(m0)>=0)throw ay(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xl(...e.split("."))._internalPath}catch{throw ay(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ay(n,e,t,r,s){const l=r&&!r.isEmpty(),c=void 0!==s;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${r}`),c&&(y+=` in document ${s}`),y+=")"),new je(we.INVALID_ARGUMENT,f+n+y)}function ly(n,e){return n.some(t=>t.isEqual(e))}class eu{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TI extends eu{data(){return super.data()}}function uy(n,e){return"string"==typeof e?$s(n,e):e instanceof Xl?e._internalPath:e._delegate._internalPath}class vd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends eu{constructor(e,t,r,s,l,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wu extends fo{data(e={}){return super.data(e)}}class Yu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wu(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Wu(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const f=new Wu(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,v=-1;return 0!==c.type&&(y=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),v=l.indexOf(c.doc.key)),{type:II(c.type),doc:f,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function II(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function y0(n,e){return n instanceof fo&&e instanceof fo?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yu&&e instanceof Yu&&n._firestore===e._firestore&&DC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function v0(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _d{}function tu(n,...e){for(const t of e)n=t._apply(n);return n}class AI extends _d{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=ta(e.firestore),r=function(s,l,c,f,y,v,C){let E;if(y.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new je(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){C0(C,v);const P=[];for(const O of C)P.push(b0(f,s,O));E={arrayValue:{values:P}}}else E=b0(f,s,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||C0(C,v),E=p0(c,"where",C,"in"===v||"not-in"===v);const A=gr.create(y,v,E);return function(P,O){if(O.ht()){const N=Bv(P);if(null!==N&&!N.isEqual(O.field))throw new je(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${N.toString()}' and '${O.field.toString()}'`);const F=Vv(P);null!==F&&E0(0,O.field,F)}const U=function(N,F){for(const G of N.filters)if(F.indexOf(G.op)>=0)return G.op;return null}(P,function(N){switch(N){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(null!==U)throw new je(we.INVALID_ARGUMENT,U===O.op?`Invalid query. You cannot use more than one '${O.op.toString()}' filter.`:`Invalid query. You cannot use '${O.op.toString()}' filters with '${U.toString()}' filters.`)}(s,A),A}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Pr(e.firestore,e.converter,function(s,l){const c=s.filters.concat([l]);return new $a(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class JD extends _d{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,s,l){if(null!==r.startAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ip(s,l);return function(f,y){if(null===Vv(f)){const v=Bv(f);null!==v&&E0(0,v,y.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Pr(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new $a(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cy extends _d{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Pr(e.firestore,e.converter,op(e._query,this.ma,this.ga))}}class dy extends _d{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=hy(e,this.type,this.ya,this.pa);return new Pr(e.firestore,e.converter,(s=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class jC extends _d{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=hy(e,this.type,this.ya,this.pa);return new Pr(e.firestore,e.converter,(s=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function hy(n,e,t,r){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof eu)return function(s,l,c,f,y){if(!f)throw new je(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const C of Th(s))if(C.field.isKeyField())v.push(Uc(l,f.key));else{const E=f.data.field(C.field);if($g(E))throw new je(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const A=C.field.canonicalString();throw new je(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(E)}return new $l(v,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=ta(n.firestore);return function(l,c,f,y,v,C){const E=l.explicitOrderBy;if(v.length>E.length)throw new je(we.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let P=0;P<v.length;P++){const O=v[P];if(E[P].field.isKeyField()){if("string"!=typeof O)throw new je(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof O}`);if(!$v(l)&&-1!==O.indexOf("/"))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${O}' contains a slash.`);const U=l.path.child(Kt.fromString(O));if(!st.isDocumentKey(U))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const N=new st(U);A.push(Uc(c,N))}else{const U=p0(f,y,O);A.push(U)}}return new $l(A,C)}(n._query,n.firestore._databaseId,s,e,t,r)}}function b0(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new je(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$v(e)&&-1!==t.indexOf("/"))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!st.isDocumentKey(r))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uc(n,new st(r))}if(t instanceof Zn)return Uc(n,t._key);throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rp(t)}.`)}function C0(n,e){if(!Array.isArray(n)||0===n.length)throw new je(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new je(we.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function E0(n,e,t){if(!t.isEqual(e))throw new je(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const qC={maxAttempts:5};class T0{convertValue(e,t="none"){switch(wh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Bu(e.fields,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new ry(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Rt(fb(r));const s=new Va(r.get(1),r.get(3)),l=new st(r.popFirst(5));return s.isEqual(t)||hr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Up(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zC extends T0{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}class GC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ta(e)}set(e,t,r){this._verifyNotCommitted();const s=nu(e,this._firestore),l=Up(s.converter,t,r),c=Fp(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,r);return this._mutations.push(c.toMutation(s._key,Gn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const l=nu(e,this._firestore);let c;return c="string"==typeof(t=(0,jt.m9)(t))||t instanceof Xl?oy(this._dataReader,"WriteBatch.update",l._key,t,r,s):VC(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nu(e,this._firestore);return this._mutations=this._mutations.concat(new jc(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nu(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new je(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Nr extends T0{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function I0(n,e,t){n=sn(n,Zn);const r=sn(n.firestore,Wn),s=Up(n.converter,e,t);return wd(r,[Fp(ta(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Gn.none())])}function A0(n,e,t,...r){n=sn(n,Zn);const s=sn(n.firestore,Wn),l=ta(s);let c;return c="string"==typeof(e=(0,jt.m9)(e))||e instanceof Xl?oy(l,"updateDoc",n._key,e,t,r):VC(l,"updateDoc",n._key,e),wd(s,[c.toMutation(n._key,Gn.exists(!0))])}function fy(n,...e){var t,r,s;n=(0,jt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||d0(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges};if(d0(e[c])){const E=e[c];e[c]=null===(t=E.next)||void 0===t?void 0:t.bind(E),e[c+1]=null===(r=E.error)||void 0===r?void 0:r.bind(E),e[c+2]=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}let y,v,C;if(n instanceof Zn)v=sn(n.firestore,Wn),C=Eh(n._key.path),y={next:E=>{e[c]&&e[c](D0(v,n,E))},error:e[c+1],complete:e[c+2]};else{const E=sn(n,Pr);v=sn(E.firestore,Wn),C=E._query;const A=new Nr(v);y={next:P=>{e[c]&&e[c](new Yu(v,A,E,P))},error:e[c+1],complete:e[c+2]},v0(n._query)}return function(E,A,P,O){const U=new Np(O),N=new Pp(A,U,P);return E.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Vm(yield zh(E),N)})),()=>{U.Tc(),E.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Ql(yield zh(E),N)}))}}(Or(v),C,f,y)}function wd(n,e){return function(t,r){const s=new ui;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function YT(n,e,t){return jm.apply(this,arguments)}(yield o0(t),r,s)})),s.promise}(Or(n),e)}function D0(n,e,t){const r=t.docs.get(e._key),s=new Nr(n);return new fo(n,s,e._key,r,new vd(t.hasPendingWrites,t.fromCache),e.converter)}class RI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ta(e)}get(e){const t=nu(e,this._firestore),r=new zC(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return rt();const l=s[0];if(l.isFoundDocument())return new eu(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new eu(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const s=nu(e,this._firestore),l=Up(s.converter,t,r),c=Fp(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,t,r,...s){const l=nu(e,this._firestore);let c;return c="string"==typeof(t=(0,jt.m9)(t))||t instanceof Xl?oy(this._dataReader,"Transaction.update",l._key,t,r,s):VC(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=nu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nu(e,this._firestore),r=new Nr(this._firestore);return super.get(e).then(s=>new fo(this._firestore,r,t._key,s._document,new vd(!1,!1),t.converter))}}function Ku(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function XC(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function M0(){if(!function Sv(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yh=Is.SDK_VERSION,(0,Is._registerComponent)(new ji.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Wn(s,new L1(t.getProvider("auth-internal")),new V1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Is.registerVersion)($w,"3.4.14",n),(0,Is.registerVersion)($w,"3.4.14","esm2017")}();class bd{constructor(e){this._delegate=e}static fromBase64String(e){return M0(),new bd(ea.fromBase64String(e))}static fromUint8Array(e){return XC(),new bd(ea.fromUint8Array(e))}toBase64(){return M0(),this._delegate.toBase64()}toUint8Array(){return XC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eE(n){return function UI(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tS{enableIndexedDbPersistence(e,t){return function vI(n,e){OC(n=sn(n,Wn));const t=Or(n),r=n._freezeSettings(),s=new Gu;return xC(t,s,new fC(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _I(n){OC(n=sn(n,Wn));const e=Or(n),t=n._freezeSettings(),r=new Gu;return xC(e,r,new sI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MC(n){if(n._initialized&&!n._terminated)throw new je(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!jo.V())return Promise.resolve();const s=r+"main";yield jo.delete(s)}),function(r){return t.apply(this,arguments)})(bm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class tE{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function pI(n,e,t,r={}){var s;const l=(n=sn(n,pd))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Fu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=li.MOCK_USER;else{c=(0,jt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new je(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new li(y)}n._authCredentials=new Zw(new mv(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function PC(n){return function lI(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Jm(n),t=yield s0(n);return e.setNetworkEnabled(!0),function(r){const s=ut(r);return s.lu.delete(0),id(s)}(t)}))}(Or(n=sn(n,Wn)))}(this._delegate)}disableNetwork(){return function wI(n){return function uI(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Jm(n),t=yield s0(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(s){const l=ut(s);l.lu.add(0),yield Uh(l),l._u.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Or(n=sn(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,EC("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WD(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function XT(n,e){return Hh.apply(this,arguments)}(yield o0(e),t)})),t.promise}(Or(n=sn(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function kI(n,e){return function wC(n,e){const t=new Np(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield zh(n),s=t,ut(r).Tu.add(s),void s.next();var r,s})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield zh(n),s=t,void ut(r).Tu.delete(s);var r,s}))}}(Or(n=sn(n,Wn)),d0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ed(this,AC(this._delegate,e))}catch(t){throw Ri(t,"collection()","Firestore.collection()")}}doc(e){try{return new Zs(this,Lp(this._delegate,e))}catch(t){throw Ri(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Li(this,function GD(n,e){if(n=sn(n,pd),u0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(n,null,(t=e,new $a(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ri(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Yh(n,e,t){n=sn(n,Wn);const r=Object.assign(Object.assign({},qC),t);return function(s){if(s.maxAttempts<1)throw new je(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function hI(n,e,t){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const s=yield(l=n,Qm(l).then(c=>c.datastore));var l;new aI(n.asyncQueue,s,t,e,r).run()})),r.promise}(Or(n),s=>e(new RI(n,s)),r)}(this._delegate,t=>e(new P0(this,t)))}batch(){return Or(this._delegate),new O0(new GC(this._delegate,e=>wd(this._delegate,e)))}loadBundle(e){return function KD(n,e){const t=Or(n=sn(n,Wn)),r=new gI;return function fI(n,e,t,r){const s=function(l,c){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,v){if(y instanceof Uint8Array)return pC(y,v);if(y instanceof ArrayBuffer)return pC(new Uint8Array(y),v);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new oI(y,c);var y}(t,Wi(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function iI(n,e,t){const r=ut(n);var s;(s=(0,Se.Z)(function*(l,c,f){try{const y=yield c.getMetadata();if(yield function(A,P){const O=ut(A),U=Qr(P.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",N=>O.Ds.getBundleMetadata(N,P.id)).then(N=>!!N&&N.createTime.compareTo(U)>=0)}(l.localStore,y))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(A=y).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);f._updateProgress(zT(y));const v=new tC(y,l.localStore,c.wt);let C=yield c.fc();for(;C;){const A=yield v.Nu(C);A&&f._updateProgress(A),C=yield c.fc()}const E=yield v.complete();return yield Jl(l,E.Ou,void 0),yield function(A,P){const O=ut(A);return O.persistence.runTransaction("Save bundle","readwrite",U=>O.Ds.saveBundleMetadata(U,P))}(l.localStore,y),f._completeWith(E.progress),Promise.resolve(E.Mu)}catch(y){return Fu("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var A}),function(l,c,f){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield o0(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function QD(n,e){return function bC(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const s=ut(t);return s.persistence.runTransaction("Get named query","readonly",l=>s.Ds.getNamedQuery(l,r))}(yield Xm(n),e)}))}(Or(n=sn(n,Wn)),e).then(t=>t?new Pr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Li(this,t):null)}}class gy extends T0{constructor(e){super(),this.firestore=e}convertBytes(e){return new bd(new ea(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Zs.forKey(t,this.firestore,null)}}class P0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gy(e)}get(e){const t=Td(e);return this._delegate.get(t).then(r=>new Kh(this._firestore,new fo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Td(e);return r?(Ku("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Td(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}}class O0{constructor(e){this._delegate=e}set(e,t,r){const s=Td(e);return r?(Ku("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Td(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Wu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Cd.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let l=s.get(t);return l||(l=new Cd(e,new gy(e),t),s.set(t,l)),l}}Cd.INSTANCES=new WeakMap;class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Zs(t,new Zn(t._delegate,r,new st(e)))}static forKey(e,t,r){return new Zs(t,new Zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ed(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ed(this.firestore,AC(this._delegate,e))}catch(t){throw Ri(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof Zn&&ny(this._delegate,e)}set(e,t){t=Ku("DocumentReference.set",t);try{return t?I0(this._delegate,e,t):I0(this._delegate,e)}catch(r){throw Ri(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?A0(this._delegate,e):A0(this._delegate,e,t,...r)}catch(s){throw Ri(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Vp(n){return wd(sn(n.firestore,Wn),[new jc(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=nE(e),r=rE(e,s=>new Kh(this.firestore,new fo(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return fy(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Wh(n){n=sn(n,Zn);const e=sn(n.firestore,Wn),t=Or(e),r=new Nr(e);return function cI(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(s,l,c){try{const f=yield function(y,v){const C=ut(y);return C.persistence.runTransaction("read document","readonly",E=>C.localDocuments.getDocument(E,v))}(s,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new je(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=ad(f,`Failed to get document '${l} from cache`);c.reject(y)}}),function(s,l,c){return r.apply(this,arguments)})(yield Xm(n),e,t);var r})),t.promise}(t,n._key).then(s=>new fo(e,r,n._key,s,new vd(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function PI(n){n=sn(n,Zn);const e=sn(n.firestore,Wn);return _C(Or(e),n._key,{source:"server"}).then(t=>D0(e,n,t))}(this._delegate):function WC(n){n=sn(n,Zn);const e=sn(n.firestore,Wn);return _C(Or(e),n._key).then(t=>D0(e,n,t))}(this._delegate),t.then(r=>new Kh(this.firestore,new fo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function Ri(n,e,t){return n.message=n.message.replace(e,t),n}function nE(n){for(const e of n)if("object"==typeof e&&!eE(e))return e;return{}}function rE(n,e){var t,r;let s;return s=eE(n[0])?n[0]:eE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Kh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Zs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return y0(this._delegate,e._delegate)}}class Bp extends Kh{data(e){const t=this._delegate.data(e);return function gv(n,e){n||rt()}(void 0!==t),t}}class Li{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gy(e)}where(e,t,r){try{return new Li(this.firestore,tu(this._delegate,function DI(n,e,t){const r=e,s=uy("where",n);return new AI(s,r,t)}(e,t,r)))}catch(s){throw Ri(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Li(this.firestore,tu(this._delegate,function _0(n,e="asc"){const t=e,r=uy("orderBy",n);return new JD(r,t)}(e,t)))}catch(r){throw Ri(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Li(this.firestore,tu(this._delegate,function ZC(n){return TC("limit",n),new cy("limit",n,"F")}(e)))}catch(t){throw Ri(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Li(this.firestore,tu(this._delegate,function w0(n){return TC("limitToLast",n),new cy("limitToLast",n,"L")}(e)))}catch(t){throw Ri(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Li(this.firestore,tu(this._delegate,function SI(...n){return new dy("startAt",n,!0)}(...e)))}catch(t){throw Ri(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Li(this.firestore,tu(this._delegate,function xI(...n){return new dy("startAfter",n,!1)}(...e)))}catch(t){throw Ri(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Li(this.firestore,tu(this._delegate,function MI(...n){return new jC("endBefore",n,!1)}(...e)))}catch(t){throw Ri(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Li(this.firestore,tu(this._delegate,function HC(...n){return new jC("endAt",n,!0)}(...e)))}catch(t){throw Ri(t,"endAt()","Query.endAt()")}}isEqual(e){return DC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function XD(n){n=sn(n,Pr);const e=sn(n.firestore,Wn),t=Or(e),r=new Nr(e);return function dI(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(s,l,c){try{const f=yield Tm(s,l,!0),y=new rC(l,f.ji),v=y.Ku(f.documents),C=y.applyChanges(v,!1);c.resolve(C.snapshot)}catch(f){const y=ad(f,`Failed to execute query '${l} against cache`);c.reject(y)}}),function(s,l,c){return r.apply(this,arguments)})(yield Xm(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Yu(e,r,n,s))}(this._delegate):"server"===e?.source?function eS(n){n=sn(n,Pr);const e=sn(n.firestore,Wn),t=Or(e),r=new Nr(e);return l0(t,n._query,{source:"server"}).then(s=>new Yu(e,r,n,s))}(this._delegate):function OI(n){n=sn(n,Pr);const e=sn(n.firestore,Wn),t=Or(e),r=new Nr(e);return v0(n._query),l0(t,n._query).then(s=>new Yu(e,r,n,s))}(this._delegate),t.then(r=>new my(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nE(e),r=rE(e,s=>new my(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return fy(this._delegate,t,r)}withConverter(e){return new Li(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}class iE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class my{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Li(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new iE(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bp(this._firestore,r))})}isEqual(e){return y0(this._delegate,e._delegate)}}class Ed extends Li{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Zs(this.firestore,e):null}doc(e){try{return new Zs(this.firestore,void 0===e?Lp(this._delegate):Lp(this._delegate,e))}catch(t){throw Ri(t,"doc()","CollectionReference.doc()")}}add(e){return function NI(n,e){const t=sn(n.firestore,Wn),r=Lp(n),s=Up(n.converter,e);return wd(t,[Fp(ta(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Zs(this.firestore,t))}isEqual(e){return ny(this._delegate,e._delegate)}withConverter(e){return new Ed(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function Td(n){return sn(n,Zn)}class N0{constructor(...e){this._delegate=new Xl(...e)}static documentId(){return new N0(rr.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof Xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function S0(){return new sy("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qh(e)}static delete(){const e=function LI(){return new Gh("deleteField")}();return e._methodName="FieldValue.delete",new Qh(e)}static arrayUnion(...e){const t=function YC(...n){return new FC("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qh(t)}static arrayRemove(...e){const t=function KC(...n){return new UC("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qh(t)}static increment(e){const t=function py(n){return new EI("increment",n)}(e);return t._methodName="FieldValue.increment",new Qh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sE={Firestore:tE,GeoPoint:ry,Timestamp:fr,Blob:bd,Transaction:P0,WriteBatch:O0,DocumentReference:Zs,DocumentSnapshot:Kh,Query:Li,QueryDocumentSnapshot:Bp,QuerySnapshot:my,CollectionReference:Ed,FieldPath:N0,FieldValue:Qh,setLogLevel:function VI(n){!function k1(n){Ll.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function rS(n){(function nS(n,e){n.INTERNAL.registerComponent(new ji.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},sE)))})(n,(e,t)=>new tE(e,t,new tS)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(yu.Z);var Ha=Z(7579),iS=Z(6451),k0=Z(5363),R0=Z(8421);function ti(n,e){return(0,Fr.e)((t,r)=>{let s=null,l=0,c=!1;const f=()=>c&&!s&&r.complete();t.subscribe((0,wr.x)(r,y=>{s?.unsubscribe();let v=0;const C=l++;(0,R0.Xf)(n(y,C)).subscribe(s=(0,wr.x)(r,E=>r.next(e?e(y,E,C,v++):E),()=>{s=null,f()}))},()=>{c=!0,f()}))})}var sS=Z(6063);class yy extends Ha.x{constructor(e=1/0,t=1/0,r=sS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!s&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,l=s.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,l=(s?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!s){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var oS=Z(3099);function $p(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,oS.B)({connector:()=>new yy(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}const Zp=(0,Z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qu=Z(515);function Ju(n){return n<=0?()=>Qu.E:(0,Fr.e)((e,t)=>{let r=0;e.subscribe((0,wr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Jh(n){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,wr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function L0(n=BI){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,wr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function BI(){return new Zp}function qa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ur((s,l)=>n(s,l,r)):Ts.y,Ju(1),t?Jh(e):L0(()=>new Zp))}var _y=Z(576);function $I(n,e){return(0,_y.m)(e)?ti(()=>n,e):ti(()=>n)}var F0=Z(9468);Z(5867);const us=new Map,zI={activated:!1,tokenObservers:[]},U0={initialized:!1,enabled:!1};function fi(n){return us.get(n)||zI}function na(n,e){us.set(n,e)}function Xh(){return U0}class dE{constructor(e,t,r,s,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield function YI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tr=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function by(n){if(!fi(n).activated)throw Tr.create("use-before-activation",{appName:n.name})}function hE(n,e){return $0.apply(this,arguments)}function $0(){return $0=(0,Se.Z)(function*({url:n,body:e},t){var r,s;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(l["X-Firebase-Client"]=P)}const f={method:"POST",body:JSON.stringify(e),headers:l};let y,v;try{y=yield fetch(n,f)}catch(P){throw Tr.create("fetch-network-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}if(200!==y.status)throw Tr.create("fetch-status-error",{httpStatus:y.status});try{v=yield y.json()}catch(P){throw Tr.create("fetch-parse-error",{originalErrorMessage:null===(s=P)||void 0===s?void 0:s.message})}const C=v.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const E=1e3*Number(C[1]),A=Date.now();return{token:v.token,expireTimeMillis:A+E,issuedAtTimeMillis:A}}),$0.apply(this,arguments)}function JI(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const ef="firebase-app-check-store";let Hp=null;function XI(){return Hp||(Hp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=s=>{n(s.target.result)},r.onerror=s=>{var l;e(Tr.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(ef,{keyPath:"compositeKey"})}}catch(r){e(Tr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Hp)}function Ey(){return Ey=(0,Se.Z)(function*(n,e){const r=(yield XI()).transaction(ef,"readwrite"),l=r.objectStore(ef).put({compositeKey:n,value:e});return new Promise((c,f)=>{l.onsuccess=y=>{c()},r.onerror=y=>{var v;f(Tr.create("storage-set",{originalErrorMessage:null===(v=y.target.error)||void 0===v?void 0:v.message}))}})}),Ey.apply(this,arguments)}const zp=new zr.Yd("@firebase/app-check");function vE(n,e){return(0,jt.hl)()?function gE(n,e){return function j0(n,e){return Ey.apply(this,arguments)}(function H0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nA(){return Xh().enabled}function q0(){return z0.apply(this,arguments)}function z0(){return z0=(0,Se.Z)(function*(){const n=Xh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),z0.apply(this,arguments)}const iA={error:"UNKNOWN_ERROR"};function gS(n){return jt.US.encodeString(JSON.stringify(n),!1)}function G0(n){return wE.apply(this,arguments)}function wE(){return wE=(0,Se.Z)(function*(n,e=!1){const t=n.app;by(t);const r=fi(t);let l,s=r.token;if(!s){const y=yield r.cachedTokenPromise;y&&Ay(y)&&(s=y)}if(!e&&s&&Ay(s))return{token:s.token};let f,c=!1;if(nA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hE(JI(t,yield q0()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0);const y=yield r.exchangeTokenPromise;return yield vE(t,y),na(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),s=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?zp.warn(y.message):zp.error(y),l=y}return s?(f={token:s.token},na(t,Object.assign(Object.assign({},r),{token:s})),yield vE(t,s)):f=IE(l),c&&TE(t,f),f}),wE.apply(this,arguments)}function CE(n,e){const t=fi(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),na(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function EE(n){const{app:e}=n,t=fi(e);let r=t.tokenRefresher;r||(r=function Iy(n){const{app:e}=n;return new dE((0,Se.Z)(function*(){let r;if(r=fi(e).token?yield G0(n,!0):yield G0(n),r.error)throw r.error}),()=>!0,()=>{const t=fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),na(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function TE(n,e){const t=fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ay(n){return n.expireTimeMillis-Date.now()>0}function IE(n){return{token:gS(iA),error:n}}class Ad{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fi(this.app);for(const t of e)CE(this.app,t.next);return Promise.resolve()}}const OE="app-check-internal";!function vS(){(0,Is._registerComponent)(new ji.wA("app-check",n=>function AE(n,e){return new Ad(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OE).initialize()})),(0,Is._registerComponent)(new ji.wA(OE,n=>function W0(n){return{getToken:e=>G0(n,e),addTokenListener:e=>function bE(n,e,t,r){const{app:s}=n,l=fi(s),c={next:t,error:r,type:e};if(na(s,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&Ay(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),EE(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>EE(n))}(n,"INTERNAL",e),removeTokenListener:e=>CE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Is.registerVersion)("@firebase/app-check","0.5.12")}();class rw{constructor(){return(0,Vn.vb)("app-check")}}typeof window<"u"&&window;var u=Z(127);const h=new i.OlP("angularfire2.auth.use-emulator"),g=new i.OlP("angularfire2.auth.settings"),w=new i.OlP("angularfire2.auth.tenant-id"),T=new i.OlP("angularfire2.auth.langugage-code"),I=new i.OlP("angularfire2.auth.use-device-language"),x=new i.OlP("angularfire.auth.persistence"),R=(n,e,t,r,s,l,c,f)=>(0,qr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=s,l&&y.useDeviceLanguage(),c)for(const[v,C]of Object.entries(c))y.settings[v]=C;return f&&y.setPersistence(f),y},[t,r,s,l,c,f]);let B=(()=>{class n{constructor(t,r,s,l,c,f,y,v,C,E,A,P){const O=new Ha.x,U=lt(void 0).pipe((0,k0.Q)(c.outsideAngular),ti(()=>l.runOutsideAngular(()=>Promise.resolve().then(Z.bind(Z,1451)))),(0,Ct.U)(()=>(0,qr.on)(t,l,r)),(0,Ct.U)(N=>R(N,l,f,v,C,E,y,A)),$p({bufferSize:1,refCount:!1}));if(yi(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{U.pipe(qa()).subscribe();const F=U.pipe(ti(W=>W.getRedirectResult().then(xe=>xe,()=>null)),Vn.iC,$p({bufferSize:1,refCount:!1})),G=U.pipe(ti(W=>new mn.y(xe=>({unsubscribe:l.runOutsideAngular(()=>W.onAuthStateChanged(ve=>xe.next(ve),ve=>xe.error(ve),()=>xe.complete()))})))),j=U.pipe(ti(W=>new mn.y(xe=>({unsubscribe:l.runOutsideAngular(()=>W.onIdTokenChanged(ve=>xe.next(ve),ve=>xe.error(ve),()=>xe.complete()))}))));this.authState=F.pipe($I(G),(0,F0.R)(c.outsideAngular),(0,k0.Q)(c.insideAngular)),this.user=F.pipe($I(j),(0,F0.R)(c.outsideAngular),(0,k0.Q)(c.insideAngular)),this.idToken=this.user.pipe(ti(W=>W?(0,cn.D)(W.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(ti(W=>W?(0,cn.D)(W.getIdTokenResult()):lt(null))),this.credential=(0,iS.T)(F,O,this.authState.pipe(Ur(W=>!W))).pipe((0,Ct.U)(W=>W?.user?W:null),(0,F0.R)(c.outsideAngular),(0,k0.Q)(c.insideAngular))}return(0,qr.pX)(this,U,l,{spy:{apply:(N,F,G)=>{(N.startsWith("signIn")||N.startsWith("createUser"))&&G.then(j=>O.next(j))}}})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(qr.Dh),i.LFG(qr.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Vn.HU),i.LFG(h,8),i.LFG(g,8),i.LFG(w,8),i.LFG(T,8),i.LFG(I,8),i.LFG(x,8),i.LFG(rw,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ne(n,e){return function ue(n,e=Pi.z){return new mn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function it(n,e){return Ne(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function gt(n,e){return it(n,e).pipe(rs(void 0),Es(),(0,Ct.U)(([t,r])=>{const s=r.payload.docChanges(),l=s.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const y=s.find(C=>C.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),l}))}function Lt(n,e,t){return gt(n,t).pipe(So((r,s)=>function He(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ln(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mt(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mt(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mt(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(l=>l.payload),e),[]),function mu(n,e=Ts.y){return n=n??io,(0,Fr.e)((t,r)=>{let s,l=!0;t.subscribe((0,wr.x)(r,c=>{const f=e(c);(l||!n(s,f))&&(l=!1,s=f,r.next(c))}))})}(),(0,Ct.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function Mt(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function jn(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Xu{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=gt(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(rs(void 0),Es(),Ur(([r,s])=>s.length>0||!r),(0,Ct.U)(([r,s])=>s),Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(So((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jn(e);return Lt(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return it(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Vn.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Vn.iC)}add(e){return this.ref.add(e)}doc(e){return new My(this.ref.doc(e),this.afs)}}class My{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:l}=Ny(r,t);return new Xu(s,l,this.afs)}snapshotChanges(){return function We(n,e){return Ne(n,e).pipe(rs(void 0),Es(),(0,Ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(Vn.iC)}}class iw{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ur(t=>t.length>0),Vn.iC):gt(this.query,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(So((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jn(e);return Lt(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return it(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Vn.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Vn.iC)}}const Py=new i.OlP("angularfire2.enableFirestorePersistence"),Oy=new i.OlP("angularfire2.firestore.persistenceSettings"),sw=new i.OlP("angularfire2.firestore.settings"),ow=new i.OlP("angularfire2.firestore.use-emulator");function Ny(n,e=(t=>t)){return{query:e(n),ref:n}}let Gp=(()=>{class n{constructor(t,r,s,l,c,f,y,v,C,E,A,P,O,U,N,F,G){this.schedulers=y;const j=(0,qr.on)(t,f,r),W=C;E&&R(j,f,A,O,U,N,P,F),[this.firestore,this.persistenceEnabled$]=(0,qr.cc)(`${j.name}.firestore`,"AngularFirestore",j.name,()=>{const xe=f.runOutsideAngular(()=>j.firestore());if(l&&xe.settings(l),W&&xe.useEmulator(...W),s&&!yi(c)){const ve=()=>{try{return(0,cn.D)(xe.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(qe){return typeof console<"u"&&console.warn(qe),lt(!1)}};return[xe,f.runOutsideAngular(ve)]}return[xe,lt(!1)]},[l,W,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=Ny(s,r),f=this.schedulers.ngZone.run(()=>l);return new Xu(f,c,this)}collectionGroup(t,r){const s=r||(c=>c),l=this.firestore.collectionGroup(t);return new iw(s(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new My(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(qr.Dh),i.LFG(qr.xv,8),i.LFG(Py,8),i.LFG(sw,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Vn.HU),i.LFG(Oy,8),i.LFG(ow,8),i.LFG(B,8),i.LFG(h,8),i.LFG(g,8),i.LFG(w,8),i.LFG(T,8),i.LFG(I,8),i.LFG(x,8),i.LFG(rw,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aw=(()=>{class n{constructor(){u.Z.registerVersion("angularfire",Vn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Py,useValue:!0},{provide:Oy,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Gp]}),n})();const{isArray:qP}=Array,{getPrototypeOf:zP,prototype:GP,keys:WP}=Object;function ES(n){if(1===n.length){const e=n[0];if(qP(e))return{args:e,keys:null};if(function YP(n){return n&&"object"==typeof n&&zP(n)===GP}(e)){const t=WP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:KP}=Array;function TS(n){return(0,Ct.U)(e=>function QP(n,e){return KP(e)?n(...e):n(e)}(n,e))}function IS(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}function AS(...n){const e=(0,Zi.jO)(n),{args:t,keys:r}=ES(n),s=new mn.y(l=>{const{length:c}=t;if(!c)return void l.complete();const f=new Array(c);let y=c,v=c;for(let C=0;C<c;C++){let E=!1;(0,R0.Xf)(t[C]).subscribe((0,wr.x)(l,A=>{E||(E=!0,v--),f[C]=A},()=>y--,void 0,()=>{(!y||!E)&&(v||l.next(r?IS(r,f):f),l.complete())}))}});return e?s.pipe(TS(e)):s}let DS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),Wp=(()=>{class n extends DS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const ec=new i.OlP("NgValueAccessor"),XP={provide:ec,useExisting:(0,i.Gpc)(()=>Yp),multi:!0},tO=new i.OlP("CompositionEventMode");let Yp=(()=>{class n extends DS{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eO(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(tO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[i._Bn([XP]),i.qOj]}),n})();function nf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xS(n){return null!=n&&"number"==typeof n.length}const cs=new i.OlP("NgValidators"),rf=new i.OlP("NgAsyncValidators"),rO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nn{static min(e){return function MS(n){return e=>{if(nf(e.value)||nf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function PS(n){return e=>{if(nf(e.value)||nf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function OS(n){return nf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function NS(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function kS(n){return nf(n.value)||rO.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function RS(n){return e=>nf(e.value)||!xS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function LS(n){return e=>xS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return FS(e)}static nullValidator(e){return null}static compose(e){return jS(e)}static composeAsync(e){return HS(e)}}function FS(n){if(!n)return kE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(nf(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}function kE(n){return null}function US(n){return null!=n}function VS(n){return(0,i.QGY)(n)?(0,cn.D)(n):n}function BS(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $S(n,e){return e.map(t=>t(n))}function ZS(n){return n.map(e=>function iO(n){return!n.validate}(e)?e:t=>e.validate(t))}function jS(n){if(!n)return null;const e=n.filter(US);return 0==e.length?null:function(t){return BS($S(t,e))}}function pA(n){return null!=n?jS(ZS(n)):null}function HS(n){if(!n)return null;const e=n.filter(US);return 0==e.length?null:function(t){return AS($S(t,e).map(VS)).pipe((0,Ct.U)(BS))}}function gA(n){return null!=n?HS(ZS(n)):null}function qS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zS(n){return n._rawValidators}function GS(n){return n._rawAsyncValidators}function mA(n){return n?Array.isArray(n)?n:[n]:[]}function RE(n,e){return Array.isArray(n)?n.includes(e):n===e}function WS(n,e){const t=mA(e);return mA(n).forEach(s=>{RE(t,s)||t.push(s)}),t}function YS(n,e){return mA(e).filter(t=>!RE(n,t))}class KS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class js extends KS{get formDirective(){return null}get path(){return null}}class sf extends KS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QS{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lw=(()=>{class n extends QS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(sf,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),uw=(()=>{class n extends QS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(js,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const cw="VALID",FE="INVALID",ky="PENDING",dw="DISABLED";function wA(n){return(UE(n)?n.validators:n)||null}function XS(n){return Array.isArray(n)?pA(n):n||null}function bA(n,e){return(UE(e)?e.asyncValidators:n)||null}function ex(n){return Array.isArray(n)?gA(n):n||null}function UE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tx(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[t])throw new i.vHH(1001,"")}function nx(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new i.vHH(1002,"")})}class VE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=XS(this._rawValidators),this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cw}get invalid(){return this.status===FE}get pending(){return this.status==ky}get disabled(){return this.status===dw}get enabled(){return this.status!==dw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=XS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ex(e)}addValidators(e){this.setValidators(WS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YS(e,this._rawAsyncValidators))}hasValidator(e){return RE(this._rawValidators,e)}hasAsyncValidator(e){return RE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cw||this.status===ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dw:cw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const t=VS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?dw:this.errors?FE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(FE)?FE:cw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){UE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class BE extends VE{constructor(e,t,r){super(wA(t),bA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nx(this,0,e),Object.keys(e).forEach(r=>{tx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,l)=>{r=t(r,s,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function $E(n,e){return[...e.path,n]}function hw(n,e){CA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function fO(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rx(n,e)})}(n,e),function gO(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pO(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hO(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ZE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),HE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function CA(n,e){const t=zS(n);null!==e.validator?n.setValidators(qS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=GS(n);null!==e.asyncValidator?n.setAsyncValidators(qS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();jE(e._rawValidators,s),jE(e._rawAsyncValidators,s)}function HE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=zS(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(c=>c!==e.validator);l.length!==s.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const s=GS(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(c=>c!==e.asyncValidator);l.length!==s.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return jE(e._rawValidators,r),jE(e._rawAsyncValidators,r),t}function rx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ax(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lx(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pw=class extends VE{constructor(e=null,t,r){super(wA(t),bA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),UE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lx(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ax(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ax(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ux=(()=>{class n extends js{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $E(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})(),gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const TO={provide:ec,useExisting:(0,i.Gpc)(()=>AA),multi:!0};let AA=(()=>{class n extends Wp{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([TO]),i.qOj]}),n})();const IO={provide:ec,useExisting:(0,i.Gpc)(()=>qE),multi:!0};let fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),AO=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:fx}),n})(),qE=(()=>{class n extends Wp{constructor(t,r,s,l){super(t,r),this._registry=s,this._injector=l,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(sf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(AO),i.Y36(i.zs3))},n.\u0275dir=i.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i._Bn([IO]),i.qOj]}),n})();const DA=new i.OlP("NgModelWithFormControlWarning"),xO={provide:js,useExisting:(0,i.Gpc)(()=>Kp)};let Kp=(()=>{class n extends js{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(HE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return hw(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ZE(t.control||null,t,!1),function _O(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function ox(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(ZE(r||null,t),(n=>n instanceof pw)(s)&&(hw(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function ix(n,e){CA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mO(n,e){return HE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CA(this.form,this),this._oldForm&&HE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(cs,10),i.Y36(rf,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&i.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([xO]),i.qOj,i.TTD]}),n})();const MO={provide:js,useExisting:(0,i.Gpc)(()=>SA)};let SA=(()=>{class n extends ux{constructor(t,r,s){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){mx(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(js,13),i.Y36(cs,10),i.Y36(rf,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i._Bn([MO]),i.qOj]}),n})();const PO={provide:js,useExisting:(0,i.Gpc)(()=>zE)};let zE=(()=>{class n extends js{constructor(t,r,s){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $E(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){mx(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(js,13),i.Y36(cs,10),i.Y36(rf,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i._Bn([PO]),i.qOj]}),n})();function mx(n){return!(n instanceof SA||n instanceof Kp||n instanceof zE)}const OO={provide:sf,useExisting:(0,i.Gpc)(()=>Ry)};let Ry=(()=>{class n extends sf{constructor(t,r,s,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function TA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Yp?t=l:function vO(n){return Object.getPrototypeOf(n.constructor)===Wp}(l)?r=l:s=l}),s||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function EA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $E(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(i.Y36(js,13),i.Y36(cs,10),i.Y36(rf,10),i.Y36(ec,10),i.Y36(DA,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([OO]),i.qOj,i.TTD]}),n})(),Qp=(()=>{class n{constructor(){this._validator=kE}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const zO={provide:cs,useExisting:(0,i.Gpc)(()=>Ly),multi:!0};let Ly=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>FS(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&i.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[i._Bn([zO]),i.qOj]}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[fx]}),n})(),Dx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:DA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[GO]}),n})();class Sx extends VE{constructor(e,t,r){super(wA(t),bA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nx(this,0,e),e.forEach((r,s)=>{tx(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xx(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let GE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let l={};return xx(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new BE(s,l)}control(t,r,s){let l={};return this.useNonNullable?(xx(r)?l=r:(l.validators=r,l.asyncValidators=s),new pw(t,{...l,nonNullable:!0})):new pw(t,r,s)}array(t,r,s){const l=t.map(c=>this._createControl(c));return new Sx(l,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof pw||t instanceof VE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:Dx}),n})(),Ga=(()=>{class n{constructor(t){this.store=t}getproducts(){return this.store.collection("Products").snapshotChanges()}getUsers(){return this.store.collection("users").snapshotChanges()}addproduct(t){this.store.collection("Products").add(t)}addproductToPending(t){this.store.collection("PendingProducts").add(t)}addUser(t){this.store.collection("users").add(t)}deleteproduct(t){this.store.collection("Products").doc(t).delete()}deleteUser(t){this.store.collection("users").doc(t).delete()}updateproduct(t,r){this.store.collection("Products").doc(t).update(r)}updateUser(t,r){this.store.collection("users").doc(t).update(r)}getProductById(t){return this.store.collection("Products").doc(t).snapshotChanges()}getUserById(t){return this.store.collection("users").doc(t).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Gp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ia extends Ha.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}let mw=(()=>{class n{constructor(t){this.fireStore=t,this.users=[],this.user={},this.isLoggedSubject=new ia(this.isUserLogged),this.fireStore.getUsers().subscribe(r=>{let s=[];for(let l of r)s.push({id:l.payload.doc.id,...l.payload.doc.data()});this.users=s})}get isUserLogged(){return!!localStorage.getItem("email")}loggedStatus(){return this.isLoggedSubject}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ga))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var WO=Z(9672);function Mx(...n){const e=(0,Zi.yG)(n),t=(0,Zi.jO)(n),{args:r,keys:s}=ES(n);if(0===r.length)return(0,cn.D)([],e);const l=new mn.y(function YO(n,e,t=Ts.y){return r=>{Px(e,()=>{const{length:s}=n,l=new Array(s);let c=s,f=s;for(let y=0;y<s;y++)Px(e,()=>{const v=(0,cn.D)(n[y],e);let C=!1;v.subscribe((0,wr.x)(r,E=>{l[y]=E,C||(C=!0,f--),f||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,s?c=>IS(s,c):Ts.y));return t?l.pipe(TS(t)):l}function Px(n,e,t){n?(0,WO.f)(t,n,e):e()}function WE(n){return new mn.y(e=>{(0,R0.Xf)(n()).subscribe(e)})}var KO=Z(9635);function yw(n,e){const t=(0,_y.m)(n)?n:()=>n,r=s=>s.error(t());return new mn.y(e?s=>e.schedule(r,0,s):r)}var Ox=Z(727);function OA(){return(0,Fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,wr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,l=t;t=null,s&&(!l||s===l)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Nx extends mn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ox.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ox.w0.EMPTY)}return e}refCount(){return OA()(this)}}var Hs=Z(5577);function Dd(n,e){return(0,_y.m)(e)?(0,Hs.z)(n,e,1):(0,Hs.z)(n,1)}var ds=Z(8505);function af(n){return(0,Fr.e)((e,t)=>{let l,r=null,s=!1;r=e.subscribe((0,wr.x)(t,void 0,void 0,c=>{l=(0,R0.Xf)(n(c,af(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,l.subscribe(t))})}function NA(n){return n<=0?()=>Qu.E:(0,Fr.e)((e,t)=>{let r=[];e.subscribe((0,wr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function kx(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ur((s,l)=>n(s,l,r)):Ts.y,NA(1),t?Jh(e):L0(()=>new Zp))}function kA(n){return(0,Fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const on="primary";class XO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fy(n){return new XO(n)}function eN(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let l=0;l<r.length;l++){const c=r[l],f=n[l];if(c.startsWith(":"))s[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function tc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let l=0;l<t.length;l++)if(s=t[l],!Rx(n[s],e[s]))return!1;return!0}function Rx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,l)=>r[l]===s)}return n===e}function Lx(n){return Array.prototype.concat.apply([],n)}function Fx(n){return n.length>0?n[n.length-1]:null}function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Sd(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,cn.D)(Promise.resolve(n)):lt(n)}const rN={exact:function Bx(n,e,t){if(!Xp(n.segments,e.segments)||!YE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bx(n.children[r],e.children[r],t))return!1;return!0},subset:$x},Ux={exact:function iN(n,e){return tc(n,e)},subset:function sN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Rx(n[t],e[t]))},ignored:()=>!0};function Vx(n,e,t){return rN[t.paths](n.root,e.root,t.matrixParams)&&Ux[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $x(n,e,t){return Zx(n,e,e.segments,t)}function Zx(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Xp(s,t)||e.hasChildren()||!YE(s,t,r))}if(n.segments.length===t.length){if(!Xp(n.segments,t)||!YE(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!$x(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Xp(n.segments,s)&&YE(n.segments,s,r)&&n.children[on])&&Zx(n.children[on],e,l,r)}}function YE(n,e,t){return e.every((r,s)=>Ux[t](n[s].parameters,r.parameters))}class Jp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fy(this.queryParams)),this._queryParamMap}toString(){return lN.serialize(this)}}class un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yi(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KE(this)}}class vw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fy(this.parameters)),this._parameterMap}toString(){return zx(this)}}function Xp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new LA},providedIn:"root"}),n})();class LA{parse(e){const t=new yN(e);return new Jp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_w(e.root,!0)}`,r=function dN(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${QE(t)}=${QE(s)}`).join("&"):`${QE(t)}=${QE(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),s="string"==typeof e.fragment?`#${function uN(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${s}`}}const lN=new LA;function KE(n){return n.segments.map(e=>zx(e)).join("/")}function _w(n,e){if(!n.hasChildren())return KE(n);if(e){const t=n.children[on]?_w(n.children[on],!1):"",r=[];return Yi(n.children,(s,l)=>{l!==on&&r.push(`${l}:${_w(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function aN(n,e){let t=[];return Yi(n.children,(r,s)=>{s===on&&(t=t.concat(e(r,s)))}),Yi(n.children,(r,s)=>{s!==on&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===on?[_w(n.children[on],!1)]:[`${s}:${_w(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${KE(n)}/${t[0]}`:`${KE(n)}/(${t.join("//")})`}}function Hx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QE(n){return Hx(n).replace(/%3B/gi,";")}function FA(n){return Hx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function JE(n){return decodeURIComponent(n)}function qx(n){return JE(n.replace(/\+/g,"%20"))}function zx(n){return`${FA(n.path)}${function cN(n){return Object.keys(n).map(e=>`;${FA(e)}=${FA(n[e])}`).join("")}(n.parameters)}`}const hN=/^[^\/()?;=#]+/;function XE(n){const e=n.match(hN);return e?e[0]:""}const fN=/^[^=?&#]+/,gN=/^[^&#]+/;class yN{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[on]=new un(e,t)),r}parseSegment(){const e=XE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(e),new vw(JE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=XE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=XE(this.remaining);s&&(r=s,this.capture(r))}e[JE(t)]=JE(r)}parseQueryParam(e){const t=function pN(n){const e=n.match(fN);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function mN(n){const e=n.match(gN);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const s=qx(t),l=qx(r);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(l)}else e[s]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=XE(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new i.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=on);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[on]:new un([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new i.vHH(4011,!1)}}function UA(n){return n.segments.length>0?new un([],{[on]:n}):n}function e1(n){const e={};for(const r of Object.keys(n.children)){const l=e1(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function vN(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new un(n.segments.concat(e.segments),e.children)}return n}(new un(n.segments,e))}function eg(n){return n instanceof Jp}function bN(n,e,t,r,s){if(0===t.length)return Uy(e.root,e.root,e.root,r,s);const l=function Yx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wx(!0,0,n);let e=0,t=!1;const r=n.reduce((s,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Yi(l.outlets,(y,v)=>{f[v]="string"==typeof y?y.split("/"):y}),[...s,{outlets:f}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===c?(l.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&s.push(f))}),s):[...s,l]},[]);return new Wx(t,e,r)}(t);return l.toRoot()?Uy(e.root,e.root,new un([],{}),r,s):function c(y){const v=function EN(n,e,t,r){if(n.isAbsolute)return new Vy(e.root,!0,0);if(-1===r)return new Vy(t,t===e.root,0);return function Kx(n,e,t){let r=n,s=e,l=t;for(;l>s;){if(l-=s,r=r.parent,!r)throw new i.vHH(4005,!1);s=r.segments.length}return new Vy(r,!1,s-l)}(t,r+(ww(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),C=v.processChildren?Cw(v.segmentGroup,v.index,l.commands):BA(v.segmentGroup,v.index,l.commands);return Uy(e.root,v.segmentGroup,C,r,s)}(n.snapshot?._lastPathIndex)}function ww(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bw(n){return"object"==typeof n&&null!=n&&n.outlets}function Uy(n,e,t,r,s){let c,l={};r&&Yi(r,(y,v)=>{l[v]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),c=n===e?t:Gx(n,e,t);const f=UA(e1(c));return new Jp(f,l,s)}function Gx(n,e,t){const r={};return Yi(n.children,(s,l)=>{r[l]=s===e?t:Gx(s,e,t)}),new un(n.segments,r)}class Wx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ww(r[0]))throw new i.vHH(4003,!1);const s=r.find(bw);if(s&&s!==Fx(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function BA(n,e,t){if(n||(n=new un([],{})),0===n.segments.length&&n.hasChildren())return Cw(n,e,t);const r=function IN(n,e,t){let r=0,s=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return l;const c=n.segments[s],f=t[r];if(bw(f))break;const y=`${f}`,v=r<t.length-1?t[r+1]:null;if(s>0&&void 0===y)break;if(y&&v&&"object"==typeof v&&void 0===v.outlets){if(!Jx(y,v,c))return l;r+=2}else{if(!Jx(y,{},c))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new un(n.segments.slice(0,r.pathIndex),{});return l.children[on]=new un(n.segments.slice(r.pathIndex),n.children),Cw(l,0,s)}return r.match&&0===s.length?new un(n.segments,{}):r.match&&!n.hasChildren()?$A(n,e,t):r.match?Cw(n,0,s):$A(n,e,t)}function Cw(n,e,t){if(0===t.length)return new un(n.segments,{});{const r=function TN(n){return bw(n[0])?n[0].outlets:{[on]:n}}(t),s={};return Yi(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[c]=BA(n.children[c],e,l))}),Yi(n.children,(l,c)=>{void 0===r[c]&&(s[c]=l)}),new un(n.segments,s)}}function $A(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const l=t[s];if(bw(l)){const y=AN(l.outlets);return new un(r,y)}if(0===s&&ww(t[0])){r.push(new vw(n.segments[e].path,Qx(t[0]))),s++;continue}const c=bw(l)?l.outlets[on]:`${l}`,f=s<t.length-1?t[s+1]:null;c&&f&&ww(f)?(r.push(new vw(c,Qx(f))),s+=2):(r.push(new vw(c,{})),s++)}return new un(r,{})}function AN(n){const e={};return Yi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$A(new un([],{}),0,t))}),e}function Qx(n){const e={};return Yi(n,(t,r)=>e[r]=`${t}`),e}function Jx(n,e,t){return n==t.path&&tc(e,t.parameters)}class xd{constructor(e,t){this.id=e,this.url=t}}class ZA extends xd{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tg extends xd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class t1 extends xd{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xx extends xd{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DN extends xd{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SN extends xd{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xN extends xd{constructor(e,t,r,s,l){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MN extends xd{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PN extends xd{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ON{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NN{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kN{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RN{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LN{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FN{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=HA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return HA(e,this._root).map(t=>t.value)}}function jA(n,e){if(n===e.value)return e;for(const t of e.children){const r=jA(n,t);if(r)return r}return null}function HA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=HA(n,t);if(r.length)return r.unshift(e),r}return[]}class Md{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function By(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class nM extends tM{constructor(e,t){super(e),this.snapshot=t,qA(this,e)}toString(){return this.snapshot.toString()}}function rM(n,e){const t=function VN(n,e){const c=new n1([],{},{},"",{},on,e,null,n.root,-1,{});return new sM("",new Md(c,[]))}(n,e),r=new ia([new vw("",{})]),s=new ia({}),l=new ia({}),c=new ia({}),f=new ia(""),y=new Pd(r,s,c,f,l,on,e,t.root);return y.snapshot=t.root,new nM(new Md(y,[]),t)}class Pd{constructor(e,t,r,s,l,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=c,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>Fy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>Fy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],l=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(l.component)break;r--}}return function BN(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class n1{constructor(e,t,r,s,l,c,f,y,v,C,E,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=c,this.component=f,this.routeConfig=y,this._urlSegment=v,this._lastPathIndex=C,this._correctedLastPathIndex=A??C,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sM extends tM{constructor(e,t){super(t),this.url=e,qA(this,t)}toString(){return oM(this._root)}}function qA(n,e){e.value._routerState=n,e.children.forEach(t=>qA(n,t))}function oM(n){const e=n.children.length>0?` { ${n.children.map(oM).join(", ")} } `:"";return`${n.value}${e}`}function zA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),tc(e.params,t.params)||n.params.next(t.params),function tN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),tc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function GA(n,e){const t=tc(n.params,e.params)&&function oN(n,e){return Xp(n,e)&&n.every((t,r)=>tc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||GA(n.parent,e.parent))}function Ew(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function ZN(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Ew(n,r,s);return Ew(n,r)})}(n,e,t);return new Md(r,s)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Ew(n,f)),c}}const r=function jN(n){return new Pd(new ia(n.url),new ia(n.params),new ia(n.queryParams),new ia(n.fragment),new ia(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(l=>Ew(n,l));return new Md(r,s)}}const WA="ngNavigationCancelingError";function aM(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=lM(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function lM(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[WA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function uM(n){return cM(n)&&eg(n.url)}function cM(n){return n&&n[WA]}class HN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tw,this.attachRef=null}}let Tw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new HN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r1=!1;let i1=(()=>{class n{constructor(t,r,s,l,c){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=s||on,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,r1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,r1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,r1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new i.vHH(4013,r1);this._activatedRoute=t;const s=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new qN(t,f,s.injector);if(r&&function zN(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=s.createComponent(v,s.length,y)}else this.activated=s.createComponent(c,{index:s.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Tw),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class qN{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Pd?this.route:e===Tw?this.childContexts:this.parent.get(e,t)}}let dM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},dependencies:[i1],encapsulation:2}),n})();function hM(n,e){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function KA(n){const e=n.children&&n.children.map(KA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=dM),t}function Wa(n){return n.outlet||on}function fM(n,e){const t=n.filter(r=>Wa(r)===e);return t.push(...n.filter(r=>Wa(r)!==e)),t}function pM(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class QN{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=By(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,s[c],r),delete s[c]}),Yi(s,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(s===l)if(s.component){const c=r.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=By(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],s);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=By(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=By(t);e.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],r),this.forwardEvent(new FN(l.value.snapshot))}),e.children.length&&this.forwardEvent(new RN(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(zA(s),s===l)if(s.component){const c=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const c=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const f=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),zA(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=pM(s.snapshot),y=f?.get(i._Vd)??null;c.attachRef=null,c.route=s,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class gM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class s1{constructor(e,t){this.component=e,this.route=t}}function JN(n,e,t){const r=n._root;return Iw(r,e?e._root:null,t,[r.value])}function o1(n,e,t){return(pM(e)??t).get(n)}function Iw(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=By(e);return n.children.forEach(c=>{(function ek(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const y=function tk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xp(n.url,e.url)||!tc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GA(n,e)||!tc(n.queryParams,e.queryParams);default:return!GA(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new gM(r)):(l.data=c.data,l._resolvedData=c._resolvedData),Iw(n,e,l.component?f?f.children:null:t,r,s),y&&f&&f.outlet&&f.outlet.isActivated&&s.canDeactivateChecks.push(new s1(f.outlet.component,c))}else c&&Aw(e,f,s),s.canActivateChecks.push(new gM(r)),Iw(n,null,l.component?f?f.children:null:t,r,s)})(c,l[c.value.outlet],t,r.concat([c.value]),s),delete l[c.value.outlet]}),Yi(l,(c,f)=>Aw(c,t.getContext(f),s)),s}function Aw(n,e,t){const r=By(n),s=n.value;Yi(r,(l,c)=>{Aw(l,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new s1(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Dw(n){return"function"==typeof n}function QA(n){return n instanceof Zp||"EmptyError"===n?.name}const a1=Symbol("INITIAL_VALUE");function $y(){return ti(n=>Mx(n.map(e=>e.pipe(Ju(1),rs(a1)))).pipe((0,Ct.U)(e=>{for(const t of e)if(!0!==t){if(t===a1)return a1;if(!1===t||t instanceof Jp)return t}return!0}),Ur(e=>e!==a1),Ju(1)))}function mM(n){return(0,KO.z)((0,ds.b)(e=>{if(eg(e))throw aM(0,e)}),(0,Ct.U)(e=>!0===e))}const JA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yM(n,e,t,r,s){const l=XA(n,e,t);return l.matched?function vk(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?lt(s.map(c=>{const f=n.get(c),y=function ak(n){return n&&Dw(n.canMatch)}(f)?f.canMatch(e,t):f(e,t);return Sd(y)})).pipe($y(),mM()):lt(!0)}(r=hM(e,r),e,t).pipe((0,Ct.U)(c=>!0===c?l:{...JA})):lt(l)}function XA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...JA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||eN)(t,n,e);if(!s)return{...JA};const l={};Yi(s.posParams,(f,y)=>{l[y]=f.path});const c=s.consumed.length>0?{...l,...s.consumed[s.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:s.posParams??{}}}function l1(n,e,t,r,s="corrected"){if(t.length>0&&function bk(n,e,t){return t.some(r=>u1(n,e,r)&&Wa(r)!==on)}(n,t,r)){const c=new un(e,function wk(n,e,t,r){const s={};s[on]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Wa(l)!==on){const c=new un([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[Wa(l)]=c}return s}(n,e,r,new un(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Ck(n,e,t){return t.some(r=>u1(n,e,r))}(n,t,r)){const c=new un(n.segments,function _k(n,e,t,r,s,l){const c={};for(const f of r)if(u1(n,t,f)&&!s[Wa(f)]){const y=new un([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,c[Wa(f)]=y}return{...s,...c}}(n,e,t,r,n.children,s));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const l=new un(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function u1(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vM(n,e,t,r){return!!(Wa(n)===r||r!==on&&u1(e,t,n))&&("**"===n.path||XA(e,n,t).matched)}function _M(n,e,t){return 0===e.length&&!n.children[t]}const c1=!1;class d1{constructor(e){this.segmentGroup=e||null}}class wM{constructor(e){this.urlTree=e}}function Sw(n){return yw(new d1(n))}function bM(n){return yw(new wM(n))}class Ak{constructor(e,t,r,s,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=l,this.allowRedirects=!0}apply(){const e=l1(this.urlTree.root,[],[],this.config).segmentGroup,t=new un(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,on).pipe((0,Ct.U)(l=>this.createUrlTree(e1(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(af(l=>{if(l instanceof wM)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof d1?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,on).pipe((0,Ct.U)(s=>this.createUrlTree(e1(s),e.queryParams,e.fragment))).pipe(af(s=>{throw s instanceof d1?this.noMatchError(s):s}))}noMatchError(e){return new i.vHH(4002,c1)}createUrlTree(e,t,r){const s=UA(e);return new Jp(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(l=>new un([],l))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const l of Object.keys(r.children))"primary"===l?s.unshift(l):s.push(l);return(0,cn.D)(s).pipe(Dd(l=>{const c=r.children[l],f=fM(t,l);return this.expandSegmentGroup(e,f,c,l).pipe((0,Ct.U)(y=>({segment:y,outlet:l})))}),So((l,c)=>(l[c.outlet]=c.segment,l),{}),kx())}expandSegment(e,t,r,s,l,c){return(0,cn.D)(r).pipe(Dd(f=>this.expandSegmentAgainstRoute(e,t,r,f,s,l,c).pipe(af(v=>{if(v instanceof d1)return lt(null);throw v}))),qa(f=>!!f),af((f,y)=>{if(QA(f))return _M(t,s,l)?lt(new un([],{})):Sw(t);throw f}))}expandSegmentAgainstRoute(e,t,r,s,l,c,f){return vM(s,t,l,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,l,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,c):Sw(t):Sw(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bM(l):this.lineralizeSegments(r,l).pipe((0,Hs.z)(c=>{const f=new un(c,{});return this.expandSegment(e,f,t,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,c){const{matched:f,consumedSegments:y,remainingSegments:v,positionalParamSegments:C}=XA(t,s,l);if(!f)return Sw(t);const E=this.applyRedirectCommands(y,s.redirectTo,C);return s.redirectTo.startsWith("/")?bM(E):this.lineralizeSegments(s,E).pipe((0,Hs.z)(A=>this.expandSegment(e,t,r,A.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,s,l){return"**"===r.path?(e=hM(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ct.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new un(s,{})))):lt(new un(s,{}))):yM(t,r,s,e).pipe(ti(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Hs.z)(C=>{const E=C.injector??e,A=C.routes,{segmentGroup:P,slicedSegments:O}=l1(t,f,y,A),U=new un(P.segments,P.children);if(0===O.length&&U.hasChildren())return this.expandChildren(E,A,U).pipe((0,Ct.U)(j=>new un(f,j)));if(0===A.length&&0===O.length)return lt(new un(f,{}));const N=Wa(r)===l;return this.expandSegment(E,U,A,O,N?on:l,!0).pipe((0,Ct.U)(G=>new un(f.concat(G.segments),G.children)))})):Sw(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function yk(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?lt(!0):lt(s.map(c=>{const f=n.get(c),y=function rk(n){return n&&Dw(n.canLoad)}(f)?f.canLoad(e,t):f(e,t);return Sd(y)})).pipe($y(),mM())}(e,t,r).pipe((0,Hs.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,ds.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function Tk(n){return yw(lM(c1,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return lt(r);if(s.numberOfChildren>1||!s.children[on])return yw(new i.vHH(4e3,c1));s=s.children[on]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const l=this.createSegmentGroup(e,t.root,r,s);return new Jp(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yi(e,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);r[l]=t[f]}else r[l]=s}),r}createSegmentGroup(e,t,r,s){const l=this.createSegments(e,t.segments,r,s);let c={};return Yi(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,s)}),new un(l,c)}createSegments(e,t,r,s){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,s):this.findOrReturn(l,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new i.vHH(4001,c1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class Sk{}class Pk{constructor(e,t,r,s,l,c,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=l1(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,on).pipe((0,Ct.U)(t=>{if(null===t)return null;const r=new n1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Md(r,t),l=new sM(this.url,s);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=iM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(Dd(s=>{const l=r.children[s],c=fM(t,s);return this.processSegmentGroup(e,c,l,s)}),So((s,l)=>s&&l?(s.push(...l),s):null),function QO(n,e=!1){return(0,Fr.e)((t,r)=>{let s=0;t.subscribe((0,wr.x)(r,l=>{const c=n(l,s++);(c||e)&&r.next(l),!c&&r.complete()}))})}(s=>null!==s),Jh(null),kx(),(0,Ct.U)(s=>{if(null===s)return null;const l=CM(s);return function Ok(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,s,l){return(0,cn.D)(t).pipe(Dd(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,s,l)),qa(c=>!!c),af(c=>{if(QA(c))return _M(r,s,l)?lt([]):lt(null);throw c}))}processSegmentAgainstRoute(e,t,r,s,l){if(t.redirectTo||!vM(t,r,s,l))return lt(null);let c;if("**"===t.path){const f=s.length>0?Fx(s).parameters:{},y=TM(r)+s.length;c=lt({snapshot:new n1(s,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AM(t),Wa(t),t.component??t._loadedComponent??null,t,EM(r),y,DM(t),y),consumedSegments:[],remainingSegments:[]})}else c=yM(r,t,s,e).pipe((0,Ct.U)(({matched:f,consumedSegments:y,remainingSegments:v,parameters:C})=>{if(!f)return null;const E=TM(r)+y.length;return{snapshot:new n1(y,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AM(t),Wa(t),t.component??t._loadedComponent??null,t,EM(r),E,DM(t),E),consumedSegments:y,remainingSegments:v}}));return c.pipe(ti(f=>{if(null===f)return lt(null);const{snapshot:y,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const E=t._loadedInjector??e,A=function Nk(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:O}=l1(r,v,C,A.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===O.length&&P.hasChildren())return this.processChildren(E,A,P).pipe((0,Ct.U)(N=>null===N?null:[new Md(y,N)]));if(0===A.length&&0===O.length)return lt([new Md(y,[])]);const U=Wa(t)===l;return this.processSegment(E,A,P,O,U?on:l).pipe((0,Ct.U)(N=>null===N?null:[new Md(y,N)]))}))}}function kk(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function CM(n){const e=[],t=new Set;for(const r of n){if(!kk(r)){e.push(r);continue}const s=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=CM(r.children);e.push(new Md(r.value,s))}return e.filter(r=>!t.has(r))}function EM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TM(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function AM(n){return n.data||{}}function DM(n){return n.resolve||{}}const eD=Symbol("RouteTitle");function SM(n){return"string"==typeof n.title||null===n.title}function tD(n){return ti(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,Ct.U)(()=>e)):lt(e)})}let xM=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(l=>l.outlet===on);return r}getResolvedTitleForRoute(t){return t.data[eD]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(MM)},providedIn:"root"}),n})(),MM=(()=>{class n extends xM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Gd))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zk{}class Hk extends class jk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const nD=new i.OlP("",{providedIn:"root",factory:()=>({})}),rD=new i.OlP("ROUTES");let iD=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Sd(t.loadComponent()).pipe((0,ds.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),kA(()=>{this.componentLoaders.delete(t)})),s=new Nx(r,()=>new Ha.x).pipe(OA());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,v,C=!1;Array.isArray(f)?v=f:(y=f.create(t).injector,v=Lx(y.get(rD,[],i.XFs.Self|i.XFs.Optional)));return{routes:v.map(KA),injector:y}}),kA(()=>{this.childrenLoaders.delete(r)})),c=new Nx(l,()=>new Ha.x).pipe(OA());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Sd(t()).pipe((0,Hs.z)(r=>r instanceof i.YKP||Array.isArray(r)?lt(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zk{}class Gk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wk(n){throw n}function Yk(n,e,t){return e.parse("/")}const Kk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function OM(){const n=(0,i.f3M)(jx),e=(0,i.f3M)(Tw),t=(0,i.f3M)(Be),r=(0,i.f3M)(i.zs3),s=(0,i.f3M)(i.Sil),l=(0,i.f3M)(rD,{optional:!0})??[],c=(0,i.f3M)(nD,{optional:!0})??{},f=(0,i.f3M)(MM),y=(0,i.f3M)(xM,{optional:!0}),v=(0,i.f3M)(zk,{optional:!0}),C=(0,i.f3M)(Zk,{optional:!0}),E=new sr(null,n,e,t,r,s,Lx(l));return v&&(E.urlHandlingStrategy=v),C&&(E.routeReuseStrategy=C),E.titleStrategy=y??f,function Jk(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,E),E}let sr=(()=>{class n{constructor(t,r,s,l,c,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ha.x,this.errorHandler=Wk,this.malformedUriErrorHandler=Yk,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new Gk,this.routeReuseStrategy=new Hk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(iD),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new NN(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new ON(A)),this.ngModule=c.get(i.h0i),this.console=c.get(i.c2e);const E=c.get(i.R0b);this.isNgZoneEnabled=E instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function nN(){return new Jp(new un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rM(this.currentUrlTree,this.rootComponentType),this.transitions=new ia({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ur(s=>0!==s.id),(0,Ct.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ti(s=>{let l=!1,c=!1;return lt(s).pipe((0,ds.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(f=>{const y=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return NM(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(ti(E=>{const A=this.transitions.getValue();return r.next(new ZA(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),A!==this.transitions.getValue()?Qu.E:Promise.resolve(E)}),function Dk(n,e,t,r){return ti(s=>function Ik(n,e,t,r,s){return new Ak(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Ct.U)(l=>({...s,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ds.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},s.urlAfterRedirects=E.urlAfterRedirects}),function Lk(n,e,t,r,s,l){return(0,Hs.z)(c=>function Mk(n,e,t,r,s,l,c="emptyOnly",f="legacy"){return new Pk(n,e,t,r,s,c,f,l).recognize().pipe(ti(y=>null===y?function xk(n){return new mn.y(e=>e.error(n))}(new Sk):lt(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,s,l).pipe((0,Ct.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ds.b)(E=>{if(s.targetSnapshot=E.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(P,E)}this.browserUrlTree=E.urlAfterRedirects}const A=new DN(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);r.next(A)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:P,source:O,restoredState:U,extras:N}=f,F=new ZA(A,this.serializeUrl(P),O,U);r.next(F);const G=rM(P,this.rootComponentType).snapshot;return lt(s={...f,targetSnapshot:G,urlAfterRedirects:P,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Qu.E}),(0,ds.b)(f=>{const y=new SN(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Ct.U)(f=>s={...f,guards:JN(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function uk(n,e){return(0,Hs.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?lt({...t,guardsResult:!0}):function ck(n,e,t,r){return(0,cn.D)(n).pipe((0,Hs.z)(s=>function mk(n,e,t,r,s){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?lt(l.map(f=>{const y=o1(f,e,s);return Sd(function ok(n){return n&&Dw(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):y(n,e,t,r)).pipe(qa())})).pipe($y()):lt(!0)}(s.component,s.route,t,e,r)),qa(s=>!0!==s,!0))}(c,r,s,n).pipe((0,Hs.z)(f=>f&&function nk(n){return"boolean"==typeof n}(f)?function dk(n,e,t,r){return(0,cn.D)(e).pipe(Dd(s=>Cs(function fk(n,e){return null!==n&&e&&e(new kN(n)),lt(!0)}(s.route.parent,r),function hk(n,e){return null!==n&&e&&e(new LN(n)),lt(!0)}(s.route,r),function gk(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function XN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>WE(()=>lt(c.guards.map(y=>{const v=o1(y,c.node,t);return Sd(function sk(n){return n&&Dw(n.canActivateChild)}(v)?v.canActivateChild(r,n):v(r,n)).pipe(qa())})).pipe($y())));return lt(l).pipe($y())}(n,s.path,t),function pk(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const s=r.map(l=>WE(()=>{const c=o1(l,e,t);return Sd(function ik(n){return n&&Dw(n.canActivate)}(c)?c.canActivate(e,n):c(e,n)).pipe(qa())}));return lt(s).pipe($y())}(n,s.route,t))),qa(s=>!0!==s,!0))}(r,l,n,e):lt(f)),(0,Ct.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ds.b)(f=>{if(s.guardsResult=f.guardsResult,eg(f.guardsResult))throw aM(0,f.guardsResult);const y=new xN(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ur(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),tD(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,ds.b)(y=>{const v=new MN(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(v)}),ti(y=>{let v=!1;return lt(y).pipe(function Fk(n,e){return(0,Hs.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return lt(t);let l=0;return(0,cn.D)(s).pipe(Dd(c=>function Uk(n,e,t,r){const s=n.routeConfig,l=n._resolve;return void 0!==s?.title&&!SM(s)&&(l[eD]=s.title),function Vk(n,e,t,r){const s=function Bk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return lt({});const l={};return(0,cn.D)(s).pipe((0,Hs.z)(c=>function $k(n,e,t,r){const s=o1(n,e,r);return Sd(s.resolve?s.resolve(e,t):s(e,t))}(n[c],e,t,r).pipe(qa(),(0,ds.b)(f=>{l[c]=f}))),NA(1),function JO(n){return(0,Ct.U)(()=>n)}(l),af(c=>QA(c)?Qu.E:yw(c)))}(l,n,e,r).pipe((0,Ct.U)(c=>(n._resolvedData=c,n.data=iM(n,t).resolve,s&&SM(s)&&(n.data[eD]=s.title),null)))}(c.route,r,n,e)),(0,ds.b)(()=>l++),NA(1),(0,Hs.z)(c=>l===s.length?lt(t):Qu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ds.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,ds.b)(y=>{const v=new PN(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(v)}))}),tD(f=>{const y=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ds.b)(E=>{v.component=E}),(0,Ct.U)(()=>{})));for(const E of v.children)C.push(...y(E));return C};return Mx(y(f.targetSnapshot.root)).pipe(Jh(),Ju(1))}),tD(()=>this.afterPreactivation()),(0,Ct.U)(f=>{const y=function $N(n,e,t){const r=Ew(n,e._root,t?t._root:void 0);return new nM(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return s={...f,targetRouterState:y}}),(0,ds.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new QN(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ds.b)({next(){l=!0},complete(){l=!0}}),kA(()=>{l||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),af(f=>{if(c=!0,cM(f)){uM(f)||(this.navigated=!0,this.restoreHistory(s,!0));const y=new t1(s.id,this.serializeUrl(s.extractedUrl),f.message,f.cancellationCode);if(r.next(y),uM(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),C={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NM(s.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const y=new Xx(s.id,this.serializeUrl(s.extractedUrl),f,s.targetSnapshot??void 0);r.next(y);try{s.resolve(this.errorHandler(f))}catch(v){s.reject(v)}}return Qu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const s={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const f={...l};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(KA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:l,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,v=s||this.routerState.root,C=y?this.currentUrlTree.fragment:c;let E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...l};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=l||null}return null!==E&&(E=this.removeEmptyProps(E)),bN(v,this.currentUrlTree,t,E,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=eg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Xk(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new i.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...Kk}:!1===r?{...Qk}:r,eg(t))return Vx(this.currentUrlTree,t,s);const l=this.parseUrl(t);return Vx(this.currentUrlTree,l,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const l=t[s];return null!=l&&(r[s]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new tg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,l,c){if(this.disposed)return Promise.resolve(!1);let f,y,v;c?(f=c.resolve,y=c.reject,v=c.promise):v=new Promise((A,P)=>{f=A,y=P});const C=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),E=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:C,targetPageId:E,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:f,reject:y,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,s){const l=new t1(t.id,this.serializeUrl(t.extractedUrl),r,s);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return OM()},providedIn:"root"}),n})();function NM(n){return"imperative"!==n}let lf=(()=>{class n{constructor(t,r,s,l,c){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=l,this.el=c,this.commands=null,this.onChanges=new Ha.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,i.D6c)(this.skipLocationChange),replaceUrl:(0,i.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,i.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(sr),i.Y36(Pd),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),n})(),ng=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Ha.x,this.subscription=t.events.subscribe(l=>{l instanceof tg&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,l,c){if(0!==t||r||s||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:(0,i.D6c)(this.skipLocationChange),replaceUrl:(0,i.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,i.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(sr),i.Y36(Pd),i.Y36(De))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&i.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),n})(),kM=(()=>{class n{constructor(t,r,s,l,c,f){this.router=t,this.element=r,this.renderer=s,this.cdr=l,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.vpe,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof tg&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,ro.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,cn.D)(t).pipe((0,ro.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function eR(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(sr),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(lf,8),i.Y36(ng,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(i.Suo(s,lf,5),i.Suo(s,ng,5)),2&t){let l;i.iGM(l=i.CRH())&&(r.links=l),i.iGM(l=i.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[i.TTD]}),n})();class RM{}let LM=(()=>{class n{constructor(t,r,s,l,c){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ur(t=>t instanceof tg),Dd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,i.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,f=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?s.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&s.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,cn.D)(s).pipe((0,ro.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const l=s.pipe((0,Hs.z)(c=>null===c?lt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,cn.D)([l,c]).pipe((0,ro.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(sr),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(RM),i.LFG(iD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const FM=new i.OlP("");let tR=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new eM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const UM=new i.OlP("ROUTER_FORROOT_GUARD"),VM=new i.OlP(""),nR=[Be,{provide:jx,useClass:LA},{provide:sr,useFactory:OM},Tw,{provide:Pd,useFactory:function rR(n){return n.routerState.root},deps:[sr]},iD];function iR(){return new i.PXZ("Router",sr)}let BM=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nR,[],$M(t),{provide:UM,useFactory:lR,deps:[[sr,new i.FiY,new i.tp0]]},{provide:nD,useValue:r||{}},r?.useHash?{provide:De,useClass:wt}:{provide:De,useClass:pt},{provide:FM,useFactory:()=>{const n=(0,i.f3M)(sr),e=(0,i.f3M)(bo),t=(0,i.f3M)(nD);return t.scrollOffset&&e.setOffset(t.scrollOffset),new tR(n,e,t)}},r?.preloadingStrategy?gR(r.preloadingStrategy):[],{provide:i.PXZ,multi:!0,useFactory:iR},r?.initialNavigation?cR(r):[],[{provide:ZM,useFactory:uR},{provide:i.tb,multi:!0,useExisting:ZM}]]}}static forChild(t){return{ngModule:n,providers:[$M(t)]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(UM,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function lR(n){return"guarded"}function $M(n){return[{provide:rD,multi:!0,useValue:n}]}function uR(){const n=(0,i.f3M)(i.zs3);return e=>{const t=n.get(i.z2F);if(e!==t.components[0])return;const r=n.get(sr),s=n.get(jM);1===n.get(sD)&&r.initialNavigation(),n.get(VM,null,i.XFs.Optional)?.setUpPreloading(),n.get(FM,null,i.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.next(),s.complete()}}const ZM=new i.OlP("");function cR(n){return["disabled"===n.initialNavigation?[{provide:i.ip1,multi:!0,useFactory:()=>{const n=(0,i.f3M)(sr);return()=>{n.setUpLocationChangeListener()}}},{provide:sD,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:sD,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:n=>{const e=n.get(Y,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(s=>{const l=n.get(sr),c=n.get(jM);(function r(s){n.get(sr).events.pipe(Ur(c=>c instanceof tg||c instanceof t1||c instanceof Xx),(0,Ct.U)(c=>c instanceof tg||c instanceof t1&&(0===c.code||1===c.code)&&null),Ur(c=>null!==c),Ju(1)).subscribe(()=>{s()})})(()=>{s(!0),t=!0}),l.afterPreactivation=()=>(s(!0),t||c.closed?lt(void 0):c),l.initialNavigation()}))}}]:[]]}const jM=new i.OlP("",{factory:()=>new Ha.x}),sD=new i.OlP("",{providedIn:"root",factory:()=>1});function gR(n){return[LM,{provide:VM,useExisting:LM},{provide:RM,useExisting:n}]}function rg(n){return!!n&&(n instanceof mn.y||(0,_y.m)(n.lift)&&(0,_y.m)(n.subscribe))}class xw{}let HM=(()=>{class n extends xw{getTranslation(t){return lt({})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class oD{}let qM=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function p1(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let s,l,c,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(l in c=Object.create(null),n){if(!p1(n[l],e[l]))return!1;c[l]=!0}for(l in e)if(!(l in c)&&typeof e[l]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((s=n.length)==e.length){for(l=0;l<s;l++)if(!p1(n[l],e[l]))return!1;return!0}}return!1}function cf(n){return typeof n<"u"&&null!==n}function aD(n){return n&&"object"==typeof n&&!Array.isArray(n)}function zM(n,e){let t=Object.assign({},n);return aD(n)&&aD(e)&&Object.keys(e).forEach(r=>{aD(e[r])?r in n?t[r]=zM(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class g1{}let GM=(()=>{class n extends g1{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,r){let s;return s="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,s}getValue(t,r){let s="string"==typeof r?r.split("."):[r];r="";do{r+=s.shift(),!cf(t)||!cf(t[r])||"object"!=typeof t[r]&&s.length?s.length?r+=".":t=void 0:(t=t[r],r="")}while(s.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(s,l)=>{let c=this.getValue(r,l);return cf(c)?c:s}):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class m1{}let WM=(()=>{class n extends m1{compile(t,r){return t}compileTranslations(t,r){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class YM{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}}const lD=new i.OlP("USE_STORE"),uD=new i.OlP("USE_DEFAULT_LANG"),cD=new i.OlP("DEFAULT_LANGUAGE"),dD=new i.OlP("USE_EXTEND");let df=(()=>{class n{constructor(t,r,s,l,c,f=!0,y=!1,v=!1,C){this.store=t,this.currentLoader=r,this.compiler=s,this.parser=l,this.missingTranslationHandler=c,this.useDefaultLang=f,this.isolate=y,this.extend=v,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},C&&this.setDefaultLang(C)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(Ju(1)).subscribe(s=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return lt(this.translations[t]);let r=this.retrieveTranslations(t);return typeof r<"u"?(this.currentLang||(this.currentLang=t),r.pipe(Ju(1)).subscribe(s=>{this.changeLang(t)}),r):(this.changeLang(t),lt(this.translations[t]))}retrieveTranslations(t){let r;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe($p(1),Ju(1));return this.loadingTranslations=r.pipe((0,Ct.U)(s=>this.compiler.compileTranslations(s,t)),$p(1),Ju(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[t]=this.extend&&this.translations[t]?{...s,...this.translations[t]}:s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),r}setTranslation(t,r,s=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(s||this.extend)&&this.translations[t]?zM(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,s){let l;if(r instanceof Array){let c={},f=!1;for(let y of r)c[y]=this.getParsedResult(t,y,s),rg(c[y])&&(f=!0);return f?AS(r.map(v=>rg(c[v])?c[v]:lt(c[v]))).pipe((0,Ct.U)(v=>{let C={};return v.forEach((E,A)=>{C[r[A]]=E}),C})):c}if(t&&(l=this.parser.interpolate(this.parser.getValue(t,r),s)),typeof l>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(l=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),s)),typeof l>"u"){let c={key:r,translateService:this};typeof s<"u"&&(c.interpolateParams=s),l=this.missingTranslationHandler.handle(c)}return typeof l<"u"?l:r}get(t,r){if(!cf(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Dd(s=>rg(s=this.getParsedResult(s,t,r))?s:lt(s)));{let s=this.getParsedResult(this.translations[this.currentLang],t,r);return rg(s)?s:lt(s)}}getStreamOnTranslationChange(t,r){if(!cf(t)||!t.length)throw new Error('Parameter "key" required');return Cs(WE(()=>this.get(t,r)),this.onTranslationChange.pipe(ti(s=>{const l=this.getParsedResult(s.translations,t,r);return"function"==typeof l.subscribe?l:lt(l)})))}stream(t,r){if(!cf(t)||!t.length)throw new Error('Parameter "key" required');return Cs(WE(()=>this.get(t,r)),this.onLangChange.pipe(ti(s=>{const l=this.getParsedResult(s.translations,t,r);return rg(l)?l:lt(l)})))}instant(t,r){if(!cf(t)||!t.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],t,r);if(rg(s)){if(t instanceof Array){let l={};return t.forEach((c,f)=>{l[t[f]]=t[f]}),l}return t}return s}set(t,r,s=this.currentLang){this.translations[s][t]=this.compiler.compile(r,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(YM),i.LFG(xw),i.LFG(m1),i.LFG(g1),i.LFG(oD),i.LFG(uD),i.LFG(lD),i.LFG(dD),i.LFG(cD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ru=(()=>{class n{constructor(t,r){this.translate=t,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,r,s){let l=c=>{this.value=void 0!==c?c:t,this.lastKey=t,this._ref.markForCheck()};if(s){let c=this.translate.getParsedResult(s,t,r);rg(c.subscribe)?c.subscribe(l):l(c)}this.translate.get(t,r).subscribe(l)}transform(t,...r){if(!t||!t.length)return t;if(p1(t,this.lastKey)&&p1(r,this.lastParams))return this.value;let s;if(cf(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let l=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(l)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(s=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(l=>{this.lastKey&&l.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,s,l.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(l=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s,l.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(df,16),i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),mR=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:xw,useClass:HM},t.compiler||{provide:m1,useClass:WM},t.parser||{provide:g1,useClass:GM},t.missingTranslationHandler||{provide:oD,useClass:qM},YM,{provide:lD,useValue:t.isolate},{provide:uD,useValue:t.useDefaultLang},{provide:dD,useValue:t.extend},{provide:cD,useValue:t.defaultLanguage},df]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:xw,useClass:HM},t.compiler||{provide:m1,useClass:WM},t.parser||{provide:g1,useClass:GM},t.missingTranslationHandler||{provide:oD,useClass:qM},{provide:lD,useValue:t.isolate},{provide:uD,useValue:t.useDefaultLang},{provide:dD,useValue:t.extend},{provide:cD,useValue:t.defaultLanguage},df]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function yR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Email is required"),i.qZA())}function vR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Email must ended by @gmail.com"),i.qZA())}function _R(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"password is required"),i.qZA())}function wR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Password must be at least 5 letters"),i.qZA())}let bR=(()=>{class n{constructor(t,r,s,l){this.fireStore=t,this.userService=r,this.router=s,this.fb=l,this.insertedUser={},this.emailPattern="[a-zA-Z0-9+_.-]+@gmail.com",this.show="password",this.eye="fa fa-eye-slash",this.myUsers=[],this.linkPattern=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{10,256}/,this.fireStore.getUsers().subscribe(c=>{for(let f of c)this.myUsers.push({id:f.payload.doc.id,...f.payload.doc.data()})}),this.loginForm=this.fb.group({email:["",nn.required],password:["",[nn.required,nn.minLength(5)]]})}get f(){return this.loginForm.controls}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}toggle(){"text"==this.show?(this.show="password",this.eye="fa fa-eye-slash"):(this.show="text",this.eye="fa fa-eye")}login(){if(this.insertedUser=this.loginForm.value,this.myUsers.some(l=>l.email===this.insertedUser.email)){var r=this.myUsers.find(l=>l.email===this.insertedUser.email);console.log(r),r.password===this.insertedUser.password?"seller"==r.userType?(console.log("You are seller"),localStorage.setItem("sellerCode",r.sellerCode.toString()),localStorage.setItem("email",r.email),this.userService.isLoggedSubject.next(!0),this.router.navigate(["/Home"])):(console.log("You are buyer"),localStorage.setItem("email",r.email),this.userService.isLoggedSubject.next(!0),this.router.navigate(["/Home"])):alert("Please enter valid password or email")}else alert("this email didn't registerd before"),confirm("Do you really want to go to Register page?")&&this.router.navigate(["/register"])}ngOnInit(){}ngOnChanges(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga),i.Y36(mw),i.Y36(sr),i.Y36(GE))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login-page"]],features:[i.TTD],decls:31,vars:23,consts:[[1,"updatePage","p-5"],[1,"updateSection"],[1,"container"],[1,"pb-5","text-center"],[1,"myform","p-3","m-auto",2,"width","75%",3,"formGroup","ngSubmit"],["for","usrEmail",1,"form-label"],["type","email","name","usrEmail","id","usrEmail","formControlName","email",1,"form-control",3,"pattern"],[1,"alert","alert-warning","mt-1",3,"hidden"],[4,"ngIf"],["for","usrPass",1,"form-label"],[2,"position","relative"],["name","usrPass","id","usrPass","formControlName","password",1,"form-control",3,"type"],["aria-hidden","true",1,"iconeye",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"mx-auto","w-100","text-center","mt-3"],["routerLink","/register"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i._uU(4,"Welcome To Noon"),i.qZA(),i.TgZ(5,"form",4),i.NdJ("ngSubmit",function(){return r.login()}),i.TgZ(6,"div")(7,"label",5),i._uU(8,"Email"),i.qZA(),i._UZ(9,"input",6),i.TgZ(10,"div",7),i.YNc(11,yR,2,0,"span",8),i.YNc(12,vR,2,0,"span",8),i.qZA()(),i._UZ(13,"hr"),i.TgZ(14,"div")(15,"label",9),i._uU(16,"Password"),i.qZA(),i.TgZ(17,"div",10),i._UZ(18,"input",11),i.TgZ(19,"i",12),i.NdJ("click",function(){return r.toggle()}),i.qZA()(),i.TgZ(20,"div",7),i.YNc(21,_R,2,0,"span",8),i.YNc(22,wR,2,0,"span",8),i.qZA()(),i._UZ(23,"hr"),i.TgZ(24,"button",13),i._uU(25," Login "),i.qZA()()()(),i.TgZ(26,"h6",14),i._uU(27,"You don't have account ? "),i.TgZ(28,"a",15),i._uU(29),i.ALo(30,"translate"),i.qZA()()()),2&t&&(i.xp6(5),i.Q6J("formGroup",r.loginForm),i.xp6(4),i.ekj("is-valid",null==r.email?null:r.email.valid)("is-invalid",null==r.email?null:r.email.invalid),i.Q6J("pattern",r.emailPattern),i.xp6(1),i.Q6J("hidden",(null==r.email?null:r.email.valid)||(null==r.email?null:r.email.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.pattern),i.xp6(6),i.ekj("is-valid",null==r.password?null:r.password.valid)("is-invalid",null==r.password?null:r.password.invalid),i.Q6J("type",r.show),i.xp6(1),i.Tol(r.eye),i.xp6(1),i.Q6J("hidden",(null==r.password?null:r.password.valid)||(null==r.password?null:r.password.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.minlength),i.xp6(2),i.Q6J("disabled",!r.loginForm.valid),i.xp6(5),i.Oqu(i.lcZ(30,21,"register")))},dependencies:[Sn,ng,gw,Yp,lw,uw,Ly,Kp,Ry,ru],styles:[".is-invalid[_ngcontent-%COMP%]{border-left:5px solid #F00}.is-valid[_ngcontent-%COMP%]{border-left:5px solid #080}.updatePage[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(255,254,156),rgb(247,247,250));padding:50px 0}form[_ngcontent-%COMP%]{border:1px solid #e8e8e8;box-shadow:0 0 15px #feee00;border-radius:10px;background-color:#fff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.iconeye[_ngcontent-%COMP%]{top:6px;right:40px;background-color:#ffeb00;position:absolute;padding:5px;border-radius:50%}"]}),n})();function CR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Full Name is required"),i.qZA())}function ER(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Full Name must be at least 5 letters"),i.qZA())}function TR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Email is required"),i.qZA())}function IR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Email must ended by @gmail.com"),i.qZA())}function AR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"image is required"),i.qZA())}function DR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Enter Valid URL"),i.qZA())}function SR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"You must enter your Mobile"),i.qZA())}function xR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"You must enter your Address"),i.qZA())}function MR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"password is required"),i.qZA())}function PR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Password must be at least 5 letters"),i.qZA())}function OR(n,e){1&n&&(i.TgZ(0,"div"),i._uU(1," Password must be matched "),i.qZA())}let NR=(()=>{class n{constructor(t,r,s,l){this.fireStore=t,this.userService=r,this.router=s,this.fb=l,this.insertedUser={},this.newSellerCode=0,this.emailPattern="[a-zA-Z0-9+_.-]+@gmail.com",this.show="password",this.eye="fa fa-eye-slash",this.myUsers=[],this.linkPattern=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{10,256}/,this.fireStore.getUsers().subscribe(c=>{for(let f of c)this.myUsers.push({id:f.payload.doc.id,...f.payload.doc.data()})}),this.registerForm=this.fb.group({fullName:["",[nn.required,nn.minLength(5)]],email:["",nn.required],mobile:["",nn.required],address:["",nn.required],password:["",[nn.required,nn.minLength(5)]],rePassword:["",nn.required],userType:["",nn.required],image:["",nn.required]})}get f(){return this.registerForm.controls}get fullName(){return this.registerForm.get("fullName")}get email(){return this.registerForm.get("email")}get mobile(){return this.registerForm.get("mobile")}get address(){return this.registerForm.get("address")}get password(){return this.registerForm.get("password")}get rePassword(){return this.registerForm.get("rePassword")}get userType(){return this.registerForm.get("userType")}get image(){return this.registerForm.get("image")}toggle(){"text"==this.show?(this.show="password",this.eye="fa fa-eye-slash"):(this.show="text",this.eye="fa fa-eye")}registration(){if(this.insertedUser=this.registerForm.value,this.myUsers.some(s=>s.email===this.insertedUser.email))alert("tis email registerd before"),confirm("Do you really want to go to Login page?")&&this.router.navigate(["/login"]);else{for(let s=1;s<100;s++)if(!this.myUsers.some(l=>l.sellerCode===s)){this.newSellerCode=s;break}this.insertedUser={...this.insertedUser,sellerCode:this.newSellerCode},console.log(this.insertedUser),this.fireStore.addUser(this.insertedUser),console.log(this.myUsers),"seller"==this.insertedUser.userType?(console.log("You are seller"),localStorage.setItem("sellerCode",this.newSellerCode.toString()),localStorage.setItem("email",this.insertedUser.email),this.router.navigate(["/Home"])):(console.log("You are buyer"),localStorage.setItem("email",this.insertedUser.email),this.router.navigate(["/Home"]))}}ngOnInit(){}ngOnChanges(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga),i.Y36(mw),i.Y36(sr),i.Y36(GE))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-register-page"]],features:[i.TTD],decls:74,vars:56,consts:[[1,"updatePage","p-5"],[1,"updateSection"],[1,"container"],[1,"pb-5","text-center"],[1,"myform","p-3","m-auto",2,"width","75%",3,"formGroup","ngSubmit"],["for","usrName",1,"form-label"],["type","text","name","usrName","id","usrName","formControlName","fullName",1,"form-control"],[1,"alert","alert-warning","mt-1",3,"hidden"],[4,"ngIf"],["for","usrEmail",1,"form-label"],["type","email","name","usrEmail","id","usrEmail","formControlName","email",1,"form-control",3,"pattern"],["for","image",1,"form-label"],["type","text","name","image","id","image","formControlName","image","placeholder","Enter image Url",1,"form-control",3,"pattern"],[1,"alert","alert-warning",3,"hidden"],["for","mobile",1,"form-label"],["type","text","name","mobile","id","mobile","formControlName","mobile",1,"form-control"],["for","address",1,"form-label"],["type","text","name","address","id","address","formControlName","address",1,"form-control"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","userType","id","btnradio1","autocomplete","off","value","seller","formControlName","userType",1,"btn-check"],["seller",""],["for","btnradio1",1,"btn","btn-outline-warning"],["type","radio","name","userType","id","btnradio2","autocomplete","off","value","buyer","formControlName","userType",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-warning"],["for","usrPass",1,"form-label"],[2,"position","relative"],["name","usrPass","id","usrPass","formControlName","password",1,"form-control",3,"type"],["aria-hidden","true",1,"iconeye",3,"click"],["for","rePassword",1,"form-label"],["name","rePassword","id","rePassword","formControlName","rePassword",1,"form-control",3,"type"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i._uU(4,"Welcome To Noon"),i.qZA(),i.TgZ(5,"form",4),i.NdJ("ngSubmit",function(){return r.registration()}),i.TgZ(6,"div")(7,"label",5),i._uU(8,"Full Name"),i.qZA(),i._UZ(9,"input",6),i.TgZ(10,"div",7),i.YNc(11,CR,2,0,"span",8),i.YNc(12,ER,2,0,"span",8),i.qZA()(),i._UZ(13,"hr"),i.TgZ(14,"div")(15,"label",9),i._uU(16,"Email"),i.qZA(),i._UZ(17,"input",10),i.TgZ(18,"div",7),i.YNc(19,TR,2,0,"span",8),i.YNc(20,IR,2,0,"span",8),i.qZA()(),i._UZ(21,"hr"),i.TgZ(22,"div")(23,"label",11),i._uU(24,"image URl"),i.qZA(),i._UZ(25,"input",12),i.TgZ(26,"div",13),i.YNc(27,AR,2,0,"span",8),i.YNc(28,DR,2,0,"span",8),i.qZA()(),i._UZ(29,"hr"),i.TgZ(30,"div")(31,"label",14),i._uU(32,"Mobile"),i.qZA(),i._UZ(33,"input",15),i.TgZ(34,"div",7),i.YNc(35,SR,2,0,"span",8),i.qZA()(),i._UZ(36,"hr"),i.TgZ(37,"div")(38,"label",16),i._uU(39,"Address"),i.qZA(),i._UZ(40,"input",17),i.TgZ(41,"div",7),i.YNc(42,xR,2,0,"span",8),i.qZA()(),i._UZ(43,"hr"),i.TgZ(44,"div",18),i._UZ(45,"input",19,20),i.TgZ(47,"label",21),i._uU(48,"Seller"),i.qZA(),i._UZ(49,"input",22),i.TgZ(50,"label",23),i._uU(51,"Buyer"),i.qZA()(),i._UZ(52,"hr"),i.TgZ(53,"div")(54,"label",24),i._uU(55,"Password"),i.qZA(),i.TgZ(56,"div",25),i._UZ(57,"input",26),i.TgZ(58,"i",27),i.NdJ("click",function(){return r.toggle()}),i.qZA()(),i.TgZ(59,"div",7),i.YNc(60,MR,2,0,"span",8),i.YNc(61,PR,2,0,"span",8),i.qZA()(),i._UZ(62,"hr"),i.TgZ(63,"div")(64,"label",28),i._uU(65,"Retype Password"),i.qZA(),i.TgZ(66,"div",25),i._UZ(67,"input",29),i.TgZ(68,"i",27),i.NdJ("click",function(){return r.toggle()}),i.qZA()(),i.TgZ(69,"div",7),i.YNc(70,OR,2,0,"div",8),i.qZA()(),i._UZ(71,"br"),i.TgZ(72,"button",30),i._uU(73," ADD "),i.qZA()()()()()),2&t&&(i.xp6(5),i.Q6J("formGroup",r.registerForm),i.xp6(4),i.ekj("is-valid",null==r.fullName?null:r.fullName.valid)("is-invalid",null==r.fullName?null:r.fullName.invalid),i.xp6(1),i.Q6J("hidden",(null==r.fullName?null:r.fullName.valid)||(null==r.fullName?null:r.fullName.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.minlength),i.xp6(5),i.ekj("is-valid",null==r.email?null:r.email.valid)("is-invalid",null==r.email?null:r.email.invalid),i.Q6J("pattern",r.emailPattern),i.xp6(1),i.Q6J("hidden",(null==r.email?null:r.email.valid)||(null==r.email?null:r.email.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.pattern),i.xp6(5),i.ekj("is-valid",null==r.image?null:r.image.valid)("is-invalid",null==r.image?null:r.image.invalid),i.Q6J("pattern",r.linkPattern),i.xp6(1),i.Q6J("hidden",(null==r.image?null:r.image.valid)||(null==r.image?null:r.image.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.image||null==r.image.errors?null:r.image.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.image||null==r.image.errors?null:r.image.errors.pattern),i.xp6(5),i.ekj("is-valid",null==r.mobile?null:r.mobile.valid)("is-invalid",null==r.mobile?null:r.mobile.invalid),i.xp6(1),i.Q6J("hidden",(null==r.mobile?null:r.mobile.valid)||(null==r.mobile?null:r.mobile.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.mobile?null:r.mobile.invalid),i.xp6(5),i.ekj("is-valid",null==r.address?null:r.address.valid)("is-invalid",null==r.address?null:r.address.invalid),i.xp6(1),i.Q6J("hidden",(null==r.address?null:r.address.valid)||(null==r.address?null:r.address.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.address?null:r.address.invalid),i.xp6(15),i.ekj("is-valid",null==r.password?null:r.password.valid)("is-invalid",null==r.password?null:r.password.invalid),i.Q6J("type",r.show),i.xp6(1),i.Tol(r.eye),i.xp6(1),i.Q6J("hidden",(null==r.password?null:r.password.valid)||(null==r.password?null:r.password.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.minlength),i.xp6(6),i.ekj("is-valid",(null==r.rePassword?null:r.rePassword.valid)&&(null==r.rePassword?null:r.rePassword.value)==(null==r.password?null:r.password.value))("is-invalid",(null==r.rePassword?null:r.rePassword.value)!=(null==r.password?null:r.password.value)),i.Q6J("type",r.show),i.xp6(1),i.Tol(r.eye),i.xp6(1),i.Q6J("hidden",(null==r.rePassword?null:r.rePassword.value)==(null==r.password?null:r.password.value)||(null==r.rePassword?null:r.rePassword.untouched)),i.xp6(1),i.Q6J("ngIf",(null==r.rePassword?null:r.rePassword.value)!=(null==r.password?null:r.password.value)),i.xp6(2),i.Q6J("disabled",!r.registerForm.valid))},dependencies:[Sn,gw,Yp,qE,lw,uw,Ly,Kp,Ry],styles:[".is-invalid[_ngcontent-%COMP%]{border-left:5px solid #F00}.is-valid[_ngcontent-%COMP%]{border-left:5px solid #080}.updatePage[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(255,254,156),rgb(247,247,250));padding:50px 0}form[_ngcontent-%COMP%]{border:1px solid #e8e8e8;box-shadow:0 0 15px #feee00;border-radius:10px;background-color:#fff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.iconeye[_ngcontent-%COMP%]{top:6px;right:40px;background-color:#ffeb00;position:absolute;padding:5px;border-radius:50%}"]}),n})();function kR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Full Name is required"),i.qZA())}function RR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Full Name must be at least 5 letters"),i.qZA())}function LR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Email is required"),i.qZA())}function FR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Email must ended by @gmail.com"),i.qZA())}function UR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"image is required"),i.qZA())}function VR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Enter Valid URL"),i.qZA())}function BR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"You must enter your Mobile"),i.qZA())}function $R(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"You must enter your Address"),i.qZA())}function ZR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"password is required"),i.qZA())}function jR(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1," Password must be at least 5 letters"),i.qZA())}function HR(n,e){1&n&&(i.TgZ(0,"div"),i._uU(1," Password must be matched "),i.qZA())}let qR=(()=>{class n{constructor(t,r,s,l){this.fireStore=t,this.userService=r,this.router=s,this.fb=l,this.user={},this.updatedUser={},this.Foundeduser=[],this.emailPattern="[a-zA-Z0-9+_.-]+@gmail.com",this.show="password",this.eye="fa fa-eye-slash",this.linkPattern=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{10,256}/,this.uEmail=localStorage.getItem("email"),this.fireStore.getUsers().subscribe(c=>{let f=[];for(let y of c)f.push({id:y.payload.doc.id,...y.payload.doc.data()});this.user=f.find(y=>y.email==this.uEmail),console.log(this.user),this.usrFormGroup.patchValue(this.user)}),this.usrFormGroup=this.fb.group({fullName:["",[nn.required,nn.minLength(5)]],email:["",nn.required],mobile:["",nn.required],address:["",nn.required],password:["",[nn.required,nn.minLength(5)]],rePassword:["",nn.required],userType:["",nn.required],image:["",nn.required]})}get f(){return this.usrFormGroup.controls}get fullName(){return this.usrFormGroup.get("fullName")}get email(){return this.usrFormGroup.get("email")}get mobile(){return this.usrFormGroup.get("mobile")}get address(){return this.usrFormGroup.get("address")}get password(){return this.usrFormGroup.get("password")}get rePassword(){return this.usrFormGroup.get("rePassword")}get userType(){return this.usrFormGroup.get("userType")}get image(){return this.usrFormGroup.get("image")}toggle(){"text"==this.show?(this.show="password",this.eye="fa fa-eye-slash"):(this.show="text",this.eye="fa fa-eye")}updateUser(){this.updatedUser=this.usrFormGroup.value,console.log(this.updatedUser),this.fireStore.updateUser(this.uEmail,this.updatedUser),alert(`${this.user.fullName} is updated`),this.router.navigate(["/userProfile"])}ngOnInit(){}ngOnChanges(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga),i.Y36(mw),i.Y36(sr),i.Y36(GE))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-update-user"]],features:[i.TTD],decls:74,vars:56,consts:[[1,"updatePage","p-5"],[1,"updateSection"],[1,"container"],[1,"pb-5","text-center"],[1,"myform","p-3","m-auto",2,"width","75%",3,"formGroup","ngSubmit"],["for","usrName",1,"form-label"],["type","text","name","usrName","id","usrName","formControlName","fullName",1,"form-control"],[1,"alert","alert-warning","mt-1",3,"hidden"],[4,"ngIf"],["for","usrEmail",1,"form-label"],["type","email","name","usrEmail","id","usrEmail","formControlName","email",1,"form-control",3,"pattern"],["for","image",1,"form-label"],["type","text","name","image","id","image","formControlName","image","placeholder","Enter image Url",1,"form-control",3,"pattern"],[1,"alert","alert-warning",3,"hidden"],["for","mobile",1,"form-label"],["type","text","name","mobile","id","mobile","formControlName","mobile",1,"form-control"],["for","address",1,"form-label"],["type","text","name","address","id","address","formControlName","address",1,"form-control"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","userType","id","btnradio1","autocomplete","off","value","seller","formControlName","userType",1,"btn-check"],["seller",""],["for","btnradio1",1,"btn","btn-outline-warning"],["type","radio","name","userType","id","btnradio2","autocomplete","off","value","buyer","formControlName","userType",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-warning"],["for","usrPass",1,"form-label"],[2,"position","relative"],["name","usrPass","id","usrPass","formControlName","password",1,"form-control",3,"type"],["aria-hidden","true",1,"iconeye",3,"click"],["for","rePassword",1,"form-label"],["name","rePassword","id","rePassword","formControlName","rePassword",1,"form-control",3,"type"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i._uU(4,"Update Your Information"),i.qZA(),i.TgZ(5,"form",4),i.NdJ("ngSubmit",function(){return r.updateUser()}),i.TgZ(6,"div")(7,"label",5),i._uU(8,"Full Name"),i.qZA(),i._UZ(9,"input",6),i.TgZ(10,"div",7),i.YNc(11,kR,2,0,"span",8),i.YNc(12,RR,2,0,"span",8),i.qZA()(),i._UZ(13,"hr"),i.TgZ(14,"div")(15,"label",9),i._uU(16,"Email"),i.qZA(),i._UZ(17,"input",10),i.TgZ(18,"div",7),i.YNc(19,LR,2,0,"span",8),i.YNc(20,FR,2,0,"span",8),i.qZA()(),i._UZ(21,"hr"),i.TgZ(22,"div")(23,"label",11),i._uU(24,"image URl"),i.qZA(),i._UZ(25,"input",12),i.TgZ(26,"div",13),i.YNc(27,UR,2,0,"span",8),i.YNc(28,VR,2,0,"span",8),i.qZA()(),i._UZ(29,"hr"),i.TgZ(30,"div")(31,"label",14),i._uU(32,"Mobile"),i.qZA(),i._UZ(33,"input",15),i.TgZ(34,"div",7),i.YNc(35,BR,2,0,"span",8),i.qZA()(),i._UZ(36,"hr"),i.TgZ(37,"div")(38,"label",16),i._uU(39,"Address"),i.qZA(),i._UZ(40,"input",17),i.TgZ(41,"div",7),i.YNc(42,$R,2,0,"span",8),i.qZA()(),i._UZ(43,"hr"),i.TgZ(44,"div",18),i._UZ(45,"input",19,20),i.TgZ(47,"label",21),i._uU(48,"Seller"),i.qZA(),i._UZ(49,"input",22),i.TgZ(50,"label",23),i._uU(51,"Buyer"),i.qZA()(),i._UZ(52,"hr"),i.TgZ(53,"div")(54,"label",24),i._uU(55,"Password"),i.qZA(),i.TgZ(56,"div",25),i._UZ(57,"input",26),i.TgZ(58,"i",27),i.NdJ("click",function(){return r.toggle()}),i.qZA()(),i.TgZ(59,"div",7),i.YNc(60,ZR,2,0,"span",8),i.YNc(61,jR,2,0,"span",8),i.qZA()(),i._UZ(62,"hr"),i.TgZ(63,"div")(64,"label",28),i._uU(65,"Retype Password"),i.qZA(),i.TgZ(66,"div",25),i._UZ(67,"input",29),i.TgZ(68,"i",27),i.NdJ("click",function(){return r.toggle()}),i.qZA()(),i.TgZ(69,"div",7),i.YNc(70,HR,2,0,"div",8),i.qZA()(),i._UZ(71,"br"),i.TgZ(72,"button",30),i._uU(73," Update "),i.qZA()()()()()),2&t&&(i.xp6(5),i.Q6J("formGroup",r.usrFormGroup),i.xp6(4),i.ekj("is-valid",null==r.fullName?null:r.fullName.valid)("is-invalid",null==r.fullName?null:r.fullName.invalid),i.xp6(1),i.Q6J("hidden",(null==r.fullName?null:r.fullName.valid)||(null==r.fullName?null:r.fullName.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.minlength),i.xp6(5),i.ekj("is-valid",null==r.email?null:r.email.valid)("is-invalid",null==r.email?null:r.email.invalid),i.Q6J("pattern",r.emailPattern),i.xp6(1),i.Q6J("hidden",(null==r.email?null:r.email.valid)||(null==r.email?null:r.email.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.pattern),i.xp6(5),i.ekj("is-valid",null==r.image?null:r.image.valid)("is-invalid",null==r.image?null:r.image.invalid),i.Q6J("pattern",r.linkPattern),i.xp6(1),i.Q6J("hidden",(null==r.image?null:r.image.valid)||(null==r.image?null:r.image.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.image||null==r.image.errors?null:r.image.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.image||null==r.image.errors?null:r.image.errors.pattern),i.xp6(5),i.ekj("is-valid",null==r.mobile?null:r.mobile.valid)("is-invalid",null==r.mobile?null:r.mobile.invalid),i.xp6(1),i.Q6J("hidden",(null==r.mobile?null:r.mobile.valid)||(null==r.mobile?null:r.mobile.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.mobile?null:r.mobile.invalid),i.xp6(5),i.ekj("is-valid",null==r.address?null:r.address.valid)("is-invalid",null==r.address?null:r.address.invalid),i.xp6(1),i.Q6J("hidden",(null==r.address?null:r.address.valid)||(null==r.address?null:r.address.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.address?null:r.address.invalid),i.xp6(15),i.ekj("is-valid",null==r.password?null:r.password.valid)("is-invalid",null==r.password?null:r.password.invalid),i.Q6J("type",r.show),i.xp6(1),i.Tol(r.eye),i.xp6(1),i.Q6J("hidden",(null==r.password?null:r.password.valid)||(null==r.password?null:r.password.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.minlength),i.xp6(6),i.ekj("is-valid",(null==r.rePassword?null:r.rePassword.valid)&&(null==r.rePassword?null:r.rePassword.value)==(null==r.password?null:r.password.value))("is-invalid",(null==r.rePassword?null:r.rePassword.value)!=(null==r.password?null:r.password.value)),i.Q6J("type",r.show),i.xp6(1),i.Tol(r.eye),i.xp6(1),i.Q6J("hidden",(null==r.rePassword?null:r.rePassword.value)==(null==r.password?null:r.password.value)||(null==r.rePassword?null:r.rePassword.untouched)),i.xp6(1),i.Q6J("ngIf",(null==r.rePassword?null:r.rePassword.value)!=(null==r.password?null:r.password.value)),i.xp6(2),i.Q6J("disabled",!r.usrFormGroup.valid))},dependencies:[Sn,gw,Yp,qE,lw,uw,Ly,Kp,Ry],styles:[".is-invalid[_ngcontent-%COMP%]{border-left:5px solid #F00}.is-valid[_ngcontent-%COMP%]{border-left:5px solid #080}.updatePage[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(255,254,156),rgb(247,247,250));padding:50px 0}form[_ngcontent-%COMP%]{border:1px solid #e8e8e8;box-shadow:0 0 15px #feee00;border-radius:10px;background-color:#fff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.iconeye[_ngcontent-%COMP%]{top:6px;right:40px;background-color:#ffeb00;position:absolute;padding:5px;border-radius:50%}"]}),n})(),y1=(()=>{class n{constructor(t,r){this.fireStore=t,this.store=r,this.products=[],this.fireStore.getproducts().subscribe(s=>{let l=[];for(let c of s)l.push({id:c.payload.doc.id,...c.payload.doc.data()});this.products=l})}getProductsByCategorey(t){return"all"==t?this.products:this.products.filter(r=>r.category==t)}getProductsBySellerCode(t){return this.products.filter(r=>r.sellerCode==t)}getProductsByName(t){return this.products.filter(r=>{if(r.description)return r.description.toLowerCase().includes(t)})}getProductById(t){return this.store.collection("Products").doc(t).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ga),i.LFG(Gp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KM(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function hD(n={},e={}){Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:KM(e[t])&&KM(n[t])&&Object.keys(e[t]).length>0&&hD(n[t],e[t])})}const QM={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function po(){const n=typeof document<"u"?document:{};return hD(n,QM),n}const zR={document:QM,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>typeof setTimeout>"u"?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Fi(){const n=typeof window<"u"?window:{};return hD(n,zR),n}class hf extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function GR(n){const e=n.__proto__;Object.defineProperty(n,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function Mw(n=[]){const e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...Mw(t)):e.push(t)}),e}function JM(n,e){return Array.prototype.filter.call(n,e)}function en(n,e){const t=Fi(),r=po();let s=[];if(!e&&n instanceof hf)return n;if(!n)return new hf(s);if("string"==typeof n){const l=n.trim();if(l.indexOf("<")>=0&&l.indexOf(">")>=0){let c="div";0===l.indexOf("<li")&&(c="ul"),0===l.indexOf("<tr")&&(c="tbody"),(0===l.indexOf("<td")||0===l.indexOf("<th"))&&(c="tr"),0===l.indexOf("<tbody")&&(c="table"),0===l.indexOf("<option")&&(c="select");const f=r.createElement(c);f.innerHTML=l;for(let y=0;y<f.childNodes.length;y+=1)s.push(f.childNodes[y])}else s=function KR(n,e){if("string"!=typeof n)return[n];const t=[],r=e.querySelectorAll(n);for(let s=0;s<r.length;s+=1)t.push(r[s]);return t}(n.trim(),e||r)}else if(n.nodeType||n===t||n===r)s.push(n);else if(Array.isArray(n)){if(n instanceof hf)return n;s=n}return new hf(function WR(n){const e=[];for(let t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(s))}en.fn=hf.prototype;const NL="resize scroll".split(" ");function Zr(n){return function e(...t){if(typeof t[0]>"u"){for(let r=0;r<this.length;r+=1)NL.indexOf(n)<0&&(n in this[r]?this[r][n]():en(this[r]).trigger(n));return this}return this.on(n,...t)}}Zr("click"),Zr("blur"),Zr("focus"),Zr("focusin"),Zr("focusout"),Zr("keyup"),Zr("keydown"),Zr("keypress"),Zr("submit"),Zr("change"),Zr("mousedown"),Zr("mousemove"),Zr("mouseup"),Zr("mouseenter"),Zr("mouseleave"),Zr("mouseout"),Zr("mouseover"),Zr("touchstart"),Zr("touchend"),Zr("touchmove"),Zr("resize"),Zr("scroll");const XM={addClass:function QR(...n){const e=Mw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function JR(...n){const e=Mw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function eL(...n){const e=Mw(n.map(t=>t.split(" ")));return JM(this,t=>e.filter(r=>t.classList.contains(r)).length>0).length>0},toggleClass:function XR(...n){const e=Mw(n.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(r=>{t.classList.toggle(r)})})},attr:function tL(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(let t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(const r in n)this[t][r]=n[r],this[t].setAttribute(r,n[r]);return this},removeAttr:function nL(n){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function rL(n){for(let e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function iL(n){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?`${n}ms`:n;return this},on:function sL(...n){let[e,t,r,s]=n;function l(v){const C=v.target;if(!C)return;const E=v.target.dom7EventData||[];if(E.indexOf(v)<0&&E.unshift(v),en(C).is(t))r.apply(C,E);else{const A=en(C).parents();for(let P=0;P<A.length;P+=1)en(A[P]).is(t)&&r.apply(A[P],E)}}function c(v){const C=v&&v.target&&v.target.dom7EventData||[];C.indexOf(v)<0&&C.unshift(v),r.apply(this,C)}"function"==typeof n[1]&&([e,r,s]=n,t=void 0),s||(s=!1);const f=e.split(" ");let y;for(let v=0;v<this.length;v+=1){const C=this[v];if(t)for(y=0;y<f.length;y+=1){const E=f[y];C.dom7LiveListeners||(C.dom7LiveListeners={}),C.dom7LiveListeners[E]||(C.dom7LiveListeners[E]=[]),C.dom7LiveListeners[E].push({listener:r,proxyListener:l}),C.addEventListener(E,l,s)}else for(y=0;y<f.length;y+=1){const E=f[y];C.dom7Listeners||(C.dom7Listeners={}),C.dom7Listeners[E]||(C.dom7Listeners[E]=[]),C.dom7Listeners[E].push({listener:r,proxyListener:c}),C.addEventListener(E,c,s)}}return this},off:function oL(...n){let[e,t,r,s]=n;"function"==typeof n[1]&&([e,r,s]=n,t=void 0),s||(s=!1);const l=e.split(" ");for(let c=0;c<l.length;c+=1){const f=l[c];for(let y=0;y<this.length;y+=1){const v=this[y];let C;if(!t&&v.dom7Listeners?C=v.dom7Listeners[f]:t&&v.dom7LiveListeners&&(C=v.dom7LiveListeners[f]),C&&C.length)for(let E=C.length-1;E>=0;E-=1){const A=C[E];r&&A.listener===r||r&&A.listener&&A.listener.dom7proxy&&A.listener.dom7proxy===r?(v.removeEventListener(f,A.proxyListener,s),C.splice(E,1)):r||(v.removeEventListener(f,A.proxyListener,s),C.splice(E,1))}}}return this},trigger:function aL(...n){const e=Fi(),t=n[0].split(" "),r=n[1];for(let s=0;s<t.length;s+=1){const l=t[s];for(let c=0;c<this.length;c+=1){const f=this[c];if(e.CustomEvent){const y=new e.CustomEvent(l,{detail:r,bubbles:!0,cancelable:!0});f.dom7EventData=n.filter((v,C)=>C>0),f.dispatchEvent(y),f.dom7EventData=[],delete f.dom7EventData}}}return this},transitionEnd:function lL(n){const e=this;return n&&e.on("transitionend",function t(r){r.target===this&&(n.call(this,r),e.off("transitionend",t))}),this},outerWidth:function uL(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function cL(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function hL(){const n=Fi();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function dL(){if(this.length>0){const n=Fi(),e=po(),t=this[0],r=t.getBoundingClientRect(),s=e.body;return{top:r.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||s.clientTop||0),left:r.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||s.clientLeft||0)}}return null},css:function fL(n,e){const t=Fi();let r;if(1===arguments.length){if("string"!=typeof n){for(r=0;r<this.length;r+=1)for(const s in n)this[r].style[s]=n[s];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(r=0;r<this.length;r+=1)this[r].style[n]=e;return this}return this},each:function pL(n){return n?(this.forEach((e,t)=>{n.apply(e,[e,t])}),this):this},html:function mL(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function yL(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function vL(n){const e=Fi(),t=po(),r=this[0];let s,l;if(!r||typeof n>"u")return!1;if("string"==typeof n){if(r.matches)return r.matches(n);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(r.msMatchesSelector)return r.msMatchesSelector(n);for(s=en(n),l=0;l<s.length;l+=1)if(s[l]===r)return!0;return!1}if(n===t)return r===t;if(n===e)return r===e;if(n.nodeType||n instanceof hf){for(s=n.nodeType?[n]:n,l=0;l<s.length;l+=1)if(s[l]===r)return!0;return!1}return!1},index:function _L(){let e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function wL(n){if(typeof n>"u")return this;const e=this.length;if(n>e-1)return en([]);if(n<0){const t=e+n;return en(t<0?[]:[this[t]])}return en([this[n]])},append:function bL(...n){let e;const t=po();for(let r=0;r<n.length;r+=1){e=n[r];for(let s=0;s<this.length;s+=1)if("string"==typeof e){const l=t.createElement("div");for(l.innerHTML=e;l.firstChild;)this[s].appendChild(l.firstChild)}else if(e instanceof hf)for(let l=0;l<e.length;l+=1)this[s].appendChild(e[l]);else this[s].appendChild(e)}return this},prepend:function CL(n){const e=po();let t,r;for(t=0;t<this.length;t+=1)if("string"==typeof n){const s=e.createElement("div");for(s.innerHTML=n,r=s.childNodes.length-1;r>=0;r-=1)this[t].insertBefore(s.childNodes[r],this[t].childNodes[0])}else if(n instanceof hf)for(r=0;r<n.length;r+=1)this[t].insertBefore(n[r],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function EL(n){return this.length>0?n?this[0].nextElementSibling&&en(this[0].nextElementSibling).is(n)?en([this[0].nextElementSibling]):en([]):en(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):en([])},nextAll:function TL(n){const e=[];let t=this[0];if(!t)return en([]);for(;t.nextElementSibling;){const r=t.nextElementSibling;n?en(r).is(n)&&e.push(r):e.push(r),t=r}return en(e)},prev:function IL(n){if(this.length>0){const e=this[0];return n?e.previousElementSibling&&en(e.previousElementSibling).is(n)?en([e.previousElementSibling]):en([]):en(e.previousElementSibling?[e.previousElementSibling]:[])}return en([])},prevAll:function AL(n){const e=[];let t=this[0];if(!t)return en([]);for(;t.previousElementSibling;){const r=t.previousElementSibling;n?en(r).is(n)&&e.push(r):e.push(r),t=r}return en(e)},parent:function DL(n){const e=[];for(let t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?en(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return en(e)},parents:function SL(n){const e=[];for(let t=0;t<this.length;t+=1){let r=this[t].parentNode;for(;r;)n?en(r).is(n)&&e.push(r):e.push(r),r=r.parentNode}return en(e)},closest:function xL(n){let e=this;return typeof n>"u"?en([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function ML(n){const e=[];for(let t=0;t<this.length;t+=1){const r=this[t].querySelectorAll(n);for(let s=0;s<r.length;s+=1)e.push(r[s])}return en(e)},children:function PL(n){const e=[];for(let t=0;t<this.length;t+=1){const r=this[t].children;for(let s=0;s<r.length;s+=1)(!n||en(r[s]).is(n))&&e.push(r[s])}return en(e)},filter:function gL(n){return en(JM(this,n))},remove:function OL(){for(let n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(XM).forEach(n=>{Object.defineProperty(en.fn,n,{value:XM[n],writable:!0})});const An=en;function fD(n,e){return void 0===e&&(e=0),setTimeout(n,e)}function Pw(){return Date.now()}function v1(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function FL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function sa(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(null!=r&&!FL(r)){const s=Object.keys(Object(r)).filter(l=>e.indexOf(l)<0);for(let l=0,c=s.length;l<c;l+=1){const f=s[l],y=Object.getOwnPropertyDescriptor(r,f);void 0!==y&&y.enumerable&&(v1(n[f])&&v1(r[f])?r[f].__swiper__?n[f]=r[f]:sa(n[f],r[f]):!v1(n[f])&&v1(r[f])?(n[f]={},r[f].__swiper__?n[f]=r[f]:sa(n[f],r[f])):n[f]=r[f])}}}return n}function _1(n,e,t){n.style.setProperty(e,t)}function eP(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Fi(),l=-e.translate;let f,c=null;const y=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const v=t>l?"next":"prev",C=(A,P)=>"next"===v&&A>=P||"prev"===v&&A<=P,E=()=>{f=(new Date).getTime(),null===c&&(c=f);const A=Math.max(Math.min((f-c)/y,1),0),P=.5-Math.cos(A*Math.PI)/2;let O=l+P*(t-l);if(C(O,t)&&(O=t),e.wrapperEl.scrollTo({[r]:O}),C(O,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:O})}),void s.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=s.requestAnimationFrame(E)};E()}let pD,gD,mD;function tP(){return pD||(pD=function UL(){const n=Fi(),e=po();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});n.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:"ongesturestart"in n}}()),pD}const qL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||"function"!=typeof e)return r;const s=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||"function"!=typeof e)return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];e.apply(r,c)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,l)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return"string"==typeof l[0]||Array.isArray(l[0])?(e=l[0],t=l.slice(1,l.length),r=n):(e=l[0].events,t=l[0].data,r=l[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(y=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(v=>{v.apply(r,[y,...t])}),n.eventsListeners&&n.eventsListeners[y]&&n.eventsListeners[y].forEach(v=>{v.apply(r,t)})}),n}},t2={updateSize:function zL(){const n=this;let e,t;const r=n.$el;e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:r[0].clientWidth,t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:r[0].clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function GL(){const n=this;function e(ze){return n.isHorizontal()?ze:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[ze]}function t(ze,de){return parseFloat(ze.getPropertyValue(e(de))||0)}const r=n.params,{$wrapperEl:s,size:l,rtlTranslate:c,wrongRTL:f}=n,y=n.virtual&&r.virtual.enabled,v=y?n.virtual.slides.length:n.slides.length,C=s.children(`.${n.params.slideClass}`),E=y?n.virtual.slides.length:C.length;let A=[];const P=[],O=[];let U=r.slidesOffsetBefore;"function"==typeof U&&(U=r.slidesOffsetBefore.call(n));let N=r.slidesOffsetAfter;"function"==typeof N&&(N=r.slidesOffsetAfter.call(n));const F=n.snapGrid.length,G=n.slidesGrid.length;let j=r.spaceBetween,W=-U,xe=0,ve=0;if(typeof l>"u")return;"string"==typeof j&&j.indexOf("%")>=0&&(j=parseFloat(j.replace("%",""))/100*l),n.virtualSize=-j,C.css(c?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(_1(n.wrapperEl,"--swiper-centered-offset-before",""),_1(n.wrapperEl,"--swiper-centered-offset-after",""));const qe=r.grid&&r.grid.rows>1&&n.grid;let Oe;qe&&n.grid.initSlides(E);const bt="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(ze=>typeof r.breakpoints[ze].slidesPerView<"u").length>0;for(let ze=0;ze<E;ze+=1){Oe=0;const de=C.eq(ze);if(qe&&n.grid.updateSlide(ze,de,E,e),"none"!==de.css("display")){if("auto"===r.slidesPerView){bt&&(C[ze].style[e("width")]="");const oe=getComputedStyle(de[0]),Ze=de[0].style.transform,nt=de[0].style.webkitTransform;if(Ze&&(de[0].style.transform="none"),nt&&(de[0].style.webkitTransform="none"),r.roundLengths)Oe=n.isHorizontal()?de.outerWidth(!0):de.outerHeight(!0);else{const Jt=t(oe,"width"),$t=t(oe,"padding-left"),Te=t(oe,"padding-right"),mt=t(oe,"margin-left"),ht=t(oe,"margin-right"),gn=oe.getPropertyValue("box-sizing");if(gn&&"border-box"===gn)Oe=Jt+mt+ht;else{const{clientWidth:Rn,offsetWidth:go}=de[0];Oe=Jt+$t+Te+mt+ht+(go-Rn)}}Ze&&(de[0].style.transform=Ze),nt&&(de[0].style.webkitTransform=nt),r.roundLengths&&(Oe=Math.floor(Oe))}else Oe=(l-(r.slidesPerView-1)*j)/r.slidesPerView,r.roundLengths&&(Oe=Math.floor(Oe)),C[ze]&&(C[ze].style[e("width")]=`${Oe}px`);C[ze]&&(C[ze].swiperSlideSize=Oe),O.push(Oe),r.centeredSlides?(W=W+Oe/2+xe/2+j,0===xe&&0!==ze&&(W=W-l/2-j),0===ze&&(W=W-l/2-j),Math.abs(W)<.001&&(W=0),r.roundLengths&&(W=Math.floor(W)),ve%r.slidesPerGroup==0&&A.push(W),P.push(W)):(r.roundLengths&&(W=Math.floor(W)),(ve-Math.min(n.params.slidesPerGroupSkip,ve))%n.params.slidesPerGroup==0&&A.push(W),P.push(W),W=W+Oe+j),n.virtualSize+=Oe+j,xe=Oe,ve+=1}}if(n.virtualSize=Math.max(n.virtualSize,l)+N,c&&f&&("slide"===r.effect||"coverflow"===r.effect)&&s.css({width:`${n.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${n.virtualSize+r.spaceBetween}px`}),qe&&n.grid.updateWrapperSize(Oe,A,e),!r.centeredSlides){const ze=[];for(let de=0;de<A.length;de+=1){let oe=A[de];r.roundLengths&&(oe=Math.floor(oe)),A[de]<=n.virtualSize-l&&ze.push(oe)}A=ze,Math.floor(n.virtualSize-l)-Math.floor(A[A.length-1])>1&&A.push(n.virtualSize-l)}if(0===A.length&&(A=[0]),0!==r.spaceBetween){const ze=n.isHorizontal()&&c?"marginLeft":e("marginRight");C.filter((de,oe)=>!r.cssMode||oe!==C.length-1).css({[ze]:`${j}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let ze=0;O.forEach(oe=>{ze+=oe+(r.spaceBetween?r.spaceBetween:0)}),ze-=r.spaceBetween;const de=ze-l;A=A.map(oe=>oe<0?-U:oe>de?de+N:oe)}if(r.centerInsufficientSlides){let ze=0;if(O.forEach(de=>{ze+=de+(r.spaceBetween?r.spaceBetween:0)}),ze-=r.spaceBetween,ze<l){const de=(l-ze)/2;A.forEach((oe,Ze)=>{A[Ze]=oe-de}),P.forEach((oe,Ze)=>{P[Ze]=oe+de})}}if(Object.assign(n,{slides:C,snapGrid:A,slidesGrid:P,slidesSizesGrid:O}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){_1(n.wrapperEl,"--swiper-centered-offset-before",-A[0]+"px"),_1(n.wrapperEl,"--swiper-centered-offset-after",n.size/2-O[O.length-1]/2+"px");const ze=-n.snapGrid[0],de=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(oe=>oe+ze),n.slidesGrid=n.slidesGrid.map(oe=>oe+de)}if(E!==v&&n.emit("slidesLengthChange"),A.length!==F&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),P.length!==G&&n.emit("slidesGridLengthChange"),r.watchSlidesProgress&&n.updateSlidesOffset(),!(y||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const ze=`${r.containerModifierClass}backface-hidden`,de=n.$el.hasClass(ze);E<=r.maxBackfaceHiddenSlides?de||n.$el.addClass(ze):de&&n.$el.removeClass(ze)}},updateAutoHeight:function WL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let l,s=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const c=f=>r?e.slides.filter(y=>parseInt(y.getAttribute("data-swiper-slide-index"),10)===f)[0]:e.slides.eq(f)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||An([])).each(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;s=f>s?f:s}(s||0===s)&&e.$wrapperEl.css("height",`${s}px`)},updateSlidesOffset:function YL(){const n=this,e=n.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=n.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function KL(n){void 0===n&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:l}=e;if(0===r.length)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;s&&(c=n),r.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let f=0;f<r.length;f+=1){const y=r[f];let v=y.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const C=(c+(t.centeredSlides?e.minTranslate():0)-v)/(y.swiperSlideSize+t.spaceBetween),E=(c-l[0]+(t.centeredSlides?e.minTranslate():0)-v)/(y.swiperSlideSize+t.spaceBetween),A=-(c-v),P=A+e.slidesSizesGrid[f];(A>=0&&A<e.size-1||P>1&&P<=e.size||A<=0&&P>=e.size)&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(f),r.eq(f).addClass(t.slideVisibleClass)),y.progress=s?-C:C,y.originalProgress=s?-E:E}e.visibleSlides=An(e.visibleSlides)},updateProgress:function QL(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:l,isEnd:c}=e;const f=l,y=c;0===r?(s=0,l=!0,c=!0):(s=(n-e.minTranslate())/r,l=s<=0,c=s>=1),Object.assign(e,{progress:s,isBeginning:l,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!f&&e.emit("reachBeginning toEdge"),c&&!y&&e.emit("reachEnd toEdge"),(f&&!l||y&&!c)&&e.emit("fromEdge"),e.emit("progress",s)},updateSlidesClasses:function JL(){const n=this,{slides:e,params:t,$wrapperEl:r,activeIndex:s,realIndex:l}=n,c=n.virtual&&t.virtual.enabled;let f;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`),f=c?n.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${s}"]`):e.eq(s),f.addClass(t.slideActiveClass),t.loop&&(f.hasClass(t.slideDuplicateClass)?r.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${l}"]`).addClass(t.slideDuplicateActiveClass):r.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${l}"]`).addClass(t.slideDuplicateActiveClass));let y=f.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&0===y.length&&(y=e.eq(0),y.addClass(t.slideNextClass));let v=f.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&0===v.length&&(v=e.eq(-1),v.addClass(t.slidePrevClass)),t.loop&&(y.hasClass(t.slideDuplicateClass)?r.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${y.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):r.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${y.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),v.hasClass(t.slideDuplicateClass)?r.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):r.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function XL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:l,activeIndex:c,realIndex:f,snapIndex:y}=e;let C,v=n;if(typeof v>"u"){for(let A=0;A<r.length;A+=1)typeof r[A+1]<"u"?t>=r[A]&&t<r[A+1]-(r[A+1]-r[A])/2?v=A:t>=r[A]&&t<r[A+1]&&(v=A+1):t>=r[A]&&(v=A);l.normalizeSlideIndex&&(v<0||typeof v>"u")&&(v=0)}if(s.indexOf(t)>=0)C=s.indexOf(t);else{const A=Math.min(l.slidesPerGroupSkip,v);C=A+Math.floor((v-A)/l.slidesPerGroup)}if(C>=s.length&&(C=s.length-1),v===c)return void(C!==y&&(e.snapIndex=C,e.emit("snapIndexChange")));const E=parseInt(e.slides.eq(v).attr("data-swiper-slide-index")||v,10);Object.assign(e,{snapIndex:C,realIndex:E,previousIndex:c,activeIndex:v}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),f!==E&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function e2(n){const e=this,t=e.params,r=An(n).closest(`.${t.slideClass}`)[0];let l,s=!1;if(r)for(let c=0;c<e.slides.length;c+=1)if(e.slides[c]===r){s=!0,l=c;break}if(!r||!s)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(An(r).attr("data-swiper-slide-index"),10):l,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},a2={getTranslate:function n2(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:r,translate:s,$wrapperEl:l}=this;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let c=function LL(n,e){void 0===e&&(e="x");const t=Fi();let r,s,l;const c=function RL(n){const e=Fi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(s=c.transform||c.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix("none"===s?"":s)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),"x"===e&&(s=t.WebKitCSSMatrix?l.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===e&&(s=t.WebKitCSSMatrix?l.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),s||0}(l[0],n);return r&&(c=-c),c||0},setTranslate:function r2(n,e){const t=this,{rtlTranslate:r,params:s,$wrapperEl:l,wrapperEl:c,progress:f}=t;let E,y=0,v=0;t.isHorizontal()?y=r?-n:n:v=n,s.roundLengths&&(y=Math.floor(y),v=Math.floor(v)),s.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-y:-v:s.virtualTranslate||l.transform(`translate3d(${y}px, ${v}px, 0px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?y:v;const A=t.maxTranslate()-t.minTranslate();E=0===A?0:(n-t.minTranslate())/A,E!==f&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function i2(){return-this.snapGrid[0]},maxTranslate:function s2(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function o2(n,e,t,r,s){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=!0);const l=this,{params:c,wrapperEl:f}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const y=l.minTranslate(),v=l.maxTranslate();let C;if(C=r&&n>y?y:r&&n<v?v:n,l.updateProgress(C),c.cssMode){const E=l.isHorizontal();if(0===e)f[E?"scrollLeft":"scrollTop"]=-C;else{if(!l.support.smoothScroll)return eP({swiper:l,targetPosition:-C,side:E?"left":"top"}),!0;f.scrollTo({[E?"left":"top"]:-C,behavior:"smooth"})}return!0}return 0===e?(l.setTransition(0),l.setTranslate(C),t&&(l.emit("beforeTransitionStart",e,s),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(C),t&&(l.emit("beforeTransitionStart",e,s),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(A){!l||l.destroyed||A.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,t&&l.emit("transitionEnd"))}),l.$wrapperEl[0].addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd))),!0}};function nP(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:l,previousIndex:c}=e;let f=r;if(f||(f=l>c?"next":l<c?"prev":"reset"),e.emit(`transition${s}`),t&&l!==c){if("reset"===f)return void e.emit(`slideResetTransition${s}`);e.emit(`slideChangeTransition${s}`),e.emit("next"===f?`slideNextTransition${s}`:`slidePrevTransition${s}`)}}const d2={setTransition:function l2(n,e){const t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function u2(n,e){void 0===n&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),nP({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function c2(n,e){void 0===n&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),nP({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},_2={slideTo:function h2(n,e,t,r,s){if(void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"number"!=typeof n&&"string"!=typeof n)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof n}] given.`);if("string"==typeof n){const j=parseInt(n,10);if(!isFinite(j))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=j}const l=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:y,slidesGrid:v,previousIndex:C,activeIndex:E,rtlTranslate:A,wrapperEl:P,enabled:O}=l;if(l.animating&&f.preventInteractionOnTransition||!O&&!r&&!s)return!1;const U=Math.min(l.params.slidesPerGroupSkip,c);let N=U+Math.floor((c-U)/l.params.slidesPerGroup);N>=y.length&&(N=y.length-1),(E||f.initialSlide||0)===(C||0)&&t&&l.emit("beforeSlideChangeStart");const F=-y[N];if(l.updateProgress(F),f.normalizeSlideIndex)for(let j=0;j<v.length;j+=1){const W=-Math.floor(100*F),xe=Math.floor(100*v[j]),ve=Math.floor(100*v[j+1]);typeof v[j+1]<"u"?W>=xe&&W<ve-(ve-xe)/2?c=j:W>=xe&&W<ve&&(c=j+1):W>=xe&&(c=j)}if(l.initialized&&c!==E&&(!l.allowSlideNext&&F<l.translate&&F<l.minTranslate()||!l.allowSlidePrev&&F>l.translate&&F>l.maxTranslate()&&(E||0)!==c))return!1;let G;if(G=c>E?"next":c<E?"prev":"reset",A&&-F===l.translate||!A&&F===l.translate)return l.updateActiveIndex(c),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),"slide"!==f.effect&&l.setTranslate(F),"reset"!==G&&(l.transitionStart(t,G),l.transitionEnd(t,G)),!1;if(f.cssMode){const j=l.isHorizontal(),W=A?F:-F;if(0===e){const xe=l.virtual&&l.params.virtual.enabled;xe&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),P[j?"scrollLeft":"scrollTop"]=W,xe&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._swiperImmediateVirtual=!1})}else{if(!l.support.smoothScroll)return eP({swiper:l,targetPosition:W,side:j?"left":"top"}),!0;P.scrollTo({[j?"left":"top"]:W,behavior:"smooth"})}return!0}return l.setTransition(e),l.setTranslate(F),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,G),0===e?l.transitionEnd(t,G):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(W){!l||l.destroyed||W.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,G))}),l.$wrapperEl[0].addEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function f2(n,e,t,r){if(void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"string"==typeof n){const c=parseInt(n,10);if(!isFinite(c))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=c}const s=this;let l=n;return s.params.loop&&(l+=s.loopedSlides),s.slideTo(l,e,t,r)},slideNext:function p2(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);const r=this,{animating:s,enabled:l,params:c}=r;if(!l)return r;let f=c.slidesPerGroup;"auto"===c.slidesPerView&&1===c.slidesPerGroup&&c.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const y=r.activeIndex<c.slidesPerGroupSkip?1:f;if(c.loop){if(s&&c.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(c.rewind&&r.isEnd?0:r.activeIndex+y,n,e,t)},slidePrev:function g2(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);const r=this,{params:s,animating:l,snapGrid:c,slidesGrid:f,rtlTranslate:y,enabled:v}=r;if(!v)return r;if(s.loop){if(l&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function E(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const A=E(y?r.translate:-r.translate),P=c.map(N=>E(N));let O=c[P.indexOf(A)-1];if(typeof O>"u"&&s.cssMode){let N;c.forEach((F,G)=>{A>=F&&(N=G)}),typeof N<"u"&&(O=c[N>0?N-1:N])}let U=0;return typeof O<"u"&&(U=f.indexOf(O),U<0&&(U=r.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(U=U-r.slidesPerViewDynamic("previous",!0)+1,U=Math.max(U,0))),r.slideTo(s.rewind&&r.isBeginning?r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:U,n,e,t)},slideReset:function m2(n,e,t){return void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function y2(n,e,t,r){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),void 0===r&&(r=.5);const s=this;let l=s.activeIndex;const c=Math.min(s.params.slidesPerGroupSkip,l),f=c+Math.floor((l-c)/s.params.slidesPerGroup),y=s.rtlTranslate?s.translate:-s.translate;if(y>=s.snapGrid[f]){const v=s.snapGrid[f];y-v>(s.snapGrid[f+1]-v)*r&&(l+=s.params.slidesPerGroup)}else{const v=s.snapGrid[f-1];y-v<=(s.snapGrid[f]-v)*r&&(l-=s.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,s.slidesGrid.length-1),s.slideTo(l,n,e,t)},slideToClickedSlide:function v2(){const n=this,{params:e,$wrapperEl:t}=n,r="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let l,s=n.clickedIndex;if(e.loop){if(n.animating)return;l=parseInt(An(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=t.children(`.${e.slideClass}[data-swiper-slide-index="${l}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),fD(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=t.children(`.${e.slideClass}[data-swiper-slide-index="${l}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),fD(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}},E2={loopCreate:function w2(){const n=this,e=po(),{params:t,$wrapperEl:r}=n,s=r.children().length>0?An(r.children()[0].parentNode):r;s.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let l=s.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const y=t.slidesPerGroup-l.length%t.slidesPerGroup;if(y!==t.slidesPerGroup){for(let v=0;v<y;v+=1){const C=An(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);s.append(C)}l=s.children(`.${t.slideClass}`)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=l.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>l.length&&n.params.loopedSlidesLimit&&(n.loopedSlides=l.length);const c=[],f=[];l.each((y,v)=>{An(y).attr("data-swiper-slide-index",v)});for(let y=0;y<n.loopedSlides;y+=1){const v=y-Math.floor(y/l.length)*l.length;f.push(l.eq(v)[0]),c.unshift(l.eq(l.length-v-1)[0])}for(let y=0;y<f.length;y+=1)s.append(An(f[y].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let y=c.length-1;y>=0;y-=1)s.prepend(An(c[y].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function b2(){const n=this;n.emit("beforeLoopFix");const{activeIndex:e,slides:t,loopedSlides:r,allowSlidePrev:s,allowSlideNext:l,snapGrid:c,rtlTranslate:f}=n;let y;n.allowSlidePrev=!0,n.allowSlideNext=!0;const C=-c[e]-n.getTranslate();e<r?(y=t.length-3*r+e,y+=r,n.slideTo(y,0,!1,!0)&&0!==C&&n.setTranslate((f?-n.translate:n.translate)-C)):e>=t.length-r&&(y=-t.length+e+r,y+=r,n.slideTo(y,0,!1,!0)&&0!==C&&n.setTranslate((f?-n.translate:n.translate)-C)),n.allowSlidePrev=s,n.allowSlideNext=l,n.emit("loopFix")},loopDestroy:function C2(){const{$wrapperEl:e,params:t,slides:r}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}};function S2(n){const e=this,t=po(),r=Fi(),s=e.touchEventsData,{params:l,touches:c,enabled:f}=e;if(!f||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let y=n;y.originalEvent&&(y=y.originalEvent);let v=An(y.target);if("wrapper"===l.touchEventsTarget&&!v.closest(e.wrapperEl).length||(s.isTouchEvent="touchstart"===y.type,!s.isTouchEvent&&"which"in y&&3===y.which)||!s.isTouchEvent&&"button"in y&&y.button>0||s.isTouched&&s.isMoved)return;l.noSwipingClass&&""!==l.noSwipingClass&&y.target&&y.target.shadowRoot&&n.path&&n.path[0]&&(v=An(n.path[0]));const E=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`;if(l.noSwiping&&(y.target&&y.target.shadowRoot?function D2(n,e){return void 0===e&&(e=this),function t(r){if(!r||r===po()||r===Fi())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return s||r.getRootNode?s||t(r.getRootNode().host):null}(e)}(E,v[0]):v.closest(E)[0]))return void(e.allowClick=!0);if(l.swipeHandler&&!v.closest(l.swipeHandler)[0])return;c.currentX="touchstart"===y.type?y.targetTouches[0].pageX:y.pageX,c.currentY="touchstart"===y.type?y.targetTouches[0].pageY:y.pageY;const P=c.currentX,O=c.currentY,U=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,N=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(U&&(P<=N||P>=r.innerWidth-N)){if("prevent"!==U)return;n.preventDefault()}if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=P,c.startY=O,s.touchStartTime=Pw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(s.allowThresholdMove=!1),"touchstart"!==y.type){let F=!0;v.is(s.focusableElements)&&(F=!1,"SELECT"===v[0].nodeName&&(s.isTouched=!1)),t.activeElement&&An(t.activeElement).is(s.focusableElements)&&t.activeElement!==v[0]&&t.activeElement.blur();const G=F&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||G)&&!v[0].isContentEditable&&y.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",y)}function x2(n){const e=po(),t=this,r=t.touchEventsData,{params:s,touches:l,rtlTranslate:c,enabled:f}=t;if(!f)return;let y=n;if(y.originalEvent&&(y=y.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",y));if(r.isTouchEvent&&"touchmove"!==y.type)return;const v="touchmove"===y.type&&y.targetTouches&&(y.targetTouches[0]||y.changedTouches[0]),C="touchmove"===y.type?v.pageX:y.pageX,E="touchmove"===y.type?v.pageY:y.pageY;if(y.preventedByNestedSwiper)return l.startX=C,void(l.startY=E);if(!t.allowTouchMove)return An(y.target).is(r.focusableElements)||(t.allowClick=!1),void(r.isTouched&&(Object.assign(l,{startX:C,startY:E,currentX:C,currentY:E}),r.touchStartTime=Pw()));if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(E<l.startY&&t.translate<=t.maxTranslate()||E>l.startY&&t.translate>=t.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(C<l.startX&&t.translate<=t.maxTranslate()||C>l.startX&&t.translate>=t.minTranslate())return;if(r.isTouchEvent&&e.activeElement&&y.target===e.activeElement&&An(y.target).is(r.focusableElements))return r.isMoved=!0,void(t.allowClick=!1);if(r.allowTouchCallbacks&&t.emit("touchMove",y),y.targetTouches&&y.targetTouches.length>1)return;l.currentX=C,l.currentY=E;const A=l.currentX-l.startX,P=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(A**2+P**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let F;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:A*A+P*P>=25&&(F=180*Math.atan2(Math.abs(P),Math.abs(A))/Math.PI,r.isScrolling=t.isHorizontal()?F>s.touchAngle:90-F>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",y),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&y.cancelable&&y.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&y.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&t.loopFix(),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",y)),t.emit("sliderMove",y),r.isMoved=!0;let O=t.isHorizontal()?A:P;l.diff=O,O*=s.touchRatio,c&&(O=-O),t.swipeDirection=O>0?"prev":"next",r.currentTranslate=O+r.startTranslate;let U=!0,N=s.resistanceRatio;if(s.touchReleaseOnEdges&&(N=0),O>0&&r.currentTranslate>t.minTranslate()?(U=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+O)**N)):O<0&&r.currentTranslate<t.maxTranslate()&&(U=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-O)**N)),U&&(y.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0){if(!(Math.abs(O)>s.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,void(l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY)}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function M2(n){const e=this,t=e.touchEventsData,{params:r,touches:s,rtlTranslate:l,slidesGrid:c,enabled:f}=e;if(!f)return;let y=n;if(y.originalEvent&&(y=y.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",y),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&r.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);r.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const v=Pw(),C=v-t.touchStartTime;if(e.allowClick){const G=y.path||y.composedPath&&y.composedPath();e.updateClickedSlide(G&&G[0]||y.target),e.emit("tap click",y),C<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",y)}if(t.lastClickTime=Pw(),fD(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===s.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let E;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,E=r.followFinger?l?e.translate:-e.translate:-t.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:E});let A=0,P=e.slidesSizesGrid[0];for(let G=0;G<c.length;G+=G<r.slidesPerGroupSkip?1:r.slidesPerGroup){const j=G<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof c[G+j]<"u"?E>=c[G]&&E<c[G+j]&&(A=G,P=c[G+j]-c[G]):E>=c[G]&&(A=G,P=c[c.length-1]-c[c.length-2])}let O=null,U=null;r.rewind&&(e.isBeginning?U=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const N=(E-c[A])/P,F=A<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(C>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(N>=r.longSwipesRatio?r.rewind&&e.isEnd?O:A+F:A),"prev"===e.swipeDirection&&(N>1-r.longSwipesRatio?e.slideTo(A+F):null!==U&&N<0&&Math.abs(N)>r.longSwipesRatio?e.slideTo(U):e.slideTo(A))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||y.target!==e.navigation.nextEl&&y.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==O?O:A+F),"prev"===e.swipeDirection&&e.slideTo(null!==U?U:A)):e.slideTo(y.target===e.navigation.nextEl?A+F:A)}}function rP(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:l}=n;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function P2(n){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function O2(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;let s;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const l=n.maxTranslate()-n.minTranslate();s=0===l?0:(n.translate-n.minTranslate())/l,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}let iP=!1;function N2(){}const sP=(n,e)=>{const t=po(),{params:r,touchEvents:s,el:l,wrapperEl:c,device:f,support:y}=n,v=!!r.nested,C="on"===e?"addEventListener":"removeEventListener",E=e;if(y.touch){const A=!("touchstart"!==s.start||!y.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};l[C](s.start,n.onTouchStart,A),l[C](s.move,n.onTouchMove,y.passiveListener?{passive:!1,capture:v}:v),l[C](s.end,n.onTouchEnd,A),s.cancel&&l[C](s.cancel,n.onTouchEnd,A)}else l[C](s.start,n.onTouchStart,!1),t[C](s.move,n.onTouchMove,v),t[C](s.end,n.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&l[C]("click",n.onClick,!0),r.cssMode&&c[C]("scroll",n.onScroll),n[E](r.updateOnWindowResize?f.ios||f.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",rP,!0)},L2={attachEvents:function k2(){const n=this,e=po(),{params:t,support:r}=n;n.onTouchStart=S2.bind(n),n.onTouchMove=x2.bind(n),n.onTouchEnd=M2.bind(n),t.cssMode&&(n.onScroll=O2.bind(n)),n.onClick=P2.bind(n),r.touch&&!iP&&(e.addEventListener("touchstart",N2),iP=!0),sP(n,"on")},detachEvents:function R2(){sP(this,"off")}},oP=(n,e)=>n.grid&&e.grid&&e.grid.rows>1,V2={setBreakpoint:function F2(){const n=this,{activeIndex:e,initialized:t,loopedSlides:r=0,params:s,$el:l}=n,c=s.breakpoints;if(!c||c&&0===Object.keys(c).length)return;const f=n.getBreakpoint(c,n.params.breakpointsBase,n.el);if(!f||n.currentBreakpoint===f)return;const v=(f in c?c[f]:void 0)||n.originalParams,C=oP(n,s),E=oP(n,v),A=s.enabled;C&&!E?(l.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!C&&E&&(l.addClass(`${s.containerModifierClass}grid`),(v.grid.fill&&"column"===v.grid.fill||!v.grid.fill&&"column"===s.grid.fill)&&l.addClass(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(N=>{const F=s[N]&&s[N].enabled,G=v[N]&&v[N].enabled;F&&!G&&n[N].disable(),!F&&G&&n[N].enable()});const P=v.direction&&v.direction!==s.direction,O=s.loop&&(v.slidesPerView!==s.slidesPerView||P);P&&t&&n.changeDirection(),sa(n.params,v);const U=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),A&&!U?n.disable():!A&&U&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",v),O&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-r+n.loopedSlides,0,!1)),n.emit("breakpoint",v)},getBreakpoint:function U2(n,e,t){if(void 0===e&&(e="window"),!n||"container"===e&&!t)return;let r=!1;const s=Fi(),l="window"===e?s.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if("string"==typeof f&&0===f.indexOf("@")){const y=parseFloat(f.substr(1));return{value:l*y,point:f}}return{value:f,point:f}});c.sort((f,y)=>parseInt(f.value,10)-parseInt(y.value,10));for(let f=0;f<c.length;f+=1){const{point:y,value:v}=c[f];"window"===e?s.matchMedia(`(min-width: ${v}px)`).matches&&(r=y):v<=t.clientWidth&&(r=y)}return r||"max"}},j2={addClasses:function $2(){const n=this,{classNames:e,params:t,rtl:r,$el:s,device:l,support:c}=n,f=function B2(n,e){const t=[];return n.forEach(r=>{"object"==typeof r?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):"string"==typeof r&&t.push(e+r)}),t}(["initialized",t.direction,{"pointer-events":!c.touch},{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...f),s.addClass([...e].join(" ")),n.emitContainerClasses()},removeClasses:function Z2(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},z2={loadImage:function H2(n,e,t,r,s,l){const c=Fi();let f;function y(){l&&l()}An(n).parent("picture")[0]||n.complete&&s||!e?y():(f=new c.Image,f.onload=y,f.onerror=y,r&&(f.sizes=r),t&&(f.srcset=t),e&&(f.src=e))},preloadImages:function q2(){const n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(let t=0;t<n.imagesToLoad.length;t+=1){const r=n.imagesToLoad[t];n.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}},aP={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Y2(n,e){return function(r){void 0===r&&(r={});const s=Object.keys(r)[0],l=r[s];"object"==typeof l&&null!==l?(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===n[s]&&(n[s]={auto:!0}),s in n&&"enabled"in l?(!0===n[s]&&(n[s]={enabled:!0}),"object"==typeof n[s]&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),sa(e,r)):sa(e,r)):sa(e,r)}}const yD={eventsEmitter:qL,update:t2,translate:a2,transition:d2,slide:_2,loop:E2,grabCursor:{setGrabCursor:function T2(n){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=n?"grabbing":"grab"},unsetGrabCursor:function I2(){const n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:L2,breakpoints:V2,checkOverflow:{checkOverflow:function G2(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[s]+n.slidesSizesGrid[s]+2*r}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:j2,images:z2},vD={};class Ya{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?t=s[0]:[e,t]=s,t||(t={}),t=sa({},t),e&&!t.el&&(t.el=e),t.el&&An(t.el).length>1){const v=[];return An(t.el).each(C=>{const E=sa({},t,{el:C});v.push(new Ya(E))}),v}const c=this;c.__swiper__=!0,c.support=tP(),c.device=function BL(n){return void 0===n&&(n={}),gD||(gD=function VL(n){let{userAgent:e}=void 0===n?{}:n;const t=tP(),r=Fi(),s=r.navigator.platform,l=e||r.navigator.userAgent,c={ios:!1,android:!1},f=r.screen.width,y=r.screen.height,v=l.match(/(Android);?[\s\/]+([\d.]+)?/);let C=l.match(/(iPad).*OS\s([\d_]+)/);const E=l.match(/(iPod)(.*OS\s([\d_]+))?/),A=!C&&l.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P="Win32"===s;let O="MacIntel"===s;return!C&&O&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${f}x${y}`)>=0&&(C=l.match(/(Version)\/([\d.]+)/),C||(C=[0,1,"13_0_0"]),O=!1),v&&!P&&(c.os="android",c.android=!0),(C||A||E)&&(c.os="ios",c.ios=!0),c}(n)),gD}({userAgent:t.userAgent}),c.browser=function ZL(){return mD||(mD=function $L(){const n=Fi();return{isSafari:function e(){const t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),mD}(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const f={};c.modules.forEach(v=>{v({swiper:c,extendParams:Y2(t,f),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const y=sa({},aP,f);return c.params=sa({},y,vD,t),c.originalParams=sa({},c.params),c.passedParams=sa({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(v=>{c.on(v,c.params.on[v])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),c.$=An,Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:An(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===c.params.direction,isVertical:()=>"vertical"===c.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEvents:function(){const C=["touchstart","touchmove","touchend","touchcancel"],E=["pointerdown","pointermove","pointerup"];return c.touchEventsTouch={start:C[0],move:C[1],end:C[2],cancel:C[3]},c.touchEventsDesktop={start:E[0],move:E[1],end:E[2]},c.support.touch||!c.params.simulateTouch?c.touchEventsTouch:c.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:Pw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),c=(r.maxTranslate()-s)*e+s;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>0===r.indexOf("swiper")||0===r.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>0===r.indexOf("swiper-slide")||0===r.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:l,slidesGrid:c,slidesSizesGrid:f,size:y,activeIndex:v}=this;let C=1;if(s.centeredSlides){let A,E=l[v].swiperSlideSize;for(let P=v+1;P<l.length;P+=1)l[P]&&!A&&(E+=l[P].swiperSlideSize,C+=1,E>y&&(A=!0));for(let P=v-1;P>=0;P-=1)l[P]&&!A&&(E+=l[P].swiperSlideSize,C+=1,E>y&&(A=!0))}else if("current"===e)for(let E=v+1;E<l.length;E+=1)(t?c[E]+f[E]-c[v]<y:c[E]-c[v]<y)&&(C+=1);else for(let E=v-1;E>=0;E-=1)c[v]-c[E]<y&&(C+=1);return C}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function s(){const f=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):(l=e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),l||s()),r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const r=this,s=r.params.direction;return e||(e="horizontal"===s?"vertical":"horizontal"),e===s||"horizontal"!==e&&"vertical"!==e||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(l=>{"vertical"===e?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const r=An(e||t.params.el);if(!(e=r[0]))return!1;e.swiper=t;const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const f=An(e.shadowRoot.querySelector(s()));return f.children=y=>r.children(y),f}return r.children?r.children(s()):An(r).children(s())})();if(0===c.length&&t.params.createElements){const y=po().createElement("div");c=An(y),y.className=t.params.wrapperClass,r.append(y),r.children(`.${t.params.slideClass}`).each(v=>{c.append(v)})}return Object.assign(t,{$el:r,el:e,$wrapperEl:c,wrapperEl:c[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===c.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.slideTo(t.params.loop?t.params.initialSlide+t.loopedSlides:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const r=this,{params:s,$el:l,$wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),l.removeAttr("style"),c.removeAttr("style"),f&&f.length&&f.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(y=>{r.off(y)}),!1!==e&&(r.$el[0].swiper=null,function kL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(r)),r.destroyed=!0),null}static extendDefaults(e){sa(vD,e)}static get extendedDefaults(){return vD}static get defaults(){return aP}static installModule(e){Ya.prototype.__modules__||(Ya.prototype.__modules__=[]);const t=Ya.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ya.installModule(t)),Ya):(Ya.installModule(e),Ya)}}Object.keys(yD).forEach(n=>{Object.keys(yD[n]).forEach(e=>{Ya.prototype[e]=yD[n][e]})}),Ya.use([function jL(n){let{swiper:e,on:t,emit:r}=n;const s=Fi();let l=null,c=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},C=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{e.params.resizeObserver&&typeof s.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(l=new ResizeObserver(E=>{c=s.requestAnimationFrame(()=>{const{width:A,height:P}=e;let O=A,U=P;E.forEach(N=>{let{contentBoxSize:F,contentRect:G,target:j}=N;j&&j!==e.el||(O=G?G.width:(F[0]||F).inlineSize,U=G?G.height:(F[0]||F).blockSize)}),(O!==A||U!==P)&&f()})}),l.observe(e.el)):(s.addEventListener("resize",f),s.addEventListener("orientationchange",C))}),t("destroy",()=>{c&&s.cancelAnimationFrame(c),l&&l.unobserve&&e.el&&(l.unobserve(e.el),l=null),s.removeEventListener("resize",f),s.removeEventListener("orientationchange",C)})},function HL(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const l=[],c=Fi(),f=function(C,E){void 0===E&&(E={});const P=new(c.MutationObserver||c.WebkitMutationObserver)(O=>{if(1===O.length)return void s("observerUpdate",O[0]);const U=function(){s("observerUpdate",O[0])};c.requestAnimationFrame?c.requestAnimationFrame(U):c.setTimeout(U,0)});P.observe(C,{attributes:typeof E.attributes>"u"||E.attributes,childList:typeof E.childList>"u"||E.childList,characterData:typeof E.characterData>"u"||E.characterData}),l.push(P)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",()=>{if(e.params.observer){if(e.params.observeParents){const C=e.$el.parents();for(let E=0;E<C.length;E+=1)f(C[E])}f(e.$el[0],{childList:e.params.observeSlideChildren}),f(e.$wrapperEl[0],{attributes:!1})}}),r("destroy",()=>{l.forEach(C=>{C.disconnect()}),l.splice(0,l.length)})}]);const Zy=Ya;function lP(n,e,t,r){const s=po();return n.params.createElements&&Object.keys(r).forEach(l=>{if(!t[l]&&!0===t.auto){let c=n.$el.children(`.${r[l]}`)[0];c||(c=s.createElement("div"),c.className=r[l],n.$el.append(c)),t[l]=c,e[l]=c}}),t}function jy(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function uP(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const l="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),e.pagination={el:null,$el:null,bullets:[]};let c,f=0;function y(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function v(N,F){const{bulletActiveClass:G}=e.params.pagination;N[F]().addClass(`${G}-${F}`)[F]().addClass(`${G}-${F}-${F}`)}function C(){const N=e.rtl,F=e.params.pagination;if(y())return;const G=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,j=e.pagination.$el;let W;const xe=e.params.loop?Math.ceil((G-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(W=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),W>G-1-2*e.loopedSlides&&(W-=G-2*e.loopedSlides),W>xe-1&&(W-=xe),W<0&&"bullets"!==e.params.paginationType&&(W=xe+W)):W=typeof e.snapIndex<"u"?e.snapIndex:e.activeIndex||0,"bullets"===F.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const ve=e.pagination.bullets;let qe,Oe,bt;if(F.dynamicBullets&&(c=ve.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),j.css(e.isHorizontal()?"width":"height",c*(F.dynamicMainBullets+4)+"px"),F.dynamicMainBullets>1&&void 0!==e.previousIndex&&(f+=W-(e.previousIndex-e.loopedSlides||0),f>F.dynamicMainBullets-1?f=F.dynamicMainBullets-1:f<0&&(f=0)),qe=Math.max(W-f,0),Oe=qe+(Math.min(ve.length,F.dynamicMainBullets)-1),bt=(Oe+qe)/2),ve.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(ze=>`${F.bulletActiveClass}${ze}`).join(" ")),j.length>1)ve.each(ze=>{const de=An(ze),oe=de.index();oe===W&&de.addClass(F.bulletActiveClass),F.dynamicBullets&&(oe>=qe&&oe<=Oe&&de.addClass(`${F.bulletActiveClass}-main`),oe===qe&&v(de,"prev"),oe===Oe&&v(de,"next"))});else{const ze=ve.eq(W),de=ze.index();if(ze.addClass(F.bulletActiveClass),F.dynamicBullets){const oe=ve.eq(qe),Ze=ve.eq(Oe);for(let nt=qe;nt<=Oe;nt+=1)ve.eq(nt).addClass(`${F.bulletActiveClass}-main`);if(e.params.loop)if(de>=ve.length){for(let nt=F.dynamicMainBullets;nt>=0;nt-=1)ve.eq(ve.length-nt).addClass(`${F.bulletActiveClass}-main`);ve.eq(ve.length-F.dynamicMainBullets-1).addClass(`${F.bulletActiveClass}-prev`)}else v(oe,"prev"),v(Ze,"next");else v(oe,"prev"),v(Ze,"next")}}if(F.dynamicBullets){const ze=Math.min(ve.length,F.dynamicMainBullets+4),de=(c*ze-c)/2-bt*c,oe=N?"right":"left";ve.css(e.isHorizontal()?oe:"top",`${de}px`)}}if("fraction"===F.type&&(j.find(jy(F.currentClass)).text(F.formatFractionCurrent(W+1)),j.find(jy(F.totalClass)).text(F.formatFractionTotal(xe))),"progressbar"===F.type){let ve;ve=F.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const qe=(W+1)/xe;let Oe=1,bt=1;"horizontal"===ve?Oe=qe:bt=qe,j.find(jy(F.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${Oe}) scaleY(${bt})`).transition(e.params.speed)}"custom"===F.type&&F.renderCustom?(j.html(F.renderCustom(e,W+1,xe)),s("paginationRender",j[0])):s("paginationUpdate",j[0]),e.params.watchOverflow&&e.enabled&&j[e.isLocked?"addClass":"removeClass"](F.lockClass)}function E(){const N=e.params.pagination;if(y())return;const F=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,G=e.pagination.$el;let j="";if("bullets"===N.type){let W=e.params.loop?Math.ceil((F-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&W>F&&(W=F);for(let xe=0;xe<W;xe+=1)j+=N.renderBullet?N.renderBullet.call(e,xe,N.bulletClass):`<${N.bulletElement} class="${N.bulletClass}"></${N.bulletElement}>`;G.html(j),e.pagination.bullets=G.find(jy(N.bulletClass))}"fraction"===N.type&&(j=N.renderFraction?N.renderFraction.call(e,N.currentClass,N.totalClass):`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`,G.html(j)),"progressbar"===N.type&&(j=N.renderProgressbar?N.renderProgressbar.call(e,N.progressbarFillClass):`<span class="${N.progressbarFillClass}"></span>`,G.html(j)),"custom"!==N.type&&s("paginationRender",e.pagination.$el[0])}function A(){e.params.pagination=lP(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const N=e.params.pagination;if(!N.el)return;let F=An(N.el);0!==F.length&&(e.params.uniqueNavElements&&"string"==typeof N.el&&F.length>1&&(F=e.$el.find(N.el),F.length>1&&(F=F.filter(G=>An(G).parents(".swiper")[0]===e.el))),"bullets"===N.type&&N.clickable&&F.addClass(N.clickableClass),F.addClass(N.modifierClass+N.type),F.addClass(e.isHorizontal()?N.horizontalClass:N.verticalClass),"bullets"===N.type&&N.dynamicBullets&&(F.addClass(`${N.modifierClass}${N.type}-dynamic`),f=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),"progressbar"===N.type&&N.progressbarOpposite&&F.addClass(N.progressbarOppositeClass),N.clickable&&F.on("click",jy(N.bulletClass),function(j){j.preventDefault();let W=An(this).index()*e.params.slidesPerGroup;e.params.loop&&(W+=e.loopedSlides),e.slideTo(W)}),Object.assign(e.pagination,{$el:F,el:F[0]}),e.enabled||F.addClass(N.lockClass))}function P(){const N=e.params.pagination;if(y())return;const F=e.pagination.$el;F.removeClass(N.hiddenClass),F.removeClass(N.modifierClass+N.type),F.removeClass(e.isHorizontal()?N.horizontalClass:N.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(N.bulletActiveClass),N.clickable&&F.off("click",jy(N.bulletClass))}r("init",()=>{!1===e.params.pagination.enabled?U():(A(),E(),C())}),r("activeIndexChange",()=>{(e.params.loop||typeof e.snapIndex>"u")&&C()}),r("snapIndexChange",()=>{e.params.loop||C()}),r("slidesLengthChange",()=>{e.params.loop&&(E(),C())}),r("snapGridLengthChange",()=>{e.params.loop||(E(),C())}),r("destroy",()=>{P()}),r("enable disable",()=>{const{$el:N}=e.pagination;N&&N[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),r("lock unlock",()=>{C()}),r("click",(N,F)=>{const G=F.target,{$el:j}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!An(G).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&G===e.navigation.nextEl||e.navigation.prevEl&&G===e.navigation.prevEl))return;const W=j.hasClass(e.params.pagination.hiddenClass);s(!0===W?"paginationShow":"paginationHide"),j.toggleClass(e.params.pagination.hiddenClass)}});const U=()=>{e.$el.addClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.addClass(e.params.pagination.paginationDisabledClass),P()};Object.assign(e.pagination,{enable:()=>{e.$el.removeClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.removeClass(e.params.pagination.paginationDisabledClass),A(),E(),C()},disable:U,render:E,update:C,init:A,destroy:P})}const Q2=["prevElRef"],J2=["nextElRef"],X2=["scrollbarElRef"],eF=["paginationElRef"];function tF(n,e){1&n&&(i.ynx(0),i._UZ(1,"div",6,7)(3,"div",8,9),i.BQk())}function nF(n,e){1&n&&i._UZ(0,"div",10,11)}function rF(n,e){1&n&&i._UZ(0,"div",12,13)}function iF(n,e){}function sF(n,e){1&n&&i.YNc(0,iF,0,0,"ng-template")}function oF(n,e){}function aF(n,e){1&n&&i.YNc(0,oF,0,0,"ng-template")}function lF(n,e){}function uF(n,e){1&n&&i.YNc(0,lF,0,0,"ng-template")}function cF(n,e){}const cP=function(n){return{$implicit:n}};function dF(n,e){if(1&n&&(i.TgZ(0,"div",3),i.YNc(1,cF,0,0,"ng-template",18),i.qZA()),2&n){const t=i.oxw().$implicit,r=i.oxw(2);i.Q6J("ngClass",r.zoomContainerClass),i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.VKq(3,cP,t.slideData))}}function hF(n,e){}function fF(n,e){if(1&n&&(i.ynx(0),i.YNc(1,hF,0,0,"ng-template",18),i.BQk()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.VKq(2,cP,t.slideData))}}function pF(n,e){if(1&n&&(i.TgZ(0,"div",15),i.YNc(1,dF,2,5,"div",16),i.YNc(2,fF,2,4,"ng-container",17),i.qZA()),2&n){const t=e.$implicit,r=i.oxw().key,s=i.oxw();i.Akn(s.style),i.Q6J("ngClass",(t.class?t.class+" ":"")+s.slideClass+(""!==r?" "+s.slideDuplicateClass:""))("ngSwitch",t.zoom),i.uIk("data-swiper-slide-index",t.virtualIndex?t.virtualIndex:t.slideIndex)("data-swiper-autoplay",t.autoplayDelay),i.xp6(1),i.Q6J("ngSwitchCase",!0)}}function gF(n,e){1&n&&(i.YNc(0,pF,3,7,"div",14),i.ALo(1,"async")),2&n&&i.Q6J("ngForOf",i.lcZ(1,1,e.loopSlides))}const mF=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],yF=function(n){return{loopSlides:n,key:"prepend"}},vF=function(n){return{loopSlides:n,key:""}},_F=function(n){return{loopSlides:n,key:"append"}},wF=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],dP=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function Hy(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function _D(n){return typeof n<"u"&&"boolean"!=typeof n&&!0===n.enabled}function hP(n,e,t){return!0===w1(n)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==t?.nativeElement&&("string"==typeof e.el||"object"==typeof e.el))}function ff(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:n[r]&&!e[r]||(Hy(e[r])&&Hy(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:ff(n[r],e[r]):n[r]=e[r])})}function w1(n){return null!=n&&"false"!=`${n}`}const bF=["pagination","navigation","scrollbar","virtual"];function b1(n,e={}){return Hy(n)?n:!0===w1(n)&&e}function wD(n={}){const e={on:{}},t={};ff(e,Zy.defaults),ff(e,Zy.extendedDefaults),e._emitClasses=!0,e.init=!1;const r={},s=dP.map(l=>l.replace(/_/,""));return Object.keys(n).forEach(l=>{const c=l.replace(/^_/,"");s.indexOf(c)>=0?Hy(n[l])?(e[c]={},t[c]={},ff(e[c],n[l]),ff(t[c],n[l])):(e[c]=n[l],t[c]=n[l]):r[c]=n[l]}),["navigation","pagination","scrollbar"].forEach(l=>{!0===e[l]&&(e[l]={}),!1===e[l]&&delete e[l]}),{params:e,passedParams:t,rest:r}}dP.map(n=>n.replace(/_/,""));let bD=(()=>{class n{constructor(t){this.template=t,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(t){this.class=[this.class||"",t].join(" ")}set zoom(t){this._zoom=w1(t)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(t){this._classNames!==t&&(this._classNames=t,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(t){return t.some(r=>this._classNames.indexOf(r)>=0)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),n})(),fP=(()=>{class n{constructor(t,r,s,l){this._ngZone=t,this.elementRef=r,this._changeDetectorRef=s,this._platformId=l,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new i.vpe,this.s__containerClasses=new i.vpe,this.s__slideClass=new i.vpe,this.s__swiper=new i.vpe,this.s_activeIndexChange=new i.vpe,this.s_afterInit=new i.vpe,this.s_autoplay=new i.vpe,this.s_autoplayStart=new i.vpe,this.s_autoplayStop=new i.vpe,this.s_autoplayPause=new i.vpe,this.s_autoplayResume=new i.vpe,this.s_beforeDestroy=new i.vpe,this.s_beforeInit=new i.vpe,this.s_beforeLoopFix=new i.vpe,this.s_beforeResize=new i.vpe,this.s_beforeSlideChangeStart=new i.vpe,this.s_beforeTransitionStart=new i.vpe,this.s_breakpoint=new i.vpe,this.s_changeDirection=new i.vpe,this.s_click=new i.vpe,this.s_doubleTap=new i.vpe,this.s_doubleClick=new i.vpe,this.s_destroy=new i.vpe,this.s_fromEdge=new i.vpe,this.s_hashChange=new i.vpe,this.s_hashSet=new i.vpe,this.s_imagesReady=new i.vpe,this.s_init=new i.vpe,this.s_keyPress=new i.vpe,this.s_lazyImageLoad=new i.vpe,this.s_lazyImageReady=new i.vpe,this.s_loopFix=new i.vpe,this.s_momentumBounce=new i.vpe,this.s_navigationHide=new i.vpe,this.s_navigationShow=new i.vpe,this.s_navigationPrev=new i.vpe,this.s_navigationNext=new i.vpe,this.s_observerUpdate=new i.vpe,this.s_orientationchange=new i.vpe,this.s_paginationHide=new i.vpe,this.s_paginationRender=new i.vpe,this.s_paginationShow=new i.vpe,this.s_paginationUpdate=new i.vpe,this.s_progress=new i.vpe,this.s_reachBeginning=new i.vpe,this.s_reachEnd=new i.vpe,this.s_realIndexChange=new i.vpe,this.s_resize=new i.vpe,this.s_scroll=new i.vpe,this.s_scrollbarDragEnd=new i.vpe,this.s_scrollbarDragMove=new i.vpe,this.s_scrollbarDragStart=new i.vpe,this.s_setTransition=new i.vpe,this.s_setTranslate=new i.vpe,this.s_slideChange=new i.vpe,this.s_slideChangeTransitionEnd=new i.vpe,this.s_slideChangeTransitionStart=new i.vpe,this.s_slideNextTransitionEnd=new i.vpe,this.s_slideNextTransitionStart=new i.vpe,this.s_slidePrevTransitionEnd=new i.vpe,this.s_slidePrevTransitionStart=new i.vpe,this.s_slideResetTransitionStart=new i.vpe,this.s_slideResetTransitionEnd=new i.vpe,this.s_sliderMove=new i.vpe,this.s_sliderFirstMove=new i.vpe,this.s_slidesLengthChange=new i.vpe,this.s_slidesGridLengthChange=new i.vpe,this.s_snapGridLengthChange=new i.vpe,this.s_snapIndexChange=new i.vpe,this.s_tap=new i.vpe,this.s_toEdge=new i.vpe,this.s_touchEnd=new i.vpe,this.s_touchMove=new i.vpe,this.s_touchMoveOpposite=new i.vpe,this.s_touchStart=new i.vpe,this.s_transitionEnd=new i.vpe,this.s_transitionStart=new i.vpe,this.s_update=new i.vpe,this.s_zoomChange=new i.vpe,this.s_swiper=new i.vpe,this.s_lock=new i.vpe,this.s_unlock=new i.vpe,this._activeSlides=new Ha.x,this.containerClasses="swiper",this.slidesChanges=c=>{this.slides=c.map((f,y)=>(f.slideIndex=y,f.classNames=this.slideClass||"",f)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=lt(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=lt(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=c=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===c.from&&this.currentVirtualData.to===c.to&&this.currentVirtualData.offset===c.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${c.offset}px`}:{top:`${c.offset}px`},this.currentVirtualData=c,this._activeSlides.next(c.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),_D(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(t){var r,s,l;const c="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.nextEl:null,f="boolean"!=typeof this._navigation&&""!==this._navigation?null===(s=this._navigation)||void 0===s?void 0:s.prevEl:null;this._navigation=b1(t,{nextEl:c||null,prevEl:f||null}),this.showNavigation=!(!0!==w1(t)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(l=this._prevElRef)||void 0===l?void 0:l.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(t){var r;const s="boolean"!=typeof this._pagination&&""!==this._pagination?null===(r=this._pagination)||void 0===r?void 0:r.el:null;this._pagination=b1(t,{el:s||null}),this.showPagination=hP(t,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(t){var r;const s="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(r=this._scrollbar)||void 0===r?void 0:r.el:null;this._scrollbar=b1(t,{el:s||null}),this.showScrollbar=hP(t,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(t){this._virtual=b1(t)}get virtual(){return this._virtual}set config(t){this.updateSwiper(t);const{params:r}=wD(t);Object.assign(this,r)}set prevElRef(t){this._prevElRef=t,this._setElement(t,this.navigation,"navigation","prevEl")}set nextElRef(t){this._nextElRef=t,this._setElement(t,this.navigation,"navigation","nextEl")}set scrollbarElRef(t){this._scrollbarElRef=t,this._setElement(t,this.scrollbar,"scrollbar")}set paginationElRef(t){this._paginationElRef=t,this._setElement(t,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:lt(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(t,r,s,l="el"){if(!r||!t)return;if(t.nativeElement){if(r[l]===t.nativeElement)return;r[l]=t.nativeElement}const c={};c[s]=!0,this.updateInitSwiper(c)}ngOnInit(){const{params:t}=wD(this);Object.assign(this,t)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:t}=wD(this);Object.assign(this,t),this._ngZone.runOutsideAngular(()=>{t.init=!1,t.virtual||(t.observer=!0),t.onAny=(y,...v)=>{const C=this["s_"+y];C&&C.emit([...v])},Object.assign(t.on,{_containerClasses:(y,v)=>{setTimeout(()=>{this.containerClasses=v})},_slideClasses:(y,v)=>{v.forEach(({slideEl:C,classNames:E},A)=>{const P=C.getAttribute("data-swiper-slide-index"),O=P?parseInt(P):A;if(this.virtual){const U=this.slides.find(N=>N.virtualIndex&&N.virtualIndex===O);if(U)return void(U.classNames=E)}this.slides[O]&&(this.slides[O].classNames=E)}),this._changeDetectorRef.detectChanges()}});const c=new Zy(t);c.loopCreate=()=>{},c.loopDestroy=()=>{},t.loop&&(c.loopedSlides=this.loopedSlides);const f=_D(c.params.virtual);if(c.virtual&&f){c.virtual.slides=this.slides;const y={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};ff(c.params.virtual,y),ff(c.originalParams.virtual,y)}if(function lc(n){return n===vr}(this._platformId)){this.swiperRef=c.init(this.elementRef.nativeElement);const y=_D(this.swiperRef.params.virtual);this.swiperRef.virtual&&y&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(t){this.updateSwiper(t),this._changeDetectorRef.detectChanges()}updateInitSwiper(t){!t||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:s,navigation:l,scrollbar:c,thumbs:y}=this.swiperRef;t.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&s&&!s.el?(this.updateParameter("pagination",this.pagination),s.init(),s.render(),s.update()):(s.destroy(),s.el=null)),t.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&c&&!c.el?(this.updateParameter("scrollbar",this.scrollbar),c.init(),c.updateSize(),c.setTranslate()):(c.destroy(),c.el=null)),t.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&l&&!l.prevEl&&!l.nextEl?(this.updateParameter("navigation",this.navigation),l.init(),l.update()):l.prevEl&&l.nextEl&&(l.destroy(),l.nextEl=null,l.prevEl=null)),t.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),y.init()&&y.update(!0)),t.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(t){this._ngZone.runOutsideAngular(()=>{var r,s;if(!t.config&&t&&this.swiperRef&&!this.swiperRef.destroyed){for(const l in t){if(bF.indexOf(l)>=0)continue;const c=null!==(s=null===(r=t[l])||void 0===r?void 0:r.currentValue)&&void 0!==s?s:t[l];this.updateParameter(l,c)}t.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),t.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),t.direction&&this.swiperRef.changeDirection(this.direction,!1),t.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(t.thumbs||t.controller)&&this.updateInitSwiper(t),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let t=this.slidesPerView;if(this.breakpoints){const s=Zy.prototype.getBreakpoint(this.breakpoints),l=s in this.breakpoints?this.breakpoints[s]:void 0;l&&l.slidesPerView&&(t=l.slidesPerView)}if("auto"===t)return this.loopedSlides=this.slides.length,this.slides.length;let r=this.loopedSlides||t;return!!r&&(this.loopAdditionalSlides&&(r+=this.loopAdditionalSlides),r>this.slides.length&&(r=this.slides.length),this.loopedSlides=r,!0)}updateParameter(t,r){if(!this.swiperRef||this.swiperRef.destroyed)return;const s=t.replace(/^_/,""),l=Hy(this.swiperRef.params[s]);"enabled"!==s?l&&Hy(r)?ff(this.swiperRef.params[s],r):this.swiperRef.params[s]=r:!0===r?this.swiperRef.enable():!1===r&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var t;null===(t=this.swiperRef)||void 0===t||t.destroy(!0,!1)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.Lbi))},n.\u0275cmp=i.Xpm({type:n,selectors:[["swiper"],["","swiper",""]],contentQueries:function(t,r,s){if(1&t&&i.Suo(s,bD,4),2&t){let l;i.iGM(l=i.CRH())&&(r.slidesEl=l)}},viewQuery:function(t,r){if(1&t&&(i.Gf(Q2,5),i.Gf(J2,5),i.Gf(X2,5),i.Gf(eF,5)),2&t){let s;i.iGM(s=i.CRH())&&(r.prevElRef=s.first),i.iGM(s=i.CRH())&&(r.nextElRef=s.first),i.iGM(s=i.CRH())&&(r.scrollbarElRef=s.first),i.iGM(s=i.CRH())&&(r.paginationElRef=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&i.Tol(r.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[i.TTD],ngContentSelectors:wF,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){if(1&t&&(i.F$t(mF),i.Hsn(0),i.YNc(1,tF,5,0,"ng-container",0),i.YNc(2,nF,2,0,"div",1),i.YNc(3,rF,2,0,"div",2),i.TgZ(4,"div",3),i.Hsn(5,1),i.YNc(6,sF,1,0,null,4),i.YNc(7,aF,1,0,null,4),i.YNc(8,uF,1,0,null,4),i.Hsn(9,2),i.qZA(),i.Hsn(10,3),i.YNc(11,gF,2,3,"ng-template",null,5,i.W1O)),2&t){const s=i.MAs(12);i.xp6(1),i.Q6J("ngIf",r.navigation&&r.showNavigation),i.xp6(1),i.Q6J("ngIf",r.scrollbar&&r.showScrollbar),i.xp6(1),i.Q6J("ngIf",r.pagination&&r.showPagination),i.xp6(1),i.Q6J("ngClass",r.wrapperClass),i.uIk("id",r.id),i.xp6(2),i.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",i.VKq(11,yF,r.prependSlides)),i.xp6(1),i.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",i.VKq(13,vF,r.activeSlides)),i.xp6(1),i.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",i.VKq(15,_F,r.appendSlides))}},dependencies:[Sn,nc,ic,Hr,ha,mi,gf,oc],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[wo]]}),n})();function EF(n,e){if(1&n&&(i.TgZ(0,"p",16)(1,"span",17),i._uU(2),i.ALo(3,"translate"),i.ALo(4,"number"),i.qZA(),i.TgZ(5,"span",18),i._uU(6),i.ALo(7,"translate"),i.qZA()()),2&n){const t=i.oxw(3).$implicit;i.xp6(2),i.AsE("",i.lcZ(3,4,"EGP")," ",i.xi3(4,6,t.price*(100+t.discountPercentage)/100,"1.0-0")," "),i.xp6(4),i.AsE(" ",t.discountPercentage,"% ",i.lcZ(7,9,"OFF"),"")}}function TF(n,e){1&n&&(i.TgZ(0,"div",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Best Seller")," "))}function IF(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",20)(1,"button",21),i._uU(2,"Edit"),i.qZA(),i.TgZ(3,"button",22),i.NdJ("click",function(){i.CHM(t);const s=i.oxw(3).$implicit,l=i.oxw();return i.KtG(l.deleteProduct(s.id))}),i._uU(4,"Delete"),i.qZA()()}if(2&n){const t=i.oxw(3).$implicit;i.xp6(1),i.MGl("routerLink","/Profile/",t.id,"")}}const AF=function(n){return["/productsdetails",n]};function DF(n,e){if(1&n&&(i.TgZ(0,"div",4),i._UZ(1,"img",5),i.TgZ(2,"div",6)(3,"p",7),i._uU(4),i.qZA(),i.TgZ(5,"h5",8)(6,"span"),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._uU(9),i.qZA(),i.YNc(10,EF,8,11,"p",9),i.TgZ(11,"div",10)(12,"p",11),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"p",12),i._UZ(16,"i",13),i._uU(17),i.qZA()()(),i.YNc(18,TF,3,3,"div",14),i.YNc(19,IF,5,1,"div",15),i.qZA()),2&n){const t=i.oxw(2).$implicit,r=i.oxw();i.xp6(1),i.Q6J("routerLink",i.VKq(15,AF,t.id))("src",t.thumbnail,i.LSH)("alt",t.description),i.xp6(3),i.Oqu(t.description),i.xp6(3),i.Oqu(i.lcZ(8,11,"EGP")),i.xp6(2),i.hij(" ",t.price,".00"),i.xp6(1),i.Q6J("ngIf",t.discountPercentage>0),i.xp6(3),i.Oqu(i.lcZ(14,13,"express")),i.xp6(4),i.Oqu(t.rating),i.xp6(1),i.Q6J("ngIf",t.rating>4.8),i.xp6(1),i.Q6J("ngIf",r.sellerCode)}}function SF(n,e){1&n&&i.YNc(0,DF,20,17,"ng-template",3)}function xF(n,e){if(1&n&&(i.ynx(0),i.YNc(1,SF,1,0,null,2),i.BQk()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.stock>0)}}const MF=function(){return{slidesPerView:1,spaceBetween:10}},PF=function(){return{slidesPerView:2,spaceBetween:10}},OF=function(){return{slidesPerView:3,spaceBetween:10}},NF=function(){return{slidesPerView:6,spaceBetween:10}},kF=function(n,e,t,r){return{"@0.00":n,"@0.75":e,"@1.00":t,"@1.50":r}};Zy.use([function K2(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;function l(O){let U;return O&&(U=An(O),e.params.uniqueNavElements&&"string"==typeof O&&U.length>1&&1===e.$el.find(O).length&&(U=e.$el.find(O))),U}function c(O,U){const N=e.params.navigation;O&&O.length>0&&(O[U?"addClass":"removeClass"](N.disabledClass),O[0]&&"BUTTON"===O[0].tagName&&(O[0].disabled=U),e.params.watchOverflow&&e.enabled&&O[e.isLocked?"addClass":"removeClass"](N.lockClass))}function f(){if(e.params.loop)return;const{$nextEl:O,$prevEl:U}=e.navigation;c(U,e.isBeginning&&!e.params.rewind),c(O,e.isEnd&&!e.params.rewind)}function y(O){O.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function v(O){O.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function C(){const O=e.params.navigation;if(e.params.navigation=lP(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!O.nextEl&&!O.prevEl)return;const U=l(O.nextEl),N=l(O.prevEl);U&&U.length>0&&U.on("click",v),N&&N.length>0&&N.on("click",y),Object.assign(e.navigation,{$nextEl:U,nextEl:U&&U[0],$prevEl:N,prevEl:N&&N[0]}),e.enabled||(U&&U.addClass(O.lockClass),N&&N.addClass(O.lockClass))}function E(){const{$nextEl:O,$prevEl:U}=e.navigation;O&&O.length&&(O.off("click",v),O.removeClass(e.params.navigation.disabledClass)),U&&U.length&&(U.off("click",y),U.removeClass(e.params.navigation.disabledClass))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",()=>{!1===e.params.navigation.enabled?P():(C(),f())}),r("toEdge fromEdge lock unlock",()=>{f()}),r("destroy",()=>{E()}),r("enable disable",()=>{const{$nextEl:O,$prevEl:U}=e.navigation;O&&O[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),U&&U[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),r("click",(O,U)=>{const{$nextEl:N,$prevEl:F}=e.navigation,G=U.target;if(e.params.navigation.hideOnClick&&!An(G).is(F)&&!An(G).is(N)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===G||e.pagination.el.contains(G)))return;let j;N?j=N.hasClass(e.params.navigation.hiddenClass):F&&(j=F.hasClass(e.params.navigation.hiddenClass)),s(!0===j?"navigationShow":"navigationHide"),N&&N.toggleClass(e.params.navigation.hiddenClass),F&&F.toggleClass(e.params.navigation.hiddenClass)}});const P=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),E()};Object.assign(e.navigation,{enable:()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),C(),f()},disable:P,update:f,init:C,destroy:E})},uP]);let pP=(()=>{class n{constructor(t){this.fireStore=t,this.products=[]}ngOnInit(){}ngOnChanges(){}deleteProduct(t){confirm("Delete this product ?")&&this.fireStore.deleteproduct(t)}updateProduct(t){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-products-swiper"]],inputs:{products:"products",sellerCode:"sellerCode"},features:[i.TTD],decls:2,vars:14,consts:[[1,"w-100",3,"slidesPerView","spaceBetween","navigation","breakpoints"],[4,"ngFor","ngForOf"],[4,"ngIf"],["swiperSlide",""],[1,"card","border-0","rounded-0","position-relative",2,"width","15rem"],[1,"rounded-0","m-0",2,"width","100%","height","200px","object-fit","fill",3,"routerLink","src","alt"],[1,"card-body","text-center"],[1,"card-title","my-3"],[1,"card-text"],["style","font-size: 12px;",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"yellow-badge","ps-1"],[1,"text-warning","fw-bold",2,"font-size","12px"],[1,"bi","bi-star-fill","text-warning"],["class","best-seller",4,"ngIf"],["class","d-flex justify-content-around pb-2",4,"ngIf"],[2,"font-size","12px"],[2,"text-decoration-line","line-through"],[1,"fw-bolder","ms-2",2,"color","rgb(137, 225, 4)"],[1,"best-seller"],[1,"d-flex","justify-content-around","pb-2"],["routerLinkActive","router-link-active",1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"swiper",0),i.YNc(1,xF,2,1,"ng-container",1),i.qZA()),2&t&&(i.Q6J("slidesPerView",1)("spaceBetween",8)("navigation",!0)("breakpoints",i.l5B(9,kF,i.DdM(5,MF),i.DdM(6,PF),i.DdM(7,OF),i.DdM(8,NF))),i.xp6(1),i.Q6J("ngForOf",r.products))},dependencies:[Hr,Sn,lf,kM,fP,bD,Si,ru],styles:[".card-title[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.yellow-badge[_ngcontent-%COMP%]{border:1px solid yellow;border-radius:50px 3px 30px 50px;width:60px;height:20px;font-size:12px;font-weight:700;color:#3f3f3f;background-color:#ff0}.best-seller[_ngcontent-%COMP%]{width:70px;height:20px;font-size:11px;border-radius:0 20px 10px 0;color:#ffff00f3;position:absolute;top:-18px;font-weight:700;background-color:#191818}.swiper[_ngcontent-%COMP%]   .swiper-button-prev[_ngcontent-%COMP%]{color:#706d6d!important;background-color:#000!important}.swiper[_ngcontent-%COMP%]   .swiper-button-next[_ngcontent-%COMP%]{color:#e20b0b!important}"]}),n})();function RF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"title is required")))}function LF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"title must be string")))}function FF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"description is required")))}function UF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"description must be string")))}function VF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Description must be at least 20 letters"),""))}function BF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Stock is required")))}function $F(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("",i.lcZ(2,1,"Stock Must be Positive Number")," "))}function ZF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Rating is required")))}function jF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij("",i.lcZ(2,1,"Rating Must be Positive Number")," "))}function HF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Rating Must not exceed 9")))}function qF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"price is required")))}function zF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"price must be Positive")))}function GF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Discount Percentage is required")))}function WF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Discount Percentage must be Positive")))}function YF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Discount Percentage must not exceed 60")))}function KF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"brand is required")))}function QF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Brand must be String")))}function JF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Category is required")))}function XF(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Category must be String")))}function eU(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Thumbnail is required")))}function tU(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Enter Valid URL")))}function nU(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(t);const s=i.oxw(2);return i.KtG(s.addImage())}),i._uU(1," + "),i.qZA()}}function rU(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",33),i.NdJ("click",function(){i.CHM(t);const s=i.oxw(2);return i.KtG(s.removeImg())}),i._uU(1," - "),i.qZA()}}function iU(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"You must enter Valid Url")))}function sU(n,e){if(1&n&&(i.TgZ(0,"div",3)(1,"label",27),i._uU(2),i.ALo(3,"translate"),i.ALo(4,"translate"),i.qZA(),i._UZ(5,"input",28),i.TgZ(6,"div",29),i.YNc(7,nU,2,0,"button",30),i.YNc(8,rU,2,0,"button",31),i.qZA(),i.TgZ(9,"div",6),i.YNc(10,iU,3,3,"span",7),i.qZA()()),2&n){const t=e.$implicit,r=e.index,s=i.oxw();i.xp6(1),i.MGl("for","images",r+1,""),i.xp6(1),i.lnq("",i.lcZ(3,16,"Images"),"",r+1," ",i.lcZ(4,18,"URL"),""),i.xp6(3),i.ekj("is-valid",s.images.controls[r].valid)("is-invalid",s.images.controls[r].invalid),i.MGl("name","images",r+1,"")("id","images",r+1,""),i.Q6J("formControlName",r)("pattern",s.linkPattern),i.xp6(2),i.Q6J("ngIf",t.value&&r==s.images.controls.length-1),i.xp6(1),i.Q6J("ngIf",t.value&&r==s.images.controls.length-2),i.xp6(1),i.Q6J("hidden",s.images.controls[r].valid||s.images.untouched),i.xp6(1),i.Q6J("ngIf",s.images.controls[r].invalid)}}let oU=(()=>{class n{constructor(t,r,s){this.router=t,this.fb=r,this.fireStore=s,this.pId="",this.update=!1,this.linkPattern=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{10,256}/,this.stringPattern=/^[A-Za-z]+[A-Za-z0-9@:%._\+~#= ]+$/,this.usrFormGroup=this.fb.group({title:["",nn.required],description:["",[nn.required,nn.minLength(20)]],images:this.fb.array([r.control("",nn.required)]),stock:["",[nn.required,nn.min(1)]],brand:["",nn.required],rating:["",[nn.required,nn.min(1),nn.max(9)]],price:["",[nn.required,nn.min(1)]],discountPercentage:["",[nn.required,nn.min(1),nn.max(60)]],thumbnail:["",nn.required],category:["",nn.required]})}get title(){return this.usrFormGroup.get("title")}get description(){return this.usrFormGroup.get("description")}get images(){return this.usrFormGroup.get("images")}get stock(){return this.usrFormGroup.get("stock")}get rating(){return this.usrFormGroup.get("rating")}get price(){return this.usrFormGroup.get("price")}get discountPercentage(){return this.usrFormGroup.get("discountPercentage")}get brand(){return this.usrFormGroup.get("brand")}get thumbnail(){return this.usrFormGroup.get("thumbnail")}get category(){return this.usrFormGroup.get("category")}addImage(){this.images.push(this.fb.control("",nn.required))}removeImg(){this.images.removeAt(-1)}addProduct(t){this.update?(this.product={sellerCode:this.sellerCode,...this.usrFormGroup.value},this.fireStore.updateproduct(this.pId,this.product),alert(`${this.product.title} is updated`),this.router.navigate(["/Profile"])):(this.product={sellerCode:this.sellerCode,...this.usrFormGroup.value},this.fireStore.addproductToPending(this.product),alert(`${this.product.title} is added`),this.usrFormGroup.reset())}ngOnInit(){}ngOnChanges(){if(this.product.images){console.log("again"),this.title?.setValue(this.product.title),this.description?.setValue(this.product.description),this.stock?.setValue(this.product.stock),this.brand?.setValue(this.product.brand),this.rating?.setValue(this.product.rating),this.price?.setValue(this.product.price),this.discountPercentage?.setValue(this.product.discountPercentage),this.thumbnail?.setValue(this.product.thumbnail),this.category?.setValue(this.product.category),this.images.at(0).setValue(this.product.images[0]);for(let t=1;t<this.product.images.length;t++)this.images.push(this.fb.control(this.product.images[t],nn.required));this.pId=this.product.id,this.product={}}}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(sr),i.Y36(GE),i.Y36(Ga))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-add-product"]],inputs:{product:"product",sellerCode:"sellerCode",update:"update"},features:[i.TTD],decls:92,vars:101,consts:[[1,"m-2","w-75","border-1","m-auto","p-4","mt-3",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","usrName",1,"form-label"],["type","text","name","title","id","title","formControlName","title","placeholder","Enter Product Title",1,"form-control"],[1,"alert","alert-warning",3,"hidden"],[4,"ngIf"],["for","description",1,"form-label"],["type","text","name","description","id","description","formControlName","description","placeholder","Enter Product description here",1,"form-control"],["for","stock",1,"form-label"],["type","number","name","stock","id","stock","formControlName","stock","placeholder","Enter Number",1,"form-control"],["for","rating",1,"form-label"],["type","number","name","rating","id","rating","formControlName","rating","placeholder","Enter Number",1,"form-control"],["for","price",1,"form-label"],["type","number","name","price","id","price","formControlName","price","placeholder","Enter Number",1,"form-control"],["for","discountPercentage",1,"form-label"],["type","number","name","discountPercentage","id","discountPercentage","formControlName","discountPercentage","placeholder","Enter Number",1,"form-control"],["for","brand",1,"form-label"],["type","text","name","brand","id","brand","formControlName","brand","placeholder","Enter Product Brand",1,"form-control",3,"pattern"],["for","category",1,"form-label"],["type","text","name","category","id","category","formControlName","category","placeholder","Enter Product Category",1,"form-control"],["for","thumbnail",1,"form-label"],["type","text","name","thumbnail","id","thumbnail","formControlName","thumbnail","placeholder","Enter thumbnail Url",1,"form-control",3,"pattern"],["formArrayName","images"],["class","mb-3",4,"ngFor","ngForOf"],["type","submit",1,"btn",3,"disabled"],[1,"form-label",3,"for"],["type","text","placeholder","Enter image URL",1,"form-control",3,"name","id","formControlName","pattern"],[1,"d-flex","justify-content-between","mt-3","mb-3"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(l){return r.addProduct(l)}),i.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),i._uU(5),i.ALo(6,"translate"),i.qZA(),i._UZ(7,"input",5),i.TgZ(8,"div",6),i.YNc(9,RF,3,3,"span",7),i.YNc(10,LF,3,3,"span",7),i.qZA()()(),i.TgZ(11,"div",2)(12,"div",3)(13,"label",8),i._uU(14),i.ALo(15,"translate"),i.qZA(),i._UZ(16,"input",9),i.TgZ(17,"div",6),i.YNc(18,FF,3,3,"span",7),i.YNc(19,UF,3,3,"span",7),i.YNc(20,VF,3,3,"span",7),i.qZA()()(),i.TgZ(21,"div",2)(22,"div",3)(23,"label",10),i._uU(24),i.ALo(25,"translate"),i.qZA(),i._UZ(26,"input",11),i.TgZ(27,"div",6),i.YNc(28,BF,3,3,"span",7),i.YNc(29,$F,3,3,"span",7),i.qZA()()(),i.TgZ(30,"div",2)(31,"div",3)(32,"label",12),i._uU(33),i.ALo(34,"translate"),i.qZA(),i._UZ(35,"input",13),i.TgZ(36,"div",6),i.YNc(37,ZF,3,3,"span",7),i.YNc(38,jF,3,3,"span",7),i.YNc(39,HF,3,3,"span",7),i.qZA()()(),i.TgZ(40,"div",2)(41,"div",3)(42,"label",14),i._uU(43),i.ALo(44,"translate"),i.qZA(),i._UZ(45,"input",15),i.TgZ(46,"div",6),i.YNc(47,qF,3,3,"span",7),i.YNc(48,zF,3,3,"span",7),i.qZA()()(),i.TgZ(49,"div",2)(50,"div",3)(51,"label",16),i._uU(52),i.ALo(53,"translate"),i.qZA(),i._UZ(54,"input",17),i.TgZ(55,"div",6),i.YNc(56,GF,3,3,"span",7),i.YNc(57,WF,3,3,"span",7),i.YNc(58,YF,3,3,"span",7),i.qZA()()(),i.TgZ(59,"div",2)(60,"div",3)(61,"label",18),i._uU(62),i.ALo(63,"translate"),i.qZA(),i._UZ(64,"input",19),i.TgZ(65,"div",6),i.YNc(66,KF,3,3,"span",7),i.YNc(67,QF,3,3,"span",7),i.qZA()()(),i.TgZ(68,"div",2)(69,"div",3)(70,"label",20),i._uU(71),i.ALo(72,"translate"),i.qZA(),i._UZ(73,"input",21),i.TgZ(74,"div",6),i.YNc(75,JF,3,3,"span",7),i.YNc(76,XF,3,3,"span",7),i.qZA()()(),i.TgZ(77,"div",2)(78,"div",3)(79,"label",22),i._uU(80),i.ALo(81,"translate"),i.qZA(),i._UZ(82,"input",23),i.TgZ(83,"div",6),i.YNc(84,eU,3,3,"span",7),i.YNc(85,tU,3,3,"span",7),i.qZA()()(),i.TgZ(86,"div",2)(87,"div",24),i.YNc(88,sU,11,20,"div",25),i.qZA()()(),i.TgZ(89,"button",26),i._uU(90),i.ALo(91,"translate"),i.qZA()()),2&t&&(i.Q6J("formGroup",r.usrFormGroup),i.xp6(5),i.Oqu(i.lcZ(6,81,"Title")),i.xp6(2),i.ekj("is-valid",null==r.title?null:r.title.valid)("is-invalid",null==r.title?null:r.title.invalid),i.xp6(1),i.Q6J("hidden",(null==r.title?null:r.title.valid)||(null==r.title?null:r.title.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.title||null==r.title.errors?null:r.title.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.title||null==r.title.errors?null:r.title.errors.pattern),i.xp6(4),i.Oqu(i.lcZ(15,83,"Description")),i.xp6(2),i.ekj("is-valid",null==r.description?null:r.description.valid)("is-invalid",null==r.description?null:r.description.invalid),i.xp6(1),i.Q6J("hidden",(null==r.description?null:r.description.valid)||(null==r.description?null:r.description.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.description||null==r.description.errors?null:r.description.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.description||null==r.description.errors?null:r.description.errors.pattern),i.xp6(1),i.Q6J("ngIf",null==r.description||null==r.description.errors?null:r.description.errors.minlength),i.xp6(4),i.Oqu(i.lcZ(25,85,"Stock")),i.xp6(2),i.ekj("is-valid",null==r.stock?null:r.stock.valid)("is-invalid",null==r.stock?null:r.stock.invalid),i.xp6(1),i.Q6J("hidden",(null==r.stock?null:r.stock.valid)||(null==r.stock?null:r.stock.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.stock||null==r.stock.errors?null:r.stock.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.stock||null==r.stock.errors?null:r.stock.errors.min),i.xp6(4),i.Oqu(i.lcZ(34,87,"Rating")),i.xp6(2),i.ekj("is-valid",null==r.rating?null:r.rating.valid)("is-invalid",null==r.rating?null:r.rating.invalid),i.xp6(1),i.Q6J("hidden",(null==r.rating?null:r.rating.valid)||(null==r.rating?null:r.rating.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.rating||null==r.rating.errors?null:r.rating.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.rating||null==r.rating.errors?null:r.rating.errors.min),i.xp6(1),i.Q6J("ngIf",null==r.rating||null==r.rating.errors?null:r.rating.errors.max),i.xp6(4),i.Oqu(i.lcZ(44,89,"Price")),i.xp6(2),i.ekj("is-valid",null==r.price?null:r.price.valid)("is-invalid",null==r.price?null:r.price.invalid),i.xp6(1),i.Q6J("hidden",(null==r.price?null:r.price.valid)||(null==r.price?null:r.price.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.price||null==r.price.errors?null:r.price.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.price||null==r.price.errors?null:r.price.errors.min),i.xp6(4),i.Oqu(i.lcZ(53,91,"Discount Percentage")),i.xp6(2),i.ekj("is-valid",null==r.discountPercentage?null:r.discountPercentage.valid)("is-invalid",null==r.discountPercentage?null:r.discountPercentage.invalid),i.xp6(1),i.Q6J("hidden",(null==r.discountPercentage?null:r.discountPercentage.valid)||(null==r.discountPercentage?null:r.discountPercentage.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.discountPercentage||null==r.discountPercentage.errors?null:r.discountPercentage.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.discountPercentage||null==r.discountPercentage.errors?null:r.discountPercentage.errors.min),i.xp6(1),i.Q6J("ngIf",null==r.discountPercentage||null==r.discountPercentage.errors?null:r.discountPercentage.errors.max),i.xp6(4),i.Oqu(i.lcZ(63,93,"Brand")),i.xp6(2),i.ekj("is-valid",null==r.brand?null:r.brand.valid)("is-invalid",null==r.brand?null:r.brand.invalid),i.Q6J("pattern",r.stringPattern),i.xp6(1),i.Q6J("hidden",(null==r.brand?null:r.brand.valid)||(null==r.brand?null:r.brand.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.brand||null==r.brand.errors?null:r.brand.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.brand||null==r.brand.errors?null:r.brand.errors.pattern),i.xp6(4),i.Oqu(i.lcZ(72,95,"Category")),i.xp6(2),i.ekj("is-valid",null==r.category?null:r.category.valid)("is-invalid",null==r.category?null:r.category.invalid),i.xp6(1),i.Q6J("hidden",(null==r.category?null:r.category.valid)||(null==r.category?null:r.category.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.category||null==r.category.errors?null:r.category.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.category||null==r.category.errors?null:r.category.errors.pattern),i.xp6(4),i.Oqu(i.lcZ(81,97,"thumbnail URl")),i.xp6(2),i.ekj("is-valid",null==r.thumbnail?null:r.thumbnail.valid)("is-invalid",null==r.thumbnail?null:r.thumbnail.invalid),i.Q6J("pattern",r.linkPattern),i.xp6(1),i.Q6J("hidden",(null==r.thumbnail?null:r.thumbnail.valid)||(null==r.thumbnail?null:r.thumbnail.untouched)),i.xp6(1),i.Q6J("ngIf",null==r.thumbnail||null==r.thumbnail.errors?null:r.thumbnail.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.thumbnail||null==r.thumbnail.errors?null:r.thumbnail.errors.pattern),i.xp6(3),i.Q6J("ngForOf",r.images.controls),i.xp6(1),i.Q6J("disabled",r.usrFormGroup.invalid),i.xp6(1),i.Oqu(i.lcZ(91,99,"Save")))},dependencies:[Hr,Sn,gw,Yp,AA,lw,uw,Ly,Kp,Ry,zE,ru],styles:[".is-invalid[_ngcontent-%COMP%]{border-left:5px solid #F00}.is-valid[_ngcontent-%COMP%]{border-left:5px solid #080}form[_ngcontent-%COMP%]{border:1px solid #e8e8e8;box-shadow:0 0 15px #feee00;border-radius:10px;background-color:#fff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#feee00;color:#000}"]}),n})(),gP=(()=>{class n{constructor(t,r){this.fireStore=t,this.router=r,this.user={},this.email=localStorage.getItem("email"),this.fireStore.getUsers().subscribe(s=>{let l=[];for(let c of s)l.push({id:c.payload.doc.id,...c.payload.doc.data()});this.user=l.find(c=>c.email==this.email)})}ngOnInit(){}openUpdateForm(){this.router.navigate(["/updateUser"])}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga),i.Y36(sr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-user-profile"]],decls:26,vars:5,consts:[[1,"profile","w-100"],[1,"info"],[1,"container-fluid"],[1,"row"],[1,"editProfile",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"col-md-6"],[1,"imgCon"],[1,"img",3,"src"],[1,"d-flex","flex-column","h-100","justify-content-center","infoContent"],[1,"mb-2"],[1,"tab"],[1,"fa","fa-envelope"],[1,"fa","fa-map-marker"],[1,"fa","fa-phone"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i.NdJ("click",function(){return r.openUpdateForm()}),i.TgZ(5,"p"),i._UZ(6,"i",5),i.qZA()(),i.TgZ(7,"div",6)(8,"div",7),i._UZ(9,"img",8),i.qZA()(),i.TgZ(10,"div",6)(11,"div",9)(12,"h2",10),i._uU(13),i.qZA(),i.TgZ(14,"div",11),i._UZ(15,"i",12),i.TgZ(16,"span"),i._uU(17),i.qZA()(),i.TgZ(18,"div",11),i._UZ(19,"i",13),i.TgZ(20,"span"),i._uU(21),i.qZA()(),i.TgZ(22,"div",11),i._UZ(23,"i",14),i.TgZ(24,"span"),i._uU(25),i.qZA()()()()()()()()),2&t&&(i.xp6(9),i.Q6J("src",r.user.image,i.LSH),i.xp6(4),i.hij("Hi, ",r.user.fullName,""),i.xp6(4),i.Oqu(r.user.email),i.xp6(4),i.Oqu(r.user.address),i.xp6(4),i.Oqu(r.user.mobile))},styles:[".profile[_ngcontent-%COMP%]{border-top:1px solid rgb(64,69,83)}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:50px 0;position:relative;background-image:linear-gradient(rgb(254,238,0),rgb(255,254,156))}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .imgCon[_ngcontent-%COMP%]{border:10px solid rgb(203,201,100);border-radius:50%;width:200px;height:200px;margin:30px auto 20px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .imgCon[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-image:url(avatar.c9fe5a8da26803fc.jpg);width:100%;height:100%;border-radius:50%;overflow:hidden}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]{position:absolute;top:5px;width:-moz-fit-content;width:fit-content;cursor:pointer;right:5px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{box-shadow:0 0 10px #000;border:1px solid rgb(153,154,158);background-color:#fff;border-radius:50%;transition:all .5s ease-in-out;width:40px;height:40px;padding:9px;display:flex;justify-content:center;align-items:center;box-sizing:border-box;margin:10px 10px 0 0}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#404553;color:#feee00}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .infoContent[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#404553}@media (max-width: 768px){.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .infoContent[_ngcontent-%COMP%]{align-items:center}}.tab[_ngcontent-%COMP%]{padding:10px 15px;background-color:#fff;width:270px;margin-bottom:10px;border-radius:15px;transition:all .5s ease-in-out}.tab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}.tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.tab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),n})();function aU(n,e){if(1&n&&(i.TgZ(0,"div"),i._UZ(1,"app-add-product",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("product",t.product)("sellerCode",t.sellerCode)("update",t.update)}}function lU(n,e){if(1&n&&(i.TgZ(0,"div",12),i._UZ(1,"app-products-swiper",13),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("products",t.sellerProducts)("sellerCode",t.sellerCode)}}function uU(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._UZ(3,"app-user-profile"),i.TgZ(4,"div",5)(5,"button",6),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.addingFunction())}),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"button",7),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.showFunction())}),i._uU(9),i.ALo(10,"translate"),i.qZA()()()(),i.TgZ(11,"div",8),i.YNc(12,aU,2,3,"div",9),i.YNc(13,lU,2,2,"div",10),i.qZA()()}if(2&n){const t=i.oxw();i.xp6(6),i.Oqu(i.lcZ(7,4,"Add Product")),i.xp6(3),i.Oqu(i.lcZ(10,6,"Show Products")),i.xp6(3),i.Q6J("ngIf",t.adding),i.xp6(1),i.Q6J("ngIf",!t.adding)}}function cU(n,e){1&n&&(i.TgZ(0,"div",14)(1,"h2"),i._uU(2," OPPSS!! You must be seller to access this page...."),i.qZA()())}let mP=(()=>{class n{constructor(t,r,s,l){this._ProductsService=t,this.fireStore=r,this.activatedRoute=s,this.router=l,this.update=!1,this.product={},this.sellerProducts=[],this.sellerCode=localStorage.getItem("sellerCode"),this.adding=!0}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.IdRecived=t.get("pId"),this.IdRecived&&this.fireStore.getProductById(this.IdRecived).subscribe(r=>{this.product={id:r.payload.id,...r.payload.data()},this.update=!0,console.log(this.product)})})}ngAfterContentChecked(){this.sellerProducts=this._ProductsService.getProductsBySellerCode(this.sellerCode)}addingFunction(){this.adding=!0,this.router.navigate(["/Profile"])}showFunction(){this.adding=!1}openUpdateForm(){this.router.navigate(["/updateUser"])}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(y1),i.Y36(Ga),i.Y36(Pd),i.Y36(sr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:2,consts:[["class","profile w-100",4,"ngIf"],["class","w-100  vh-100 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"profile","w-100"],[1,"info"],[1,"container-fluid"],[1,"buttons","m-auto"],[1,"btn","me-2",3,"click"],[1,"btn",3,"click"],[1,"userData","w-100"],[4,"ngIf"],["class","w-100 my-5",4,"ngIf"],[3,"product","sellerCode","update"],[1,"w-100","my-5"],[3,"products","sellerCode"],[1,"w-100","vh-100","d-flex","justify-content-center","align-items-center"]],template:function(t,r){1&t&&(i.YNc(0,uU,14,8,"div",0),i.YNc(1,cU,3,0,"div",1)),2&t&&(i.Q6J("ngIf",r.sellerCode),i.xp6(1),i.Q6J("ngIf",!r.sellerCode))},dependencies:[Sn,pP,oU,gP,ru],styles:[".profile[_ngcontent-%COMP%]{border-top:1px solid rgb(64,69,83)}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:50px 0;position:relative;background-image:linear-gradient(rgb(254,238,0),rgb(255,254,156))}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .imgCon[_ngcontent-%COMP%]{border:10px solid rgb(203,201,100);border-radius:50%;width:200px;height:200px;margin:30px auto 20px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .imgCon[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-image:url(avatar.c9fe5a8da26803fc.jpg);width:100%;height:100%;border-radius:50%;overflow:hidden}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]{position:absolute;top:5px;width:-moz-fit-content;width:fit-content;cursor:pointer;right:5px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{box-shadow:0 0 10px #000;border:1px solid rgb(153,154,158);background-color:#fff;border-radius:50%;transition:all .5s ease-in-out;width:40px;height:40px;padding:9px;display:flex;justify-content:center;align-items:center;box-sizing:border-box;margin:10px 10px 0 0}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .editProfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#404553;color:#feee00}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .infoContent[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#404553}@media (max-width: 768px){.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .infoContent[_ngcontent-%COMP%]{align-items:center}}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:20px;text-align:center;padding:20px}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:18px;font-weight:700;transition:all .5s ease-in-out}.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#404553}.profile[_ngcontent-%COMP%]   .userData[_ngcontent-%COMP%]{background-image:linear-gradient(rgb(255,254,156),rgb(247,247,250));padding:50px 0}"]}),n})(),dU=(()=>{class n{constructor(t){this.translate=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(df))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-carousel-component"]],decls:31,vars:6,consts:[["id","carouselExampleIndicators","data-bs-ride","true",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","5","aria-label","Slide 6"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://k.nooncdn.com/cms/pages/20220706/03cb8d90d9a93a3d2c6fdbe9f5aefe63/en_dk_eg-hero-banner-01.png","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","https://k.nooncdn.com/cms/pages/20220706/3354f3840c51d8808c8bf89bc15d9944/en_dk_eg-hero-banner-01.gif","alt","...",1,"d-block","w-100"],["src","https://k.nooncdn.com/cms/pages/20220708/10734f46cda324994b8f6cb7a3b2c4bf/en_dk_eg-hero-banner-01.png","alt","...",1,"d-block","w-100"],["src","https://k.nooncdn.com/cms/pages/20220707/b4acf1d45e17ea8176c036548ac2c7a5/en_dk_eg-banner-01.png","alt","...",1,"d-block","w-100"],["src","https://k.nooncdn.com/cms/pages/20220629/d701425c350b35edee26c432db9a5113/en_dk_eg-hero-banner-01.png","alt","...",1,"d-block","w-100"],["src","https://k.nooncdn.com/cms/pages/20220629/b18bb213c1f15a43e18c94e5fba66321/en_dk_eg-hero-banner-01.gif","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"button",2)(3,"button",3)(4,"button",4)(5,"button",5)(6,"button",6)(7,"button",7),i.qZA(),i.TgZ(8,"div",8)(9,"div",9),i._UZ(10,"img",10),i.qZA(),i.TgZ(11,"div",11),i._UZ(12,"img",12),i.qZA(),i.TgZ(13,"div",11),i._UZ(14,"img",13),i.qZA(),i.TgZ(15,"div",11),i._UZ(16,"img",14),i.qZA(),i.TgZ(17,"div",11),i._UZ(18,"img",15),i.qZA(),i.TgZ(19,"div",11),i._UZ(20,"img",16),i.qZA()(),i.TgZ(21,"button",17),i._UZ(22,"span",18),i.TgZ(23,"span",19),i._uU(24),i.ALo(25,"translate"),i.qZA()(),i.TgZ(26,"button",20),i._UZ(27,"span",21),i.TgZ(28,"span",19),i._uU(29),i.ALo(30,"translate"),i.qZA()()()),2&t&&(i.xp6(24),i.Oqu(i.lcZ(25,2,"Previous")),i.xp6(5),i.Oqu(i.lcZ(30,4,"Next")))},dependencies:[ru]}),n})();function hU(n,e){if(1&n&&(i.TgZ(0,"a"),i._UZ(1,"img",3),i.qZA()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.s9C("name",t.category),i.Q6J("src",t.src,i.LSH)}}function fU(n,e){1&n&&i.YNc(0,hU,2,2,"ng-template",2)}const pU=function(){return{clickable:!0}},gU=function(){return{slidesPerView:2,spaceBetween:10}},mU=function(){return{slidesPerView:3,spaceBetween:10}},yU=function(){return{slidesPerView:4,spaceBetween:10}},vU=function(){return{slidesPerView:6,spaceBetween:10}},_U=function(){return{slidesPerView:9,spaceBetween:10}},wU=function(n,e,t,r,s){return{"@0.00":n,"@0.75":e,"@1.00":t,"@1.25":r,"@1.50":s}};Zy.use([uP]);let bU=(()=>{class n{constructor(){this.images=[],this.images=[{category:"fashion",src:"./../../../assets/carousel2/1.png"},{category:"summer",src:"./../../../assets/carousel2/2.png"},{category:"beauty",src:"./../../../assets/carousel2/3.png"},{category:"clearance",src:"./../../../assets/carousel2/5.png"},{category:"beauty",src:"./../../../assets/carousel2/6.png"},{category:"home",src:"./../../../assets/carousel2/7.png"},{category:"fashion",src:"./../../../assets/carousel2/8.png"},{category:"fashion",src:"./../../../assets/carousel2/9.png"},{category:"mobiles",src:"./../../../assets/carousel2/10.png"},{category:"wearables",src:"./../../../assets/carousel2/11.png"},{category:"fragrances",src:"./../../../assets/carousel2/12.png"},{category:"TVs",src:"./../../../assets/carousel2/13.png"},{category:"electronics",src:"./../../../assets/carousel2/14.png"},{category:"grocery",src:"./../../../assets/carousel2/15.png"},{category:"health",src:"./../../../assets/carousel2/16.png"},{category:"headphones",src:"./../../../assets/carousel2/17.png"},{category:"laptops",src:"./../../../assets/carousel2/18.png"},{category:"sports",src:"./../../../assets/carousel2/19.png"},{category:"fragrances",src:"./../../../assets/carousel2/20.png"},{category:"appliances",src:"./../../../assets/carousel2/21.png"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-frist-swiper"]],decls:2,vars:17,consts:[[1,"mySwiper",3,"slidesPerView","spaceBetween","pagination","breakpoints"],[4,"ngFor","ngForOf"],["swiperSlide",""],["swiperSlide","","alt","...",3,"src","name"]],template:function(t,r){1&t&&(i.TgZ(0,"swiper",0),i.YNc(1,fU,1,0,null,1),i.qZA()),2&t&&(i.Q6J("slidesPerView",1)("spaceBetween",10)("pagination",i.DdM(5,pU))("breakpoints",i.qbA(11,wU,i.DdM(6,gU),i.DdM(7,mU),i.DdM(8,yU),i.DdM(9,vU),i.DdM(10,_U))),i.xp6(1),i.Q6J("ngForOf",r.images))},dependencies:[Hr,fP,bD],styles:['@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size) / 2);z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-feature-settings:;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}.swiper{width:100%;height:100%;padding:20px}.swiper-slide{text-align:center;background:#fff;display:flex;justify-content:center;align-items:center}.swiper-slide img{display:block;width:100px;height:100%;object-fit:cover;margin-left:10px;margin-bottom:10px}.append-buttons{text-align:center;margin-top:20px}.append-buttons button{display:inline-block;cursor:pointer;border:1px solid #007aff;color:#007aff;text-decoration:none;padding:4px 10px;border-radius:4px;margin:0 10px;font-size:13px}\n'],encapsulation:2}),n})(),CU=(()=>{class n{constructor(t,r,s){this.fireStore=t,this._ProductsService=r,this.translate=s,this.product={id:1,title:"iPhone 9",description:"An apple mobile which is nothing like apple",price:549,discountPercentage:12.96,sellerCode:3,rating:4.69,stock:94,brand:"Apple",category:"smartphones",thumbnail:"https://dummyjson.com/image/i/products/1/thumbnail.jpg",images:["https://dummyjson.com/image/i/products/1/1.jpg","https://dummyjson.com/image/i/products/1/2.jpg","https://dummyjson.com/image/i/products/1/3.jpg","https://dummyjson.com/image/i/products/1/4.jpg","https://dummyjson.com/image/i/products/1/thumbnail.jpg"]},this.bestSeller=[],this.allProducts=[]}ngOnInit(){}ngAfterContentChecked(){this.allProducts=this._ProductsService.getProductsByCategorey("all"),this.bestSeller=this.allProducts.filter(t=>t.rating>4.5)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ga),i.Y36(y1),i.Y36(df))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-home"]],decls:42,vars:8,consts:[[1,"ad"],["src","./../../../assets/ad.png","alt","...",1,"d-block","w-100"],[1,"container-fluid","my-4"],[1,"row","gx-1"],[1,"col-3"],["width","100%","src","https://k.nooncdn.com/cms/pages/20220705/278bc16b280948157f1ef19eb2acc969/en_dk_eg-mega-01.png","alt","/home-and-kitchen/eg-summerappliances",1,"sc-crXcEl","iMxqHU"],["width","100%","src","https://k.nooncdn.com/cms/pages/20220629/7b8c2d12780719e591297ae0420857c9/en_dk_eg-mega-module-01.png","alt","/beauty-and-health/beauty/skin-care-16813/sun",1,"sc-crXcEl","iMxqHU"],["width","100%","src","https://k.nooncdn.com/cms/pages/20220707/2e982422d7ce7fc680a2d64be0c5c65a/en_dk_eg-mega-module-02.png","alt","/fashion/women-31229/swimwear-megadeal-starting25-FA_03/?f[is_fbn]=1&limit=50&sort[by]=new_arrivals&sort[dir]=desc",1,"sc-crXcEl","iMxqHU"],["width","100%","src","https://k.nooncdn.com/cms/pages/20220704/24b658763b9333a7ce57cb8136fab8cc/en_dk_eg-mega-01.png","alt","/eg-jul22-grocery",1,"sc-crXcEl","iMxqHU"],[1,"container-fluid"],[1,"my-5"],[3,"products"],[1,"container-fluid","color"],[1,"row","p-2","gx-1","my-4"],[1,"col-12"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/d0c75d40c77381b43e180d4d63d534b5/en_title-05.png"],[1,"col-2"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-19.png"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-23.png"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-49.png"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-21.png"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-22.png"],["width","100%","src","https://k.nooncdn.com/cms/pages/20211206/8908ea4092c77b5ac68851cf40251c4b/en_cat-20.png"],[1,"container-fluid","my-3"],["routerLink","/Profile",1,"btn","btn-info"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.qZA(),i._UZ(2,"app-carousel-component")(3,"app-frist-swiper"),i.TgZ(4,"div",2)(5,"div",3)(6,"div",4),i._UZ(7,"img",5),i.qZA(),i.TgZ(8,"div",4),i._UZ(9,"img",6),i.qZA(),i.TgZ(10,"div",4),i._UZ(11,"img",7),i.qZA(),i.TgZ(12,"div",4),i._UZ(13,"img",8),i.qZA()()(),i.TgZ(14,"div",9)(15,"h2",10),i._uU(16),i.ALo(17,"translate"),i.qZA(),i._UZ(18,"app-products-swiper",11),i.qZA(),i.TgZ(19,"div",12)(20,"div",13)(21,"div",14),i._UZ(22,"img",15),i.qZA(),i.TgZ(23,"div",16),i._UZ(24,"img",17),i.qZA(),i.TgZ(25,"div",16),i._UZ(26,"img",18),i.qZA(),i.TgZ(27,"div",16),i._UZ(28,"img",19),i.qZA(),i.TgZ(29,"div",16),i._UZ(30,"img",20),i.qZA(),i.TgZ(31,"div",16),i._UZ(32,"img",21),i.qZA(),i.TgZ(33,"div",16),i._UZ(34,"img",22),i.qZA()()(),i.TgZ(35,"div",23)(36,"h2",10),i._uU(37),i.ALo(38,"translate"),i.qZA(),i._UZ(39,"app-products-swiper",11),i.qZA(),i.TgZ(40,"button",24),i._uU(41,"Take Round!"),i.qZA()),2&t&&(i.xp6(16),i.hij(" ",i.lcZ(17,4,"people Liked:"),""),i.xp6(2),i.Q6J("products",r.bestSeller),i.xp6(19),i.Oqu(i.lcZ(38,6,"All Products:")),i.xp6(2),i.Q6J("products",r.allProducts))},dependencies:[lf,dU,bU,pP,ru],styles:[".color[_ngcontent-%COMP%]{background-color:#e8efff}"]}),n})(),EU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(i.TgZ(0,"p"),i._uU(1,"not-found works!"),i.qZA())}}),n})(),TU=(()=>{class n{transform(t,r){return console.log(r),""!=r?t.filter(s=>{if(s.category)return s.category.toLowerCase().includes(r.toLowerCase())}):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=i.Yjl({name:"filter",type:n,pure:!0}),n})();function IU(n,e){if(1&n&&(i.TgZ(0,"p",62)(1,"span",63),i._uU(2),i.ALo(3,"translate"),i.ALo(4,"number"),i.qZA(),i.TgZ(5,"span",64),i._uU(6),i.ALo(7,"translate"),i.qZA()()),2&n){const t=i.oxw(2).$implicit;i.xp6(2),i.AsE("",i.lcZ(3,4,"EGP")," ",i.xi3(4,6,t.price*(100+t.discountPercentage)/100,"1.0-0")," "),i.xp6(4),i.AsE(" ",t.discountPercentage,"% ",i.lcZ(7,9,"OFF"),"")}}function AU(n,e){1&n&&(i.TgZ(0,"div",65),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Best Seller")," "))}const DU=function(n){return["/productsdetails",n]};function SU(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",49)(1,"div",50)(2,"button",51),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,l=i.oxw();return i.KtG(l.ShowProductDetails(s.id))}),i._UZ(3,"img",52),i.qZA(),i.TgZ(4,"div",53)(5,"p",54),i._uU(6),i.qZA(),i.TgZ(7,"h5",55)(8,"span"),i._uU(9),i.ALo(10,"translate"),i.qZA(),i._uU(11),i.qZA(),i.YNc(12,IU,8,11,"p",56),i.TgZ(13,"div",57)(14,"p",58),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"p",59),i._UZ(18,"i",60),i._uU(19),i.qZA()()(),i.YNc(20,AU,3,3,"div",61),i.qZA()()}if(2&n){const t=i.oxw().$implicit;i.xp6(2),i.Q6J("routerLink",i.VKq(14,DU,t.id)),i.xp6(1),i.Q6J("src",t.thumbnail,i.LSH)("alt",t.description),i.xp6(3),i.Oqu(t.description),i.xp6(3),i.Oqu(i.lcZ(10,10,"EGP")),i.xp6(2),i.hij(" ",t.price,".00"),i.xp6(1),i.Q6J("ngIf",t.discountPercentage>0),i.xp6(3),i.Oqu(i.lcZ(16,12,"express")),i.xp6(4),i.Oqu(t.rating),i.xp6(1),i.Q6J("ngIf",t.rating>4.8)}}function xU(n,e){if(1&n&&(i.ynx(0),i.YNc(1,SU,21,16,"div",48),i.BQk()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.stock>0)}}let CD=(()=>{class n{constructor(t,r,s,l,c){this.AllProducts=t,this.router=r,this.fireStore=s,this.ActiveRouter=l,this.translate=c,this.ArrayOfProducts=[],this.products=[],this.termSec=""}ShowProductDetails(t){this.router.navigate(["productsdetails",t])}getValue(t){this.ArrayOfProducts=this.AllProducts.getProductsByCategorey("all"),this.termSec=t.target.getAttribute("data-name")}ngOnInit(){console.log(this.ArrayOfProducts),this.ActiveRouter.paramMap.subscribe(t=>{this.productName=t.get("productName");let r=t.get("productCat");this.productName?(this.termSec="",console.log("hii from params"),this.ArrayOfProducts=this.AllProducts.getProductsByName(this.productName),console.log(this.ArrayOfProducts)):r?(this.termSec="",console.log("hii from params"),this.ArrayOfProducts=this.AllProducts.getProductsByCategorey(r),console.log(this.ArrayOfProducts)):(this.ArrayOfProducts=this.AllProducts.getProductsByCategorey("all"),console.log(this.ArrayOfProducts))})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(y1),i.Y36(sr),i.Y36(Ga),i.Y36(Pd),i.Y36(df))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-allproducts"]],decls:129,vars:67,consts:[[1,"row",2,"background-color","#f7f7fa"],[1,"col-lg-2"],[1,"sc-6a72e040-3","juIHfI"],[1,"sc-6a72e040-4","fNMDAX"],["data-qa","filter-container"],[1,"sc-22aec865-0","eAQYDH"],["data-qa","Fulfillment",1,"sc-517ef466-0","bFJNfk"],[1,"sc-517ef466-1","cMiONB"],["open","",1,"sc-517ef466-2","heqrHC"],["data-qa","Category",1,"sc-517ef466-0","bFJNfk"],[1,"sc-517ef466-3","dMBOlX"],["data-name","",3,"click"],["src","https://z.nooncdn.com/s/app/com/noon/icons/down-chevron.svg","alt","Category",1,"sc-afe2674f-1","cfKlFZ","open"],[1,"sc-f87e2b7-0","brIkoP"],[1,"sc-8de4e34f-0","hSPkqe","expander"],[1,"sc-8de4e34f-1","dXFUFJ"],[1,"sc-8de4e34f-2","eplFQV"],[1,"sc-7d9be1f5-0","dVWzTu"],["src","https://z.nooncdn.com/s/app/com/noon/design-system/icons/minus-grey.svg","alt","minusGrey","width","16px","height","16px",1,"sc-afe2674f-1","eODKWw"],["data-name","women",3,"click"],[1,"sc-8de4e34f-3","ioedRD"],["data-name","womens-shoes",1,"sc-8de4e34f-4","bOfLTf",3,"click"],[1,"sc-8de4e34f-0","hSPkqe"],["src","https://z.nooncdn.com/s/app/com/noon/design-system/icons/plus-grey.svg","alt","plusGrey","width","16px","height","16px",1,"sc-afe2674f-1","eODKWw"],["data-name","womens-watches",3,"click"],[1,"sc-8de4e34f-3","bFBjnN"],["data-name","skincare",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","sunglasses",3,"click"],["data-name","lighting",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","motorcycle",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","fragrances",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","laptops",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","mens-watches",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","furniture",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","home",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","home-decoration",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","automotive",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","womens-dresses",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","womens-jewellery",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","mens-shirts",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","tops",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","smartphones",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","groceries",1,"sc-8de4e34f-4","bOfLTf",3,"click"],["data-name","womens-bags",1,"sc-8de4e34f-4","bOfLTf",3,"click"],[1,"col-lg-10"],[1,"item"],[1,"row","row-cols-1","row-cols-md-3","row-cols-lg-5"],[4,"ngFor","ngForOf"],["class","col px-3 py-4 border-1 rounded-2 ",4,"ngIf"],[1,"col","px-3","py-4","border-1","rounded-2"],[1,"card","h-100","rounded-0"],[1,"w-100","border-0","rounded-0","bg-white",3,"routerLink","click"],[1,"w-100","card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title","my-3"],[1,"card-text"],["style","font-size: 12px;",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"yellow-badge","ps-1"],[1,"text-warning","fw-bold",2,"font-size","12px"],[1,"bi","bi-star-fill","text-warning"],["class","best-seller",4,"ngIf"],[2,"font-size","12px"],[2,"text-decoration-line","line-through"],[1,"fw-bolder","ms-2",2,"color","rgb(137, 225, 4)"],[1,"best-seller"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),i._UZ(8,"div",8),i.qZA(),i.TgZ(9,"div",5)(10,"div",9)(11,"div",7)(12,"div",10)(13,"div",10)(14,"span",11),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(15,"Category"),i.qZA()(),i._UZ(16,"img",12),i.qZA()(),i.TgZ(17,"div",8)(18,"ul",13)(19,"li",14)(20,"a")(21,"div",15)(22,"i",16)(23,"div",17),i._UZ(24,"img",18),i.qZA()(),i.TgZ(25,"span",19),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(26),i.ALo(27,"translate"),i.qZA()()(),i.TgZ(28,"div",20)(29,"ul")(30,"a")(31,"li",21),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(32),i.ALo(33,"translate"),i.qZA()(),i.TgZ(34,"li",22)(35,"a")(36,"div",15)(37,"i",16)(38,"div",17),i._UZ(39,"img",23),i.qZA()(),i.TgZ(40,"span",24),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(41),i.ALo(42,"translate"),i.qZA()()(),i.TgZ(43,"div",25)(44,"ul")(45,"a")(46,"li",26),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(47),i.ALo(48,"translate"),i.qZA()(),i.TgZ(49,"li",22)(50,"a")(51,"div",15)(52,"i",16)(53,"div",17),i._UZ(54,"img",23),i.qZA()(),i.TgZ(55,"span",27),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(56),i.ALo(57,"translate"),i.qZA()()(),i.TgZ(58,"div",25)(59,"ul")(60,"a")(61,"li",28),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(62),i.ALo(63,"translate"),i.qZA()(),i.TgZ(64,"a")(65,"li",29),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(66),i.ALo(67,"translate"),i.qZA()(),i.TgZ(68,"a")(69,"li",30),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(70),i.ALo(71,"translate"),i.qZA()(),i.TgZ(72,"a")(73,"li",31),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(74),i.ALo(75,"translate"),i.qZA()(),i.TgZ(76,"a")(77,"li",32),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(78),i.ALo(79,"translate"),i.qZA()(),i.TgZ(80,"a")(81,"li",33),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(82),i.ALo(83,"translate"),i.qZA()(),i.TgZ(84,"a")(85,"li",34),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(86),i.ALo(87,"translate"),i.qZA()(),i.TgZ(88,"a")(89,"li",35),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(90),i.ALo(91,"translate"),i.qZA()(),i.TgZ(92,"a")(93,"li",36),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(94),i.ALo(95,"translate"),i.qZA()(),i.TgZ(96,"a")(97,"li",37),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(98),i.ALo(99,"translate"),i.qZA()(),i.TgZ(100,"a")(101,"li",38),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(102),i.ALo(103,"translate"),i.qZA()(),i.TgZ(104,"a")(105,"li",39),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(106),i.ALo(107,"translate"),i.qZA()(),i.TgZ(108,"a")(109,"li",40),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(110),i.ALo(111,"translate"),i.qZA()(),i.TgZ(112,"a")(113,"li",41),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(114),i.ALo(115,"translate"),i.qZA()(),i.TgZ(116,"a")(117,"li",42),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(118),i.ALo(119,"translate"),i.qZA()(),i.TgZ(120,"a")(121,"li",43),i.NdJ("click",function(l){return r.getValue(l)}),i._uU(122),i.ALo(123,"translate"),i.qZA()()()()()()()()()()()()()()()()()()()()(),i.TgZ(124,"div",44)(125,"div",45)(126,"div",46),i.YNc(127,xU,2,1,"ng-container",47),i.ALo(128,"filter"),i.qZA()()()()),2&t&&(i.xp6(26),i.hij(" ",i.lcZ(27,22,"Women")," "),i.xp6(6),i.Oqu(i.lcZ(33,24,"Women's Shoes")),i.xp6(9),i.hij("",i.lcZ(42,26,"Women Watches")," "),i.xp6(6),i.hij(" ",i.lcZ(48,28,"SkinCare"),""),i.xp6(9),i.Oqu(i.lcZ(57,30,"SunGlasses")),i.xp6(6),i.Oqu(i.lcZ(63,32,"Lighting")),i.xp6(4),i.Oqu(i.lcZ(67,34,"Motorcycle")),i.xp6(4),i.Oqu(i.lcZ(71,36,"Fragrances")),i.xp6(4),i.Oqu(i.lcZ(75,38,"Laptops")),i.xp6(4),i.Oqu(i.lcZ(79,40,"Men Watches")),i.xp6(4),i.Oqu(i.lcZ(83,42,"Women Watches")),i.xp6(4),i.hij(" ",i.lcZ(87,44,"Home"),""),i.xp6(4),i.Oqu(i.lcZ(91,46,"Home Decoration")),i.xp6(4),i.Oqu(i.lcZ(95,48,"Automotive")),i.xp6(4),i.hij(" ",i.lcZ(99,50,"Women Dresses"),""),i.xp6(4),i.Oqu(i.lcZ(103,52,"Women Jewellery")),i.xp6(4),i.Oqu(i.lcZ(107,54,"Men T-shirts")),i.xp6(4),i.hij(" ",i.lcZ(111,56,"Tops")," "),i.xp6(4),i.Oqu(i.lcZ(115,58,"SmartPhones")),i.xp6(4),i.Oqu(i.lcZ(119,60,"Grocery")),i.xp6(4),i.Oqu(i.lcZ(123,62,"Women's Bags")),i.xp6(5),i.Q6J("ngForOf",i.xi3(128,64,r.ArrayOfProducts,r.termSec)))},dependencies:[Hr,Sn,lf,Si,ru,TU],styles:[".card-title[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.yellow-badge[_ngcontent-%COMP%]{border:1px solid yellow;border-radius:50px 3px 30px 50px;width:60px;height:20px;font-size:12px;font-weight:700;color:#3f3f3f;background-color:#ff0}.best-seller[_ngcontent-%COMP%]{width:70px;height:20px;font-size:11px;border-radius:0 20px 10px 0;color:#ffff00f3;position:absolute;top:-18px;font-weight:700;background-color:#191818}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], big[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], del[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], q[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], small[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], var[_ngcontent-%COMP%], b[_ngcontent-%COMP%], u[_ngcontent-%COMP%], i[_ngcontent-%COMP%], center[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], table[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], details[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], output[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], time[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;box-sizing:border-box}*[_ngcontent-%COMP%]{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}*[_ngcontent-%COMP%]{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]{font-family:Proxima Nova,Helvetica Neue,Arial,sans-serif!important;min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{line-height:1.4;color:#404553;font-size:14px;background-color:#f7f7fa;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;min-width:375px}[_ngcontent-%COMP%]:root{--swiper-navigation-size: 44px}[_ngcontent-%COMP%]:root{--swiper-theme-color: #007aff}[_ngcontent-%COMP%]:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: #e74c3c;--toastify-color-transparent: hsla(0,0%,100%,.7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-toast-width: 320px;--toastify-toast-background: #fff;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error)}.fNMDAX[_ngcontent-%COMP%]{width:250px}.eAQYDH[_ngcontent-%COMP%]:first-child{margin-top:12px}.eAQYDH[_ngcontent-%COMP%]:not(:first-child){margin-top:20px}.bFJNfk[_ngcontent-%COMP%]{position:relative}.cMiONB[_ngcontent-%COMP%]{padding:8px 0;margin-bottom:8px;width:100%;cursor:pointer}.dMBOlX[_ngcontent-%COMP%]{flex:1 1 0%;display:flex}.dMBOlX[_ngcontent-%COMP%] > img.open[_ngcontent-%COMP%]{transform:rotate(360deg)}.dMBOlX[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{transition:all .25s ease-in-out 0s;margin:0 10px;transform:rotate(270deg)}.cfKlFZ[_ngcontent-%COMP%]{max-width:100%;max-height:100%}img[_ngcontent-%COMP%]{max-width:100%;display:block}.heqrHC[_ngcontent-%COMP%]{height:auto;visibility:visible;opacity:1;transition:height .2s ease-in-out 0s;margin-right:10px}.brIkoP[_ngcontent-%COMP%]{margin:-8px 0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.hSPkqe.expander[_ngcontent-%COMP%]{position:relative}.dXFUFJ[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:8px 0}.eplFQV[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(218,220,227);margin-right:8px}.eODKWw[_ngcontent-%COMP%]{width:16px;max-width:unset;height:16px;max-height:unset}.ioedRD[_ngcontent-%COMP%]{margin-left:26px;display:block}.bOfLTf[_ngcontent-%COMP%]{cursor:pointer;padding:8px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{aspect-ratio:3/4}"]}),n})();class yP{}class vP{}class Od{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),l=s.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(s,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Od?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Od;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Od?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const l=e.value;if(l){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===l.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class MU{encodeKey(e){return _P(e)}encodeValue(e){return _P(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OU=/%(\d[a-f0-9])/gi,NU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _P(n){return encodeURIComponent(n).replace(OU,(e,t)=>NU[t]??e)}function C1(n){return`${n}`}class pf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new MU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const l=s.indexOf("="),[c,f]=-1==l?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,l)),e.decodeValue(s.slice(l+1))],y=t.get(c)||[];y.push(f),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(C1):[C1(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(C1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(C1(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bP(n){return typeof Blob<"u"&&n instanceof Blob}function CP(n){return typeof FormData<"u"&&n instanceof FormData}class Ow{constructor(e,t,r,s){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function RU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,l=s):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Od),this.context||(this.context=new kU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new pf,this.urlWithParams=t}serializeBody(){return null===this.body?null:wP(this.body)||bP(this.body)||CP(this.body)||function LU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CP(this.body)?null:bP(this.body)?this.body.type||null:wP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((E,A)=>E.set(A,e.setHeaders[A]),y)),e.setParams&&(v=Object.keys(e.setParams).reduce((E,A)=>E.set(A,e.setParams[A]),v)),new Ow(t,r,l,{params:v,headers:y,context:C,reportProgress:f,responseType:s,withCredentials:c})}}var pi=(()=>((pi=pi||{})[pi.Sent=0]="Sent",pi[pi.UploadProgress=1]="UploadProgress",pi[pi.ResponseHeader=2]="ResponseHeader",pi[pi.DownloadProgress=3]="DownloadProgress",pi[pi.Response=4]="Response",pi[pi.User=5]="User",pi))();class ED{constructor(e,t=200,r="OK"){this.headers=e.headers||new Od,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class TD extends ED{constructor(e={}){super(e),this.type=pi.ResponseHeader}clone(e={}){return new TD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class E1 extends ED{constructor(e={}){super(e),this.type=pi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new E1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class EP extends ED{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ID(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let AD=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let l;if(t instanceof Ow)l=t;else{let y,v;y=s.headers instanceof Od?s.headers:new Od(s.headers),s.params&&(v=s.params instanceof pf?s.params:new pf({fromObject:s.params})),l=new Ow(t,r,void 0!==s.body?s.body:null,{headers:y,context:s.context,params:v,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const c=lt(l).pipe(Dd(y=>this.handler.handle(y)));if(t instanceof Ow||"events"===s.observe)return c;const f=c.pipe(Ur(y=>y instanceof E1));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Ct.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Ct.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Ct.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Ct.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new pf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,ID(s,r))}post(t,r,s={}){return this.request("POST",t,ID(s,r))}put(t,r,s={}){return this.request("PUT",t,ID(s,r))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(yP))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class TP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const IP=new i.OlP("HTTP_INTERCEPTORS");let FU=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const UU=/^\)\]\}',?\n/;let AP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mn.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,O)=>s.setRequestHeader(P,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const P=t.detectContentTypeHeader();null!==P&&s.setRequestHeader("Content-Type",P)}if(t.responseType){const P=t.responseType.toLowerCase();s.responseType="json"!==P?P:"text"}const l=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const P=s.statusText||"OK",O=new Od(s.getAllResponseHeaders()),U=function VU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new TD({headers:O,status:s.status,statusText:P,url:U}),c},y=()=>{let{headers:P,status:O,statusText:U,url:N}=f(),F=null;204!==O&&(F=typeof s.response>"u"?s.responseText:s.response),0===O&&(O=F?200:0);let G=O>=200&&O<300;if("json"===t.responseType&&"string"==typeof F){const j=F;F=F.replace(UU,"");try{F=""!==F?JSON.parse(F):null}catch(W){F=j,G&&(G=!1,F={error:W,text:F})}}G?(r.next(new E1({body:F,headers:P,status:O,statusText:U,url:N||void 0})),r.complete()):r.error(new EP({error:F,headers:P,status:O,statusText:U,url:N||void 0}))},v=P=>{const{url:O}=f(),U=new EP({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});r.error(U)};let C=!1;const E=P=>{C||(r.next(f()),C=!0);let O={type:pi.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(O.total=P.total),"text"===t.responseType&&!!s.responseText&&(O.partialText=s.responseText),r.next(O)},A=P=>{let O={type:pi.UploadProgress,loaded:P.loaded};P.lengthComputable&&(O.total=P.total),r.next(O)};return s.addEventListener("load",y),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),t.reportProgress&&(s.addEventListener("progress",E),null!==l&&s.upload&&s.upload.addEventListener("progress",A)),s.send(l),r.next({type:pi.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",y),s.removeEventListener("timeout",v),t.reportProgress&&(s.removeEventListener("progress",E),null!==l&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Sr))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const DD=new i.OlP("XSRF_COOKIE_NAME"),SD=new i.OlP("XSRF_HEADER_NAME");class DP{}let BU=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=iu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(_e),i.LFG(i.Lbi),i.LFG(DD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),xD=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(DP),i.LFG(SD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),$U=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(IP,[]);this.chain=r.reduceRight((s,l)=>new TP(s,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(vP),i.LFG(i.zs3))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ZU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:xD,useClass:FU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:DD,useValue:t.cookieName}:[],t.headerName?{provide:SD,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[xD,{provide:IP,useExisting:xD,multi:!0},{provide:DP,useClass:BU},{provide:DD,useValue:"XSRF-TOKEN"},{provide:SD,useValue:"X-XSRF-TOKEN"}]}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[AD,{provide:yP,useClass:$U},AP,{provide:vP,useExisting:AP}],imports:[ZU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),HU=(()=>{class n{constructor(t){this._api=t}getWishListItems(){return this._api.get(`${Da_firebaseConfig}/api/Wishlist/GetAll`)}addToWishList(t){return this._api.post(`${Da_firebaseConfig}/api/Wishlist/Add?proId=${t}`,null)}removeFromWishList(t){return this._api.delete(`${Da_firebaseConfig}/api/Wishlist/Remove?proId=${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(AD))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T1=(()=>{class n{constructor(){this.cartItemList=[],this.productList=new ia([]);let t=localStorage.getItem("cart");t&&(this.cartItemList=JSON.parse(t),this.productList.next(this.cartItemList))}getProduct(){return this.productList.asObservable()}setProduct(t){this.cartItemList.push(...t),this.productList.next(t)}addToCart(t,r){this.cartItemList.push({quantity:r,...t}),localStorage.setItem("cart",JSON.stringify(this.cartItemList)),this.productList.next(this.cartItemList),this.getTotalPrice(),console.log(t)}getTotalPrice(){let t=0;return this.cartItemList.map(r=>{t+=r.total}),t}removeCartItem(t){this.cartItemList.map((r,s)=>{t.id===r.id&&this.cartItemList.splice(s,1)}),localStorage.setItem("cart",JSON.stringify(this.cartItemList)),this.productList.next(this.cartItemList)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qU(n,e){1&n&&(i.TgZ(0,"div",64),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Best Seller")," "))}let zU=(()=>{class n{constructor(t,r,s,l,c,f,y,v){this.AllProducts=t,this.router=r,this.ActiveRouter=s,this._router=l,this.wishService=c,this._cartService=f,this.fireStore=y,this.cartService=v,this.ProductQuantity=1,this.LocalStorageProducts=[],this.CartProduct={quantity:0,product:this.p},this.newpro={},this.quantity=1,this.i=1}DecreaseFromStock(t){t.stock--}ngOnInit(){scrollTo(0,0),this.ActiveRouter.paramMap.subscribe(t=>{this.IdRecived=t.get("productid"),this.IdRecived&&(this.myproduct=this.fireStore.getProductById(this.IdRecived).subscribe(r=>{this.newpro={id:r.payload.id,...r.payload.data()}})),console.log(this.newpro),console.log(this.IdRecived)})}addToCart(t){this.cartService.addToCart(t,this.quantity)}plus(){10!=this.i&&(this.i++,this.quantity=this.i)}minus(){1!=this.i&&(this.i--,this.quantity=this.i)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(y1),i.Y36(sr),i.Y36(Pd),i.Y36(sr),i.Y36(HU),i.Y36(T1),i.Y36(Ga),i.Y36(T1))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-productsdetails"]],decls:160,vars:109,consts:[[1,"container-fluid","py-4","px-5","overflow-hidden"],[1,"row","g-3"],[1,"col-md-6","col-lg-4"],[1,"item","d-flex","gap-3"],[1,"images-icon","flex-shrink-0","d-flex","flex-column","gap-2"],["alt","icon photo",1,"img-thumbnail",3,"src"],[1,"image"],["alt","photo product",1,"w-100",3,"src"],[1,"col-md-6","col-lg-5"],["class","best-seller",4,"ngIf"],[1,"text-muted","my-2"],[1,"text-dark"],[1,"d-flex","gap-3"],[1,"m-0"],[1,"vr"],[1,"badge","bg-green","d-flex","align-items-center"],[1,"fa-solid","fa-star","fa-sm"],["href","",1,"m-0"],[1,"text-decoration-line-through"],[1,"fw-bold","fs-3"],[1,"text-muted"],[1,"text-success","badge","bg-green1"],["src","./assets/images/emi.svg","alt","icon",1,"img-fluid"],["href",""],["src","./assets/images/en_pdp-01.png","alt","photo none",1,"img-fluid"],[1,"details","bg-light","p-3","my-3"],[1,"d-flex","justify-content-between"],[1,"fw-semibold"],[1,"fw-normal"],[1,"text-decoration-underline"],[1,"imag-details"],["src","./assets/images/fulfilment_express_v2-en.svg","alt","express photo",1,"img-fluid"],["src","./assets/images/help.svg","alt","help photo",1,"img-fluid"],[1,"d-flex","align-items-start","bg-white","p-2"],["src","./assets/images/same_day_delivery.svg","alt","icon",1,"img-fluid","me-2"],[1,"my-3"],[1,"hstack","gap-3"],["type","button",3,"click"],[1,"fa","fa-minus"],["type","text",3,"value"],[1,"fa","fa-plus"],[1,"col-8","px-0"],["id","addToCart",1,"btn","badge","ms-3","w-100","h-100",3,"click"],[1,"col-md-6","col-lg-3"],[1,"list-group","list-group-flush","border-start"],[1,"list-group-item","d-flex","align-items-start"],["src","./assets/images/non_returnable.svg","alt","",1,"img-fluid"],[1,"list-group-item"],[1,"d-flex","align-items-center"],["src","./assets/images/seller.svg","alt","",1,"img-fluid","icon-details"],[1,"details-item"],[1,"badge","bg-green"],[1,"text-muted","my-3"],[1,"list-group-item","d-flex","align-items-center","gap-2","badge-img","text-center"],[1,"item"],["src","./assets/images/badge_great_recent_rating.png","alt","",1,"img-fluid"],[1,"small"],["src","./assets/images/badge_low_returns_seller.png","alt","",1,"img-fluid"],[1,"text-success","fw-bold"],[1,"item","d-flex","align-items-start"],["src","./assets/images/trusted_shipping_usp_v2.svg","alt","",1,"img-fluid"],[1,"det"],[1,"text-muted","small"],["src","./assets/images/secure_usp.svg","alt","",1,"img-fluid"],[1,"best-seller"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i._UZ(5,"img",5)(6,"img",5)(7,"img",5)(8,"img",5),i.qZA(),i.TgZ(9,"div",6),i._UZ(10,"img",7),i.qZA()()(),i.TgZ(11,"div",8),i.YNc(12,qU,3,3,"div",9),i.TgZ(13,"h6",10),i._uU(14),i.qZA(),i.TgZ(15,"h4",11),i._uU(16),i.qZA(),i.TgZ(17,"div",12)(18,"p",13),i._uU(19),i.ALo(20,"translate"),i.qZA(),i._UZ(21,"span",14),i.TgZ(22,"span",15),i._uU(23),i._UZ(24,"i",16),i.qZA(),i.TgZ(25,"span",17),i._uU(26),i.ALo(27,"translate"),i.qZA()(),i.TgZ(28,"p"),i._uU(29),i.ALo(30,"translate"),i.TgZ(31,"span",18),i._uU(32),i.ALo(33,"translate"),i.qZA()(),i.TgZ(34,"p"),i._uU(35),i.ALo(36,"translate"),i.TgZ(37,"span",19),i._uU(38),i.ALo(39,"translate"),i.qZA(),i.TgZ(40,"span",20),i._uU(41),i.ALo(42,"translate"),i.qZA()(),i.TgZ(43,"p"),i._uU(44),i.ALo(45,"translate"),i.TgZ(46,"span"),i._uU(47),i.ALo(48,"translate"),i.qZA(),i.TgZ(49,"span",21),i._uU(50),i.ALo(51,"translate"),i.qZA()(),i.TgZ(52,"p"),i._UZ(53,"img",22),i._uU(54),i.ALo(55,"translate"),i.ALo(56,"translate"),i.TgZ(57,"a",23),i._uU(58),i.ALo(59,"translate"),i.qZA()(),i._UZ(60,"img",24),i.TgZ(61,"div",25)(62,"h6"),i._uU(63),i.ALo(64,"translate"),i.qZA(),i.TgZ(65,"div",26)(66,"p",27),i._uU(67),i.ALo(68,"translate"),i.TgZ(69,"span",28),i._uU(70),i.ALo(71,"translate"),i.qZA(),i.TgZ(72,"span",29),i._uU(73),i.ALo(74,"translate"),i.qZA()(),i.TgZ(75,"div",30),i._UZ(76,"img",31)(77,"img",32),i.qZA()(),i.TgZ(78,"div",33),i._UZ(79,"img",34),i.TgZ(80,"p"),i._uU(81),i.ALo(82,"translate"),i.qZA()()(),i.TgZ(83,"div")(84,"h4",35),i._uU(85),i.ALo(86,"translate"),i.qZA(),i.TgZ(87,"div",36)(88,"button",37),i.NdJ("click",function(){return r.minus()}),i._UZ(89,"i",38),i.qZA(),i._UZ(90,"input",39),i.TgZ(91,"button",37),i.NdJ("click",function(){return r.plus()}),i._UZ(92,"i",40),i.qZA(),i.TgZ(93,"div",41)(94,"button",42),i.NdJ("click",function(){return r.addToCart(r.newpro)}),i._uU(95),i.ALo(96,"translate"),i.qZA()()()()(),i.TgZ(97,"div",43)(98,"ul",44)(99,"li",45),i._UZ(100,"img",46),i.TgZ(101,"span"),i._uU(102),i.ALo(103,"translate"),i.qZA()(),i.TgZ(104,"li",47)(105,"div",48),i._UZ(106,"img",49),i.TgZ(107,"div",50)(108,"p",13),i._uU(109),i.ALo(110,"translate"),i.TgZ(111,"a",23),i._uU(112),i.ALo(113,"translate"),i.qZA()(),i.TgZ(114,"p",13)(115,"span",51),i._uU(116),i._UZ(117,"i",16),i.qZA(),i._uU(118),i.ALo(119,"translate"),i.qZA()()(),i.TgZ(120,"p",52),i._uU(121),i.ALo(122,"translate"),i.qZA()(),i.TgZ(123,"li",53)(124,"div",54),i._UZ(125,"img",55),i.TgZ(126,"p",56),i._uU(127),i.ALo(128,"translate"),i.qZA()(),i.TgZ(129,"div",54),i._UZ(130,"img",57),i.TgZ(131,"p",56),i._uU(132),i.ALo(133,"translate"),i.qZA()(),i._UZ(134,"hr",14),i.TgZ(135,"div",54)(136,"h6",58),i._uU(137,"84%"),i.qZA(),i.TgZ(138,"p",56),i._uU(139),i.ALo(140,"translate"),i.qZA()()(),i.TgZ(141,"li",47)(142,"div",59),i._UZ(143,"img",60),i.TgZ(144,"div",61)(145,"h6",20),i._uU(146),i.ALo(147,"translate"),i.qZA(),i.TgZ(148,"p",62),i._uU(149),i.ALo(150,"translate"),i.qZA()()(),i.TgZ(151,"div",59),i._UZ(152,"img",63),i.TgZ(153,"div",61)(154,"h6",20),i._uU(155),i.ALo(156,"translate"),i.qZA(),i.TgZ(157,"p",62),i._uU(158),i.ALo(159,"translate"),i.qZA()()()()()()()()),2&t&&(i.xp6(5),i.Q6J("src",r.newpro.images[0],i.LSH),i.xp6(1),i.Q6J("src",r.newpro.images[1],i.LSH),i.xp6(1),i.Q6J("src",r.newpro.images[2],i.LSH),i.xp6(1),i.Q6J("src",r.newpro.images[3],i.LSH),i.xp6(2),i.Q6J("src",r.newpro.thumbnail,i.LSH),i.xp6(2),i.Q6J("ngIf",r.newpro.rating>4.8),i.xp6(2),i.Oqu(r.newpro.brand),i.xp6(2),i.Oqu(r.newpro.description),i.xp6(3),i.hij("",i.lcZ(20,45,"Model Number :")," 10001096"),i.xp6(4),i.hij("",r.newpro.rating," "),i.xp6(3),i.Oqu(i.lcZ(27,47,"Ratings")),i.xp6(3),i.hij(" ",i.lcZ(30,49,"Was:")," "),i.xp6(3),i.hij("",i.lcZ(33,51,"EGP")," 899.00 "),i.xp6(3),i.hij(" ",i.lcZ(36,53,"Now:")," "),i.xp6(3),i.AsE("",r.newpro.price," ",i.lcZ(39,55,"EGP")," "),i.xp6(3),i.hij(" ",i.lcZ(42,57,"Inclusive of VAT"),""),i.xp6(3),i.hij(" ",i.lcZ(45,59,"Saving:")," "),i.xp6(3),i.hij("",i.lcZ(48,61,"EGP")," 12.70 "),i.xp6(3),i.AsE("",r.newpro.discountPercentage,"% ",i.lcZ(51,63,"OFF"),""),i.xp6(4),i.AsE(" ",i.lcZ(55,65,"Monthly payment plans from")," ",i.lcZ(56,67,"EGP")," 43 "),i.xp6(4),i.hij("",i.lcZ(59,69,"View more details")," "),i.xp6(5),i.Oqu(i.lcZ(64,71,"Order in 23 hrs 10 mins")),i.xp6(4),i.hij(" ",i.lcZ(68,73,"Free delivery")," "),i.xp6(3),i.Oqu(i.lcZ(71,75,"by")),i.xp6(3),i.hij(" ",i.lcZ(74,77,"Mon, Jul 18"),""),i.xp6(8),i.hij(" ",i.lcZ(82,79,"Want it Tomorrow? Select Get It Tomorrow on checkout within the next 8 hrs and 10 mins.")," "),i.xp6(4),i.Oqu(i.lcZ(86,81,"Quantity")),i.xp6(5),i.Q6J("value",r.quantity),i.xp6(5),i.hij(" ",i.lcZ(96,83,"Add To Cart")," "),i.xp6(7),i.Oqu(i.lcZ(103,85,"This item cannot be exchanged or returned")),i.xp6(7),i.hij("",i.lcZ(110,87,"Sold by")," "),i.xp6(3),i.Oqu(i.lcZ(113,89,"noon")),i.xp6(4),i.hij("",r.newpro.rating," "),i.xp6(2),i.hij(" 79%",i.lcZ(119,91,"positive")," "),i.xp6(3),i.hij("",i.lcZ(122,93,"100% authenticity guaranteed by noon")," "),i.xp6(6),i.hij("",i.lcZ(128,95,"Low Return Seller")," "),i.xp6(5),i.hij("",i.lcZ(133,97,"Great Recent Rating")," "),i.xp6(7),i.hij("",i.lcZ(140,99,"Product as Described")," "),i.xp6(7),i.hij("",i.lcZ(147,101,"TRUSTED SHIPPING")," "),i.xp6(3),i.hij("",i.lcZ(150,103,"Free shipping when you spend EGP 200 and above on express items")," "),i.xp6(6),i.hij(" ",i.lcZ(156,105,"SECURE SHOPPING")," "),i.xp6(3),i.hij("",i.lcZ(159,107,"Your data is always protected")," "))},dependencies:[Sn,ru],styles:['@import"https://fonts.googleapis.com/css2?family=Catamaran:wght@300;400;500;600;700;800;900&display=swap";body[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif}.images-icon[_ngcontent-%COMP%]{max-width:80px}.images-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.icon-top[_ngcontent-%COMP%]{background-color:#404553;padding:0 2px 0 20px;color:#feee00}.icon-top[_ngcontent-%COMP%]:after{content:"";position:absolute;border:11.5px solid;top:0;left:100%;border-color:transparent transparent transparent #404553}.bg-green[_ngcontent-%COMP%]{background-color:#38ae04}.bg-green1[_ngcontent-%COMP%]{background-color:#37ae0477}.select-item[_ngcontent-%COMP%]{width:40px}.icon-details[_ngcontent-%COMP%]{width:50px;border-radius:50%;border:1px solid #ccc;padding:5px;margin-right:10px}.badge-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}#addToCart[_ngcontent-%COMP%]{background-color:#2b4cd7}#addToCart[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2b4cd7;border:2px solid #2B4CD7}']}),n})();const GU=["payPalButtonContainer"];let SP=(()=>{class n{constructor(t){this.zone=t}registerScript(t,r,s){const l=window[r];if(l)return void this.zone.run(()=>{s(l)});const c=document.createElement("script");c.id=this.getElemId(r),c.innerHTML="",c.onload=()=>{this.zone.run(()=>{s(window[r])})},c.src=t,c.async=!0,c.defer=!0,document.getElementsByTagName("head")[0].appendChild(c)}cleanup(t){const r=document.getElementById(this.getElemId(t));r&&r.remove()}getElemId(t){return`ngx-paypal-script-elem-${t}`}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),xP=(()=>{class n{constructor(t){this.scriptService=t,this.paypalWindowName="paypal"}registerPayPalScript(t,r){this.scriptService.registerScript(this.getUrlForConfig(t),this.paypalWindowName,r)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(t){const r=[{name:"client-id",value:t.clientId}];return t.currency&&r.push({name:"currency",value:t.currency}),t.commit&&r.push({name:"commit",value:t.commit}),t.vault&&r.push({name:"vault",value:t.vault}),t.intent&&r.push({name:"intent",value:t.intent}),t.extraParams&&r.push(...t.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(r)}`}getQueryString(t){let r="";for(let s=0;s<t.length;s++){const l=t[s];r+=0===s?"?":"&",r+=`${l.name}=${l.value}`}return r}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(SP))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),WU=(()=>{class n{constructor(t,r,s){this.paypalScriptService=t,this.cdr=r,this.ngZone=s,this.registerScript=!0,this.scriptLoaded=new i.vpe,this.ngUnsubscribe=new Ha.x,this.initializePayPal=!0}set payPalButtonContainer(t){this.payPalButtonContainerElem=t}ngOnChanges(t){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const r=this.config;t.config.isFirstChange()&&r&&this.registerScript&&this.initPayPalScript(r,s=>{this.payPal=s,this.doPayPalCheck()}),t.config.isFirstChange()||this.reinitialize(r)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(t){this.payPal=t,this.doPayPalCheck()}reinitialize(t){if(this.config=t,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,r=>{this.payPal=r,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(t,r){this.paypalScriptService.registerPayPalScript({clientId:t.clientId,commit:t.advanced&&t.advanced.commit?t.advanced.commit:void 0,currency:t.currency,vault:t.vault,intent:t.intent,extraParams:t.advanced&&t.advanced.extraQueryParams?t.advanced.extraQueryParams:[]},s=>{this.scriptLoaded.next(s),r(s)})}generateElementId(){return`ngx-captcha-id-${(new Date).valueOf()}`}initPayPal(t,r){this.ngZone.runOutsideAngular(()=>{const f={style:t.style,onApprove:(y,v)=>this.ngZone.run(()=>{if(t.onApprove&&t.onApprove(y,v),t.authorizeOnServer)return t.authorizeOnServer(y,v);const C=t.onClientAuthorization;C&&v.order.capture().then(E=>{this.ngZone.run(()=>{C(E)})})}),onError:y=>{this.ngZone.run(()=>{t.onError&&t.onError(y)})},onCancel:(y,v)=>{this.ngZone.run(()=>{t.onCancel&&t.onCancel(y,v)})},onClick:(y,v)=>{this.ngZone.run(()=>{t.onClick&&t.onClick(y,v)})},onInit:(y,v)=>{this.ngZone.run(()=>{t.onInit&&t.onInit(y,v)})},...(t.createOrderOnClient||t.createOrderOnServer)&&{createOrder:(y,v)=>this.ngZone.run(()=>{if(t.createOrderOnClient&&t.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.");if(!t.createOrderOnClient&&!t.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.");if(t.createOrderOnClient)return v.order.create(t.createOrderOnClient(y));if(t.createOrderOnServer)return t.createOrderOnServer(y);throw Error("Invalid state for 'createOrder'.")})},...t.createSubscriptionOnClient&&{createSubscription:(y,v)=>this.ngZone.run(()=>{if(t.createSubscriptionOnClient)return v.subscription.create(t.createSubscriptionOnClient(y))})},...t.onShippingChange&&{onShippingChange:(y,v)=>this.ngZone.run(()=>{if(t.onShippingChange)return t.onShippingChange(y,v)})}};r.Buttons(f).render(`#${this.payPalButtonContainerId}`)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(xP),i.Y36(i.sBO),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngx-paypal"]],viewQuery:function(t,r){if(1&t&&i.Gf(GU,5),2&t){let s;i.iGM(s=i.CRH())&&(r.payPalButtonContainer=s.first)}},inputs:{config:"config",registerScript:"registerScript"},outputs:{scriptLoaded:"scriptLoaded"},features:[i.TTD],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(t,r){1&t&&i._UZ(0,"div",0,1),2&t&&i.Q6J("id",r.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),n})(),YU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[SP,xP],imports:[[wo]]}),n})();function KU(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"h3")(3,"b"),i._uU(4,"Your cart is empty"),i.qZA()(),i.TgZ(5,"p"),i._uU(6," You have items in your wishlist. To buy items from your wishlist, move them to your cart. "),i.qZA(),i.TgZ(7,"button",2),i._uU(8," CONTINUE SHOPPING "),i.qZA()(),i.BQk())}function QU(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div")(1,"div",27)(2,"div",28),i._UZ(3,"img",29),i.qZA(),i.TgZ(4,"div",30)(5,"p"),i._uU(6),i.qZA(),i.TgZ(7,"p"),i._uU(8),i.qZA(),i.TgZ(9,"p",20)(10,"b"),i._uU(11,"Price:"),i.qZA(),i._uU(12),i.qZA(),i.TgZ(13,"p",20)(14,"b"),i._uU(15,"Quantity:"),i.qZA(),i._uU(16),i.qZA(),i.TgZ(17,"p",20)(18,"b"),i._uU(19,"Total:"),i.qZA(),i._uU(20),i.qZA(),i.TgZ(21,"p"),i._uU(22,"Sold by "),i.TgZ(23,"b"),i._uU(24,"noon Brands"),i.qZA()(),i.TgZ(25,"div",31)(26,"h6"),i._uU(27,"Order in 23 hrs 10 mins"),i.qZA(),i.TgZ(28,"div",32)(29,"p",33),i._uU(30," Free delivery "),i.TgZ(31,"span",34),i._uU(32,"by"),i.qZA(),i.TgZ(33,"span",35),i._uU(34," Mon, Jul 18"),i.qZA()(),i.TgZ(35,"div",36),i._UZ(36,"img",37)(37,"img",38),i.qZA()(),i.TgZ(38,"div",39),i._UZ(39,"img",40),i.TgZ(40,"p"),i._uU(41," Select"),i.TgZ(42,"b"),i._uU(43," Get it tomorrow"),i.qZA(),i._uU(44," on checkout to "),i.TgZ(45,"b"),i._uU(46,"get it tomorrow"),i.qZA()()()()(),i.TgZ(47,"div",41)(48,"button",42),i.NdJ("click",function(){const l=i.CHM(t).$implicit,c=i.oxw(2);return i.KtG(c.removeItem(l))}),i._uU(49),i.qZA()()()()}if(2&n){const t=e.$implicit;i.xp6(3),i.Q6J("src",t.thumbnail,i.LSH),i.xp6(3),i.Oqu(t.brand),i.xp6(2),i.Oqu(t.description),i.xp6(4),i.hij(" ",t.price," LE"),i.xp6(4),i.hij(" ",t.quantity," items "),i.xp6(4),i.hij(" ",t.price*t.quantity," LE "),i.xp6(29),i.hij(" ","Remove"," ")}}function JU(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"h4"),i._uU(9,"Cart"),i.qZA()(),i.ynx(10),i.YNc(11,QU,50,7,"div",10),i.BQk(),i.qZA()(),i.TgZ(12,"a",11)(13,"button",12),i._uU(14),i.qZA()()(),i.TgZ(15,"div",13)(16,"div",14)(17,"h5"),i._uU(18),i.qZA(),i.TgZ(19,"div",15),i._UZ(20,"input",16),i.TgZ(21,"div",17)(22,"button",18),i._uU(23),i.qZA()()(),i.TgZ(24,"div",5)(25,"div",19)(26,"p",20),i._uU(27),i.qZA(),i.TgZ(28,"p",20),i._uU(29),i.qZA()(),i.TgZ(30,"div",21)(31,"p",20),i._uU(32),i.qZA(),i.TgZ(33,"p",20),i._uU(34),i.qZA()()(),i._UZ(35,"hr"),i.TgZ(36,"div",22)(37,"div",23)(38,"div",24)(39,"div",25),i._UZ(40,"ngx-paypal",26),i.qZA()()()()()()()()(),i.BQk()),2&n){const t=i.oxw();i.xp6(11),i.Q6J("ngForOf",t.products),i.xp6(3),i.hij(" ","ContinueShopping"," "),i.xp6(4),i.Oqu("OrderSummary"),i.xp6(2),i.s9C("placeholder","copon"),i.xp6(3),i.hij(" ","Applay"," "),i.xp6(4),i.AsE("","Totatl","(",t.totalQuantity,")"),i.xp6(2),i.Oqu("shipping"),i.xp6(3),i.Oqu(t.grandTotal),i.xp6(2),i.Oqu("Free"),i.xp6(6),i.Q6J("config",t.payPalConfig)}}let XU=(()=>{class n{constructor(t){this.cartService=t,this.products=[],this.totalQuantity=0,this.grandTotal=0}ngOnInit(){this.cartService.getProduct().subscribe(t=>{this.products=t;for(let r of t)this.grandTotal+=r.quantity*r.price,this.totalQuantity+=r.quantity}),this.initConfig()}removeItem(t){this.cartService.removeCartItem(t)}initConfig(){this.payPalConfig={currency:"EUR",clientId:"AcdISVozx83WZu6AXnkTvnt16pBooEsZVhLV5jwABVuHTuez6mDPttl3wiGK4NSAAMwGdIj40VzX64TX",createOrderOnClient:t=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:"9.99",breakdown:{item_total:{currency_code:"EUR",value:"9.99"}}},items:[{name:"Enterprise Subscription",quantity:"1",category:"DIGITAL_GOODS",unit_amount:{currency_code:"EUR",value:"9.99"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical",size:"small",color:"blue",shape:"rect"},onApprove:(t,r)=>{console.log("onApprove - transaction was approved, but not authorized",t,r),r.order.get()},onClientAuthorization:t=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",t)},onCancel:(t,r)=>{console.log("OnCancel",t,r)},onError:t=>{console.log("OnError",t)},onClick:(t,r)=>{console.log("onClick",t,r)}}}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(T1))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-cart"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"center","text-center"],["routerLink","/Home",1,"btn","btn-outline-primary","mt-4","mb-4"],[1,"container-fluid","overflow-hidden"],[1,"cartdiv"],[1,"row"],[1,"col-lg-7","col-md-7","mt-4",2,"margin-left","50px"],["id","cart"],[1,"cart"],["id","headercart",1,"header","p-1"],[4,"ngFor","ngForOf"],["routerLink","/Home"],[1,"btn","btn-outline-primary","mt-4","mb-4"],[1,"col-lg-4","col-md-4","mt-4"],[1,"rightside","p-4"],[1,"input-group","mb-3"],["type","text","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"placeholder"],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"col-8"],[1,"mt-4"],[1,"col-4"],[1,"row","w-100"],[1,"col-12","text-center"],[1,"row","mt-2","align-items-center"],[1,"col-md-12"],[3,"config"],[1,"row","p-3"],[1,"col-lg-2"],[1,"img-fluid",3,"src"],[1,"col-7"],[1,"details","bg-light","p-3","my-3"],[1,"d-flex","justify-content-between"],[1,"fw-semibold"],[1,"fw-normal"],[1,"text-decoration-underline"],[1,"imag-details"],["src","./assets/images/fulfilment_express_v2-en.svg","alt","express photo",1,"img-fluid"],["src","./assets/images/help.svg","alt","help photo",1,"img-fluid"],[1,"d-flex","align-items-start","bg-white","p-2"],["src","./assets/images/same_day_delivery.svg","alt","icon",1,"img-fluid","me-2"],[1,"col-lg-3","text-center"],[1,"btn","btn-danger","mt-4",3,"click"]],template:function(t,r){1&t&&(i.YNc(0,KU,9,0,"ng-container",0),i.YNc(1,JU,41,11,"ng-container",0)),2&t&&(i.Q6J("ngIf",0==r.products.length),i.xp6(1),i.Q6J("ngIf",0!=r.products.length))},dependencies:[Hr,Sn,lf,ng,WU],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.cartdiv[_ngcontent-%COMP%]{background-color:#fff}.header[_ngcontent-%COMP%]{background-color:#ddd;margin:0}.cart[_ngcontent-%COMP%]{background-color:#eee;margin:0}.rightside[_ngcontent-%COMP%]{border:1px solid rgba(198,204,221,.5)}.navleft[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;background-color:transparent}.navleft[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.navleft[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:25px;padding:5px}.navleft[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#fff;transform:scale(1.1)}.navleft[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px}.profile[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777}.divimg[_ngcontent-%COMP%], .divimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:18px;font-weight:700;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}@media only screen and (max-width: 600px){.navleft[_ngcontent-%COMP%]{width:0px;display:none}.row[_ngcontent-%COMP%]{margin:auto}.divimg[_ngcontent-%COMP%]{height:50%;width:50%}}@media only screen and (min-width: 600px) and (max-width: 968px){.navleft[_ngcontent-%COMP%]{width:0px;display:none}.row[_ngcontent-%COMP%]{margin:auto}.divimg[_ngcontent-%COMP%]{height:50%;width:50%}}.pop[_ngcontent-%COMP%]{background-color:#000c;z-index:9;width:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}.close[_ngcontent-%COMP%]{font-weight:700;font-size:28px}"]}),n})(),MD=(()=>{class n{constructor(t,r){this._UserService=t,this.router=r,this.isLogged=!1,this._UserService.loggedStatus().subscribe(s=>{this.isLogged=s})}canActivate(t,r){return!!this.isLogged||(alert("You must be Logged in"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(mw),i.LFG(sr))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eV=[{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"Home",component:CU},{path:"Profile",component:mP,canActivate:[MD]},{path:"userProfile",component:gP,canActivate:[MD]},{path:"updateUser",component:qR},{path:"Profile/:pId",component:mP,canActivate:[MD]},{path:"allproducts",component:CD},{path:"login",component:bR},{path:"register",component:NR},{path:"products/:productName",component:CD},{path:"productsCat/:productCat",component:CD},{path:"productsdetails/:productid",component:zU},{path:"cart",component:XU},{path:"**",component:EU}];let tV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[BM.forRoot(eV,{useHash:!0}),BM]}),n})();function nV(n,e){1&n&&(i.TgZ(0,"div",52)(1,"a",53),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&n&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"login")))}function rV(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",52)(1,"a",54),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.logout())}),i._uU(2),i.ALo(3,"translate"),i.qZA()()}2&n&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"logout")))}const iV=function(){return["/Home"]},sV=function(){return["/cart"]};let oV=(()=>{class n{constructor(t,r,s,l){this.translate=t,this.router=r,this.cartService=s,this._UserService=l,this.currentLang="",this.isLogged=!1,this.totalItem=0,this.currentLang=localStorage.getItem("currentLang")||"en",this.translate.use(this.currentLang),this._UserService.loggedStatus().subscribe(c=>{this.isLogged=c})}ngOnInit(){this.cartService.getProduct().subscribe(t=>{this.totalItem=0;for(let r of t)this.totalItem+=r.quantity})}onchange(t){this.router.navigate(["/products",t.target.value]),console.log(t.target.value)}changeCurrentLang(t){let r=t.target.innerText;t.target.innerText="ar"==r?"en":"ar",this.translate.use("ar"==r?"ar":"en"),localStorage.setItem("currentLang","ar"==r?"ar":"en")}logout(){localStorage.clear(),this._UserService.isLoggedSubject.next(!1),this.cartService.productList.next({})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(df),i.Y36(sr),i.Y36(T1),i.Y36(mw))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar"]],decls:85,vars:22,consts:[[1,"myNav"],[1,"container-fluid"],[1,"upperNav"],[1,"row"],[1,"col","left"],[1,"col-3"],["href","#",1,"nav-link","lang"],[1,"col-9"],["aria-current","page","href","#",1,"nav-link","d-flex"],["src","https://z.nooncdn.com/s/app/com/common/images/flags/eg.svg","alt","egy",1,"flag"],[1,"ms-2"],[1,"place"],[1,"me-2"],[1,"fa","fa-chevron-down"],[1,"selected","text-center"],[1,"col","right"],[1,"col-6"],[1,"nav-item"],["data-qa","icn_usp_easy_retuns","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["id","title"],["d","M15.4768 16.7807C14.6632 17.3121 13.6914 17.6211 12.6459 17.6211C11.8305 17.6211 11.0604 17.4332 10.3753 17.0989C9.52455 16.6837 8.80377 16.042 8.29198 15.2523C7.76672 14.4418 7.46167 13.4758 7.46167 12.4369C7.46167 11.2657 7.84944 10.1865 8.50381 9.31877C9.45083 8.06294 10.9537 7.25268 12.6459 7.25268C15.509 7.25268 17.8301 9.57373 17.8301 12.4369C17.8301 13.1716 17.6776 13.8693 17.4029 14.5013C16.9966 15.4361 16.3223 16.2284 15.4768 16.7807Z","fill","#FEEE00","stroke","#333848"],["d","M10 12.4665L11.9502 14.1997L15.3329 11","stroke","#404553","stroke-linecap","round","stroke-linejoin","round"],["d","M3.44269 4.85794L12.6196 4.85794C16.8053 4.85794 20.1985 8.25115 20.1985 12.4369V12.4369C20.1985 16.6226 16.8053 20.0158 12.6196 20.0158H10.1943","stroke","#333848","stroke-linecap","round"],["d","M4.89474 3L3 4.85794L4.89474 7.04863","stroke","#333848","stroke-linecap","round"],["d","M7.78084 20.0158H5.79318","stroke","#333848","stroke-linecap","round"],["data-qa","icn_usp_best_deals","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M20.8333 11.2525L18.6776 9.0968V5.89282C18.6776 5.57843 18.4218 5.32265 18.1074 5.32265H15.0588L12.9032 3.16701C12.7955 3.05933 12.6523 3 12.5 3C12.3477 3 12.2045 3.05933 12.0968 3.16701L9.94116 5.32269H6.89258C6.57818 5.32269 6.32241 5.57846 6.32241 5.89286V9.09687L4.16673 11.2525C3.94442 11.4748 3.94442 11.8365 4.16673 12.0588L6.32241 14.2145V17.4065C6.32241 17.7209 6.57818 17.9767 6.89258 17.9767H9.94116L12.0968 20.1324C12.2045 20.2401 12.3477 20.2994 12.5 20.2994C12.6523 20.2994 12.7955 20.2401 12.9032 20.1324L15.0588 17.9767H18.1074C18.4218 17.9767 18.6776 17.7209 18.6776 17.4065V14.2145L20.8333 12.0588C21.0556 11.8365 21.0556 11.4748 20.8333 11.2525Z","fill","#FEEE00","stroke","#404554","stroke-linecap","round","stroke-linejoin","round"],["d","M10.3288 10.6391C10.9666 10.6391 11.4837 10.122 11.4837 9.48421C11.4837 8.84638 10.9666 8.32932 10.3288 8.32932C9.69098 8.32932 9.17392 8.84638 9.17392 9.48421C9.17392 10.122 9.69098 10.6391 10.3288 10.6391Z","fill","#FFEEB7","stroke","#404554","stroke-linecap","round"],["d","M14.9666 14.842C15.6044 14.842 16.1214 14.3249 16.1214 13.6871C16.1214 13.0492 15.6044 12.5322 14.9666 12.5322C14.3287 12.5322 13.8117 13.0492 13.8117 13.6871C13.8117 14.3249 14.3287 14.842 14.9666 14.842Z","fill","#FFEEB7","stroke","#404554","stroke-linecap","round"],["d","M15.422 8.32932L9.60139 14.8469","stroke","#404554","stroke-linecap","round"],[1,"lowerNav"],[1,"navbar","navbar-expand-lg","p-0"],[1,"navbar-brand",3,"routerLink"],["src","https://z.nooncdn.com/s/app/com/noon/design-system/logos/noon-logo-en.svg","alt","Noon"],[1,"search","navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","location"],[1,"searchArea","nav-item"],["role","search",1,"d-flex","search-field"],["type","search","placeholder","what are you looking for ?","aria-label","Search",1,"form-control","me-2",3,"change"],["type","submit",1,"mybtn"],[1,"fa","fa-search"],[1,"navbar-nav","left-nav","me-auto","mb-2","mb-lg-0","ps-3",2,"flex-direction","row"],[1,"nav-item","sign","d-flex","language"],[1,"btn","btn-dark",3,"click"],["class","nav-item sign d-flex",4,"ngIf"],[1,"nav-item","sign","d-flex","text-center"],["routerLink","/userProfile",1,"nav-link"],[1,"fa","fa-user"],[1,"nav-item","cart","d-flex"],[1,"nav-link",3,"routerLink"],[1,"d-flex","flex-column","icon"],["aria-hidden","true",1,"fa","fa-shopping-cart"],[1,"nav-item","sign","d-flex"],["routerLink","/login",1,"nav-link"],["routerLink","/Home",1,"nav-link",3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5)(7,"a",6),i._uU(8,"\u0627\u0644\u0639\u0631\u0628\u064a\u0647"),i.qZA()(),i.TgZ(9,"div",7)(10,"a",8),i._UZ(11,"img",9),i.TgZ(12,"div",10)(13,"div",11)(14,"span",12),i._uU(15),i.ALo(16,"translate"),i.qZA(),i._UZ(17,"i",13),i.qZA(),i.TgZ(18,"span",14),i._uU(19),i.ALo(20,"translate"),i.qZA()()()()()(),i.TgZ(21,"div",15)(22,"div",3)(23,"div",16)(24,"div",17),i.O4$(),i.TgZ(25,"svg",18)(26,"title",19),i._uU(27,"usp_easy_retuns"),i.qZA(),i._UZ(28,"path",20)(29,"path",21)(30,"path",22)(31,"path",23)(32,"path",24),i.qZA(),i.kcU(),i.TgZ(33,"span"),i._uU(34,"Free & Easy Returns"),i.qZA()()(),i.TgZ(35,"div",16)(36,"div",17),i.O4$(),i.TgZ(37,"svg",25)(38,"title",19),i._uU(39,"usp_best_deals"),i.qZA(),i._UZ(40,"path",26)(41,"path",27)(42,"path",28)(43,"path",29),i.qZA(),i.kcU(),i.TgZ(44,"span"),i._uU(45,"Best Deals"),i.qZA()()()()()()(),i.TgZ(46,"div",30)(47,"nav",31)(48,"a",32),i._UZ(49,"img",33),i.qZA(),i.TgZ(50,"ul",34)(51,"li",35)(52,"a",8),i._UZ(53,"img",9),i.TgZ(54,"div",10)(55,"div",11)(56,"span",12),i._uU(57),i.ALo(58,"translate"),i.qZA(),i._UZ(59,"i",13),i.qZA(),i.TgZ(60,"span",14),i._uU(61),i.ALo(62,"translate"),i.qZA()()()(),i.TgZ(63,"li",36)(64,"div",37)(65,"input",38),i.NdJ("change",function(l){return r.onchange(l)}),i.qZA(),i.TgZ(66,"button",39),i._UZ(67,"i",40),i.qZA()()()(),i.TgZ(68,"div",41)(69,"div",42)(70,"span",43),i.NdJ("click",function(l){return r.changeCurrentLang(l)}),i._uU(71,"ar"),i.qZA()(),i.YNc(72,nV,4,3,"div",44),i.YNc(73,rV,4,3,"div",44),i.TgZ(74,"div",45)(75,"a",46),i._UZ(76,"i",47),i.qZA()(),i.TgZ(77,"div",48)(78,"a",49),i._uU(79),i.ALo(80,"translate"),i.qZA(),i.TgZ(81,"div",50)(82,"span"),i._uU(83),i.qZA(),i._UZ(84,"i",51),i.qZA()()()()()()()),2&t&&(i.xp6(15),i.hij("",i.lcZ(16,10,"Delievered to")," "),i.xp6(4),i.hij(" ",i.lcZ(20,12,"Cairo, Egypt"),""),i.xp6(29),i.Q6J("routerLink",i.DdM(20,iV)),i.xp6(9),i.Oqu(i.lcZ(58,14,"Delievered to")),i.xp6(4),i.Oqu(i.lcZ(62,16,"Cairo, Egypt")),i.xp6(11),i.Q6J("ngIf",!r.isLogged),i.xp6(1),i.Q6J("ngIf",r.isLogged),i.xp6(5),i.Q6J("routerLink",i.DdM(21,sV)),i.xp6(1),i.Oqu(i.lcZ(80,18,"Cart")),i.xp6(4),i.Oqu(r.totalItem))},dependencies:[Sn,ng,ru],styles:['.myNav[_ngcontent-%COMP%]{font-size:16px;background-color:#feee00}.myNav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#404553}.myNav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{transition:all .5s ease-in-out}.myNav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{border-bottom:1px solid #000;transform:scale(.95)}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]{display:none}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{margin-top:5px}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{line-height:1.5;margin-top:15px;margin-left:20px;font-weight:700}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .place[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#404553}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{margin-top:15px}.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-left:5px;color:#404553}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{flex-grow:1}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{height:20px;margin:auto}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{margin-left:10px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .place[_ngcontent-%COMP%]{font-size:14px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .place[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px!important}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .searchArea[_ngcontent-%COMP%]{flex-grow:1;position:relative}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .searchArea[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{margin-top:12px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .searchArea[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   .mybtn[_ngcontent-%COMP%]{color:#404553;transition:all .5s ease-in-out;position:absolute;right:10px;font-size:21px;border:none;background:transparent}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .searchArea[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   .mybtn[_ngcontent-%COMP%]:hover{background-color:#c5b803;color:#fff}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .searchArea[_ngcontent-%COMP%]:hover{border:none}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{font-weight:700}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{font-family:Cairo;cursor:pointer}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]:after{content:"";border:1px solid #404553;height:20px;margin-left:10px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#404553;transition:all .5s ease-in-out}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#000}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .sign[_ngcontent-%COMP%]:after{content:"";border:1px solid #404553;height:20px;margin:auto auto auto 10px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:10px;bottom:12px;color:#fff;padding:0 5px;border-radius:50%}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:38px;color:#404553;transition:all .5s ease-in-out}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 992px){.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]{display:block}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]{padding-right:0!important}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{flex-wrap:nowrap}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .left-nav[_ngcontent-%COMP%]{font-size:14px;padding-left:0!important}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:none}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .language[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 768px){.myNav[_ngcontent-%COMP%]   .upperNav[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:none}}@media (max-width: 500px){.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100px}.myNav[_ngcontent-%COMP%]   .lowerNav[_ngcontent-%COMP%]   .left-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.8rem}}']}),n})();function aV(n,e){if(1&n&&(i.TgZ(0,"li",35),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.MGl("routerLink","/productsCat/",t,""),i.xp6(1),i.hij(" ",t,"")}}function lV(n,e){if(1&n&&(i.TgZ(0,"li",36),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.hij(" ",t,"")}}function uV(n,e){if(1&n&&(i.TgZ(0,"li",37),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.hij(" ",t,"")}}function cV(n,e){if(1&n&&(i.TgZ(0,"div",38)(1,"div",39)(2,"a"),i._UZ(3,"img",40),i.qZA()()()),2&n){const t=e.$implicit;i.xp6(3),i.Q6J("src",t,i.LSH)}}let dV=(()=>{class n{constructor(){this.Categorey="Electronics",this.cats=[],this.brands=[],this.show=!0,this.menu=!0,this.brandsImg=[],this.mobilesImg=["https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png","https://z.nooncdn.com/cms/pages/20210410/2a23ead9569718f23f16e78305f07230/drop-brand-02.png"],this.electronicsImg=["https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png","https://z.nooncdn.com/cms/pages/20210408/9852ea7d5c33973a1761053b129a047b/drop-brand-06.png"],this.ElectronicsCat=["laptops","lighting","Accessories","Audio & Home Entertainment","Video Games","Cameras & Accessories","Printers & Accessories","Networking Products","Data Storage","Computer Components","Computer Accessories"],this.ElectronicsBrand=["Samsung","LG","Sony","Lenovo","Dell","HP","Apple","Canon","Cager"],this.MobilesCat=[" Mobile New Arrivals","All Mobile Phones","All Tablets","Smartwatches & Accessories","Wireless Earphones","Earphones","Power Banks","Chargers & Cables","Selfie Sticks & Holders","Covers & Screen protectors","Mobile Gaming & VR Gadgets","Micro SD Cards"],this.MobilesBrand=["Samsung","Xiaomi","Apple","Huawei","Oppo","nokia","Honor","realme","infinix"],this.type=localStorage.getItem("sellerCode")?.toString()||0,console.log(this.type),this.isSeller=this.type>0}ngOnInit(){console.log(window.innerWidth)}showfun(){this.show=!1}hidefun(){this.show=!0}changeCat(t){switch(t.target.innerText){case"Electronics":default:this.cats=this.ElectronicsCat,this.brands=this.ElectronicsBrand,this.Categorey=t.target.innerText;break;case"Mobiles":this.cats=this.MobilesCat,this.brands=this.MobilesBrand,this.Categorey=t.target.innerText}}showmenu(t){switch(this.menu=!1,t.target.innerText){case"ELECTRONICS":default:this.cats=this.ElectronicsCat,this.brandsImg=this.electronicsImg,this.Categorey=t.target.innerText;break;case"MOBILES":this.cats=this.MobilesCat,this.brandsImg=this.mobilesImg,this.Categorey=t.target.innerText}}hidemenu(){this.menu=!0}goTo(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-nav-categories"]],decls:100,vars:70,consts:[[1,"navbar","navbar-expand","navbar-light","py-0","bg-light","border","border-top-0"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"scroll-bar"],[1,"navbar-nav"],[1,"nav-cat",3,"mouseover","mouseleave"],["routerLink","/allproducts",1,"nav-link","text-primary","nav-cat-text"],[1,"fa","fa","fa-angle-down","ps-4"],[1,"nav-item",3,"mouseover","mouseleave"],["aria-current","page","href","#",1,"nav-link"],["href","#",1,"nav-link"],[1,"nav-item","min-width"],["routerLink","/Profile",1,"nav-link","text-danger","fw-bold"],[1,"extened-menu",3,"hidden"],[1,"row","gx-0","w-50",3,"mouseover","mouseleave"],[1,"col-4","categories"],[1,"list-group-item","border-0",3,"mouseover"],[1,"col-4","details","p-3"],[1,"list-group-item","text-black","fw-bolder","border-0"],["class","list-group-item border-0 py-1",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item","text-black","fw-bolder","border-0","pt-5","mt-3"],["class","list-group-item border-0  py-1",4,"ngFor","ngForOf"],[1,"row","gx-0","w-100","bg-white",3,"mouseover","mouseleave"],[1,"col-3","col-md-2","details"],[1,"list-group-item","border-0","fw-bolder","text-black"],["class","list-group-item border-0 ",4,"ngFor","ngForOf"],[1,"col-3","col-md-4","bg-white","brands"],[1,"my-3"],[1,"row","gy-1","gy-lg-3","gx-1","gx-lg-3"],["class","col-4 ",4,"ngFor","ngForOf"],[1,"col-3","ms-3","mt-5"],["width","100%","src","https://z.nooncdn.com/cms/pages/20210408/2792ffeaded707bd95f25bd124a83af9/en_drop-01.png",1,"imgHeight"],[1,"col-2","ms-3","mt-5"],["width","100%","src","https://z.nooncdn.com/cms/pages/20210408/2792ffeaded707bd95f25bd124a83af9/en_drop-02.png",1,"imgHeight"],[1,"list-group-item","border-0","py-1",3,"routerLink"],[1,"list-group-item","border-0","py-1"],[1,"list-group-item","border-0"],[1,"col-4"],[1,"border","border-2"],["width","100%","alt","url",1,"w-100",3,"src"]],template:function(t,r){1&t&&(i.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),i._UZ(3,"span",3),i.qZA(),i.TgZ(4,"div",4)(5,"ul",5)(6,"li",6),i.NdJ("mouseover",function(){return r.showfun()})("mouseleave",function(){return r.hidefun()}),i.TgZ(7,"a",7),i._uU(8),i.ALo(9,"translate"),i._UZ(10,"i",8),i.qZA()(),i.TgZ(11,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(12,"a",10),i._uU(13),i.ALo(14,"translate"),i.qZA()(),i.TgZ(15,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(16,"a",11),i._uU(17),i.ALo(18,"translate"),i.qZA()(),i.TgZ(19,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(20,"a",11),i._uU(21),i.ALo(22,"translate"),i.qZA()(),i.TgZ(23,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(24,"a",11),i._uU(25),i.ALo(26,"translate"),i.qZA()(),i.TgZ(27,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(28,"a",11),i._uU(29),i.ALo(30,"translate"),i.qZA()(),i.TgZ(31,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(32,"a",11),i._uU(33),i.ALo(34,"translate"),i.qZA()(),i.TgZ(35,"li",9),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(36,"a",11),i._uU(37),i.ALo(38,"translate"),i.qZA()(),i.TgZ(39,"li",12)(40,"a",13),i._uU(41),i.ALo(42,"translate"),i.qZA()()()()()(),i.TgZ(43,"div",14)(44,"div",15),i.NdJ("mouseover",function(){return r.showfun()})("mouseleave",function(){return r.hidefun()}),i.TgZ(45,"ul",16)(46,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(47),i.ALo(48,"translate"),i.qZA(),i.TgZ(49,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(50),i.ALo(51,"translate"),i.qZA(),i.TgZ(52,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(53),i.ALo(54,"translate"),i.qZA(),i.TgZ(55,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(56),i.ALo(57,"translate"),i.qZA(),i.TgZ(58,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(59),i.ALo(60,"translate"),i.qZA(),i.TgZ(61,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(62),i.ALo(63,"translate"),i.qZA(),i.TgZ(64,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(65),i.ALo(66,"translate"),i.qZA(),i.TgZ(67,"li",17),i.NdJ("mouseover",function(l){return r.changeCat(l)}),i._uU(68),i.ALo(69,"translate"),i.qZA()(),i.TgZ(70,"ul",18)(71,"h5"),i._uU(72),i.qZA(),i._UZ(73,"hr"),i.TgZ(74,"li",19),i._uU(75),i.ALo(76,"translate"),i.qZA(),i.YNc(77,aV,2,2,"li",20),i.qZA(),i.TgZ(78,"ul",18)(79,"li",21),i._uU(80),i.ALo(81,"translate"),i.qZA(),i.YNc(82,lV,2,1,"li",22),i.qZA()()(),i.TgZ(83,"div",14)(84,"div",23),i.NdJ("mouseover",function(l){return r.showmenu(l)})("mouseleave",function(){return r.hidemenu()}),i.TgZ(85,"ul",24)(86,"li",25),i._uU(87),i.ALo(88,"translate"),i.qZA(),i.YNc(89,uV,2,1,"li",26),i.qZA(),i.TgZ(90,"div",27)(91,"h6",28),i._uU(92),i.ALo(93,"translate"),i.qZA(),i.TgZ(94,"div",29),i.YNc(95,cV,4,1,"div",30),i.qZA()(),i.TgZ(96,"div",31),i._UZ(97,"img",32),i.qZA(),i.TgZ(98,"div",33),i._UZ(99,"img",34),i.qZA()()()),2&t&&(i.xp6(8),i.Oqu(i.lcZ(9,28,"ALL CATEGORIES")),i.xp6(5),i.Oqu(i.lcZ(14,30,"ELECTRONICS")),i.xp6(4),i.Oqu(i.lcZ(18,32,"MOBILES")),i.xp6(4),i.Oqu(i.lcZ(22,34,"MEN")),i.xp6(4),i.Oqu(i.lcZ(26,36,"WOMEN")),i.xp6(4),i.Oqu(i.lcZ(30,38,"HOME")),i.xp6(4),i.hij(" ",i.lcZ(34,40,"BEUATY&HEALTHY"),""),i.xp6(4),i.Oqu(i.lcZ(38,42,"SUPERMARKET")),i.xp6(4),i.Oqu(i.lcZ(42,44,"SELL ON NOON")),i.xp6(2),i.Q6J("hidden",r.show),i.xp6(4),i.Oqu(i.lcZ(48,46,"Electronics")),i.xp6(3),i.Oqu(i.lcZ(51,48,"Mobiles")),i.xp6(3),i.hij(" ",i.lcZ(54,50,"Grocery"),""),i.xp6(3),i.Oqu(i.lcZ(57,52,"Beauty & Health")),i.xp6(3),i.hij(" ",i.lcZ(60,54,"Fashion"),""),i.xp6(3),i.hij(" ",i.lcZ(63,56,"Baby Products"),""),i.xp6(3),i.hij(" ",i.lcZ(66,58,"Books"),""),i.xp6(3),i.hij(" ",i.lcZ(69,60,"Music"),""),i.xp6(4),i.Oqu(r.Categorey),i.xp6(3),i.Oqu(i.lcZ(76,62,"Most popular")),i.xp6(2),i.Q6J("ngForOf",r.cats),i.xp6(3),i.Oqu(i.lcZ(81,64,"Top Brands")),i.xp6(2),i.Q6J("ngForOf",r.brands),i.xp6(1),i.Q6J("hidden",r.menu),i.xp6(4),i.Oqu(i.lcZ(88,66,"Categoreies")),i.xp6(2),i.Q6J("ngForOf",r.cats),i.xp6(3),i.Oqu(i.lcZ(93,68,"Top Brands")),i.xp6(3),i.Q6J("ngForOf",r.brandsImg))},dependencies:[Hr,lf,ng,ru],styles:[".scroll-bar[_ngcontent-%COMP%]{overflow-x:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.nav-cat[_ngcontent-%COMP%]{box-shadow:1px 0 #dfe1df}.nav-cat[_ngcontent-%COMP%]   .nav-cat-text[_ngcontent-%COMP%]{min-width:160px;font-size:14px;font-weight:500}.nav-item[_ngcontent-%COMP%]{padding:0 15px!important;font-size:14px;font-weight:500;text-align:center}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#000}.min-width[_ngcontent-%COMP%]{min-width:150px}.nav-item[_ngcontent-%COMP%]:hover{background-color:#fff;box-shadow:1px 0 #dfe1df,-1px 0 #c7cbc7}.extened-menu[_ngcontent-%COMP%]{background-color:#1818184d;position:absolute;padding:0;top:99px;bottom:0%;right:0%;left:0%;border:0px;z-index:100}.extened-menu[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}@media only screen and (max-width: 992px){.extened-menu[_ngcontent-%COMP%]{top:162px}.imgHeight[_ngcontent-%COMP%]{height:200px!important}}@media only screen and (max-width: 512px){.extened-menu[_ngcontent-%COMP%]{top:162px}.imgHeight[_ngcontent-%COMP%]{height:130px!important}}.categories[_ngcontent-%COMP%], .categories[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#f8f9fa}.details[_ngcontent-%COMP%]{background-color:#fff}.details[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;font-size:13px}.list-group-item[_ngcontent-%COMP%]:hover{color:#00f}.imgHeight[_ngcontent-%COMP%]{height:300px}"]}),n})(),hV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-footer"]],decls:344,vars:201,consts:[[1,"footerSection"],[1,"upper"],[1,"row"],[1,"col-lg-5"],[1,"upperLeft"],[1,"col-lg-7"],[1,"upperRight"],[1,"col-sm-4"],[1,"contactWays"],["aria-hidden","true",1,"fa","fa-exclamation"],[1,"content"],["href","#"],["aria-hidden","true",1,"fa","fa-envelope"],["href","mailto:egypt@noon.com","target","_blank"],["aria-hidden","true",1,"fa","fa-phone"],["href",""],[1,"container-fluid"],[1,"middel"],[1,"col-xl-2","col-md-4","col-6"],[1,"header"],[1,"list-unstyled"],[1,"lower"],[1,"col-sm-6","mb-2"],[1,"d-flex","flex-column","align-items-center"],[1,"d-flex"],["href","#",1,"myLink"],["src","https://z.nooncdn.com/s/app/com/common/images/logos/app-store.svg"],["src","https://z.nooncdn.com/s/app/com/common/images/logos/google-play.svg"],[1,"col-sm-6"],[1,"list-unstyled","d-flex"],["aria-hidden","true",1,"fa","fa-facebook"],["aria-hidden","true",1,"fa","fa-twitter"],["aria-hidden","true",1,"fa","fa-instagram"],["aria-hidden","true",1,"fa","fa-linkedin"],[1,"copyRight"],[1,"col-md-5"],[1,"copyText","text-center"],[1,"payWays"],[1,"d-flex","list-unstyled","justify-content-around"],["src","https://z.nooncdn.com/s/app/com/noon/images/visa-color.svg"],["src","https://z.nooncdn.com/s/app/com/noon/images/mastercard-color.svg"],["src","https://z.nooncdn.com/s/app/com/noon/images/cash-color.svg"],["src","https://z.nooncdn.com/s/app/com/noon/images/amex-color.svg"],[1,"col-md-7"],[1,"nav","justify-content-center","links"],[1,"nav-item"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"p"),i._uU(9),i.ALo(10,"translate"),i.qZA()()(),i.TgZ(11,"div",5)(12,"div",6)(13,"div",2)(14,"div",7)(15,"div",8)(16,"p"),i._UZ(17,"i",9),i.qZA(),i.TgZ(18,"div",10)(19,"h5"),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.TgZ(22,"a",11)(23,"h3"),i._uU(24,"help.noon.com"),i.qZA()()()()(),i.TgZ(25,"div",7)(26,"div",8)(27,"p"),i._UZ(28,"i",12),i.qZA(),i.TgZ(29,"div",10)(30,"h5"),i._uU(31),i.ALo(32,"translate"),i.qZA(),i.TgZ(33,"a",13)(34,"h3"),i._uU(35,"egypt@noon.com"),i.qZA()()()()(),i.TgZ(36,"div",7)(37,"div",8)(38,"p"),i._UZ(39,"i",14),i.qZA(),i.TgZ(40,"div",10)(41,"h5"),i._uU(42),i.ALo(43,"translate"),i.qZA(),i.TgZ(44,"a",15)(45,"h3"),i._uU(46,"16358"),i.qZA()()()()()()()()()(),i.TgZ(47,"div",16)(48,"div",17)(49,"div",2)(50,"div",18)(51,"h3",19),i._uU(52),i.ALo(53,"translate"),i.qZA(),i.TgZ(54,"ul",20)(55,"li")(56,"a"),i._uU(57),i.ALo(58,"translate"),i.qZA()(),i.TgZ(59,"li")(60,"a"),i._uU(61),i.ALo(62,"translate"),i.qZA()(),i.TgZ(63,"li")(64,"a"),i._uU(65),i.ALo(66,"translate"),i.qZA()(),i.TgZ(67,"li")(68,"a"),i._uU(69),i.ALo(70,"translate"),i.qZA()(),i.TgZ(71,"li")(72,"a"),i._uU(73),i.ALo(74,"translate"),i.qZA()(),i.TgZ(75,"li")(76,"a"),i._uU(77),i.ALo(78,"translate"),i.qZA()(),i.TgZ(79,"li")(80,"a"),i._uU(81),i.ALo(82,"translate"),i.qZA()(),i.TgZ(83,"li")(84,"a"),i._uU(85),i.ALo(86,"translate"),i.qZA()()()(),i.TgZ(87,"div",18)(88,"h3",19),i._uU(89),i.ALo(90,"translate"),i.qZA(),i.TgZ(91,"ul",20)(92,"li")(93,"a"),i._uU(94),i.ALo(95,"translate"),i.qZA()(),i.TgZ(96,"li")(97,"a"),i._uU(98),i.ALo(99,"translate"),i.qZA()(),i.TgZ(100,"li")(101,"a"),i._uU(102),i.ALo(103,"translate"),i.qZA()(),i.TgZ(104,"li")(105,"a"),i._uU(106),i.ALo(107,"translate"),i.qZA()(),i.TgZ(108,"li")(109,"a"),i._uU(110),i.ALo(111,"translate"),i.qZA()(),i.TgZ(112,"li")(113,"a"),i._uU(114),i.ALo(115,"translate"),i.qZA()(),i.TgZ(116,"li")(117,"a"),i._uU(118),i.ALo(119,"translate"),i.qZA()(),i.TgZ(120,"li")(121,"a"),i._uU(122),i.ALo(123,"translate"),i.qZA()()()(),i.TgZ(124,"div",18)(125,"h3",19),i._uU(126),i.ALo(127,"translate"),i.qZA(),i.TgZ(128,"ul",20)(129,"li")(130,"a"),i._uU(131),i.ALo(132,"translate"),i.qZA()(),i.TgZ(133,"li")(134,"a"),i._uU(135),i.ALo(136,"translate"),i.qZA()(),i.TgZ(137,"li")(138,"a"),i._uU(139),i.ALo(140,"translate"),i.qZA()(),i.TgZ(141,"li")(142,"a"),i._uU(143),i.ALo(144,"translate"),i.qZA()(),i.TgZ(145,"li")(146,"a"),i._uU(147),i.ALo(148,"translate"),i.qZA()(),i.TgZ(149,"li")(150,"a"),i._uU(151),i.ALo(152,"translate"),i.qZA()(),i.TgZ(153,"li")(154,"a"),i._uU(155),i.ALo(156,"translate"),i.qZA()(),i.TgZ(157,"li")(158,"a"),i._uU(159),i.ALo(160,"translate"),i.qZA()()()(),i.TgZ(161,"div",18)(162,"h3",19),i._uU(163),i.ALo(164,"translate"),i.qZA(),i.TgZ(165,"ul",20)(166,"li")(167,"a"),i._uU(168),i.ALo(169,"translate"),i.qZA()(),i.TgZ(170,"li")(171,"a"),i._uU(172),i.ALo(173,"translate"),i.qZA()(),i.TgZ(174,"li")(175,"a"),i._uU(176),i.ALo(177,"translate"),i.qZA()(),i.TgZ(178,"li")(179,"a"),i._uU(180),i.ALo(181,"translate"),i.qZA()(),i.TgZ(182,"li")(183,"a"),i._uU(184),i.ALo(185,"translate"),i.qZA()(),i.TgZ(186,"li")(187,"a"),i._uU(188),i.ALo(189,"translate"),i.qZA()(),i.TgZ(190,"li")(191,"a"),i._uU(192),i.ALo(193,"translate"),i.qZA()()()(),i.TgZ(194,"div",18)(195,"h3",19),i._uU(196),i.ALo(197,"translate"),i.qZA(),i.TgZ(198,"ul",20)(199,"li")(200,"a"),i._uU(201),i.ALo(202,"translate"),i.qZA()(),i.TgZ(203,"li")(204,"a"),i._uU(205),i.ALo(206,"translate"),i.qZA()(),i.TgZ(207,"li")(208,"a"),i._uU(209),i.ALo(210,"translate"),i.qZA()(),i.TgZ(211,"li")(212,"a"),i._uU(213),i.ALo(214,"translate"),i.qZA()(),i.TgZ(215,"li")(216,"a"),i._uU(217),i.ALo(218,"translate"),i.qZA()(),i.TgZ(219,"li")(220,"a"),i._uU(221),i.ALo(222,"translate"),i.qZA()(),i.TgZ(223,"li")(224,"a"),i._uU(225),i.ALo(226,"translate"),i.qZA()(),i.TgZ(227,"li")(228,"a"),i._uU(229),i.ALo(230,"translate"),i.qZA()()()(),i.TgZ(231,"div",18)(232,"h3",19),i._uU(233),i.ALo(234,"translate"),i.qZA(),i.TgZ(235,"ul",20)(236,"li")(237,"a"),i._uU(238),i.ALo(239,"translate"),i.qZA()(),i.TgZ(240,"li")(241,"a"),i._uU(242),i.ALo(243,"translate"),i.qZA()(),i.TgZ(244,"li")(245,"a"),i._uU(246),i.ALo(247,"translate"),i.qZA()(),i.TgZ(248,"li")(249,"a"),i._uU(250),i.ALo(251,"translate"),i.qZA()(),i.TgZ(252,"li")(253,"a"),i._uU(254),i.ALo(255,"translate"),i.qZA()(),i.TgZ(256,"li")(257,"a"),i._uU(258),i.ALo(259,"translate"),i.qZA()(),i.TgZ(260,"li")(261,"a"),i._uU(262),i.ALo(263,"translate"),i.qZA()(),i.TgZ(264,"li")(265,"a"),i._uU(266),i.ALo(267,"translate"),i.qZA()()()()()(),i.TgZ(268,"div",21)(269,"div",2)(270,"div",22)(271,"div",23)(272,"h4"),i._uU(273),i.ALo(274,"translate"),i.qZA(),i.TgZ(275,"div",24)(276,"a",25),i._UZ(277,"img",26),i.qZA(),i.TgZ(278,"a",25),i._UZ(279,"img",27),i.qZA()()()(),i.TgZ(280,"div",28)(281,"div",23)(282,"h4"),i._uU(283),i.ALo(284,"translate"),i.qZA(),i.TgZ(285,"ul",29)(286,"li")(287,"p"),i._UZ(288,"i",30),i.qZA()(),i.TgZ(289,"li")(290,"p"),i._UZ(291,"i",31),i.qZA()(),i.TgZ(292,"li")(293,"p"),i._UZ(294,"i",32),i.qZA()(),i.TgZ(295,"li")(296,"p"),i._UZ(297,"i",33),i.qZA()()()()()()()(),i.TgZ(298,"div",34)(299,"div",2)(300,"div",35)(301,"div",2)(302,"div",28)(303,"div",36)(304,"p"),i._uU(305),i.ALo(306,"translate"),i.qZA()()(),i.TgZ(307,"div",28)(308,"div",37)(309,"ul",38)(310,"li"),i._UZ(311,"img",39),i.qZA(),i.TgZ(312,"li"),i._UZ(313,"img",40),i.qZA(),i.TgZ(314,"li"),i._UZ(315,"img",41),i.qZA(),i.TgZ(316,"li"),i._UZ(317,"img",42),i.qZA()()()()()(),i.TgZ(318,"div",43)(319,"ul",44)(320,"li",45)(321,"a",25),i._uU(322),i.ALo(323,"translate"),i.qZA()(),i.TgZ(324,"li",45)(325,"a",25),i._uU(326),i.ALo(327,"translate"),i.qZA()(),i.TgZ(328,"li",45)(329,"a",25),i._uU(330),i.ALo(331,"translate"),i.qZA()(),i.TgZ(332,"li",45)(333,"a",25),i._uU(334),i.ALo(335,"translate"),i.qZA()(),i.TgZ(336,"li",45)(337,"a",25),i._uU(338),i.ALo(339,"translate"),i.qZA()(),i.TgZ(340,"li",45)(341,"a",25),i._uU(342),i.ALo(343,"translate"),i.qZA()()()()()()()),2&t&&(i.xp6(6),i.Oqu(i.lcZ(7,67,"We're Always Here To Help")),i.xp6(3),i.Oqu(i.lcZ(10,69,"Reach out to us through any of these support channels")),i.xp6(11),i.Oqu(i.lcZ(21,71,"HELP CENTER")),i.xp6(11),i.Oqu(i.lcZ(32,73,"EMAIL SUPPORT")),i.xp6(11),i.Oqu(i.lcZ(43,75,"PHONE SUPPORT")),i.xp6(10),i.Oqu(i.lcZ(53,77,"ELECTRONICS")),i.xp6(5),i.Oqu(i.lcZ(58,79,"Mobiles")),i.xp6(4),i.Oqu(i.lcZ(62,81,"Tablets")),i.xp6(4),i.Oqu(i.lcZ(66,83,"Laptops")),i.xp6(4),i.Oqu(i.lcZ(70,85,"Home Appliances")),i.xp6(4),i.Oqu(i.lcZ(74,87,"Camera, Photo & Video")),i.xp6(4),i.Oqu(i.lcZ(78,89,"Televisions")),i.xp6(4),i.Oqu(i.lcZ(82,91,"Headphones")),i.xp6(4),i.Oqu(i.lcZ(86,93,"Video Games")),i.xp6(4),i.Oqu(i.lcZ(90,95,"FASHION")),i.xp6(5),i.Oqu(i.lcZ(95,97,"Women's Fashion")),i.xp6(4),i.Oqu(i.lcZ(99,99,"Men's Fashion")),i.xp6(4),i.Oqu(i.lcZ(103,101,"Girls' Fashion")),i.xp6(4),i.Oqu(i.lcZ(107,103,"Boys' Fashion")),i.xp6(4),i.Oqu(i.lcZ(111,105,"Men's Watches")),i.xp6(4),i.Oqu(i.lcZ(115,107,"Women's Watches")),i.xp6(4),i.Oqu(i.lcZ(119,109,"Eyewear")),i.xp6(4),i.Oqu(i.lcZ(123,111,"Bags & Luggage")),i.xp6(4),i.Oqu(i.lcZ(127,113,"HOME AND KITCHEN")),i.xp6(5),i.Oqu(i.lcZ(132,115,"Kitchen & Dining")),i.xp6(4),i.Oqu(i.lcZ(136,117,"Bedding")),i.xp6(4),i.Oqu(i.lcZ(140,119,"Bath")),i.xp6(4),i.Oqu(i.lcZ(144,121,"Home Decor")),i.xp6(4),i.Oqu(i.lcZ(148,123,"Home Appliances")),i.xp6(4),i.Oqu(i.lcZ(152,125,"Tools & Home Improvement")),i.xp6(4),i.Oqu(i.lcZ(156,127,"Patio, Lawn & Garden")),i.xp6(4),i.Oqu(i.lcZ(160,129,"Home Storage & Organisation")),i.xp6(4),i.Oqu(i.lcZ(164,131,"BEAUTY")),i.xp6(5),i.Oqu(i.lcZ(169,133,"Women's Fragrance")),i.xp6(4),i.Oqu(i.lcZ(173,135,"Men's Fragrance")),i.xp6(4),i.Oqu(i.lcZ(177,137,"Make-Up")),i.xp6(4),i.Oqu(i.lcZ(181,139,"Haircare")),i.xp6(4),i.Oqu(i.lcZ(185,141,"Skincare")),i.xp6(4),i.Oqu(i.lcZ(189,143,"Personal Care")),i.xp6(4),i.Oqu(i.lcZ(193,145,"Tools & Accessories")),i.xp6(4),i.Oqu(i.lcZ(197,147,"KIDS, BABY & TOYS")),i.xp6(5),i.Oqu(i.lcZ(202,149,"Strollers, Prams & Accessories")),i.xp6(4),i.Oqu(i.lcZ(206,151,"Car Seats")),i.xp6(4),i.Oqu(i.lcZ(210,153,"Baby Clothing")),i.xp6(4),i.Oqu(i.lcZ(214,155,"Feeding")),i.xp6(4),i.Oqu(i.lcZ(218,157,"Bathing & Skincare")),i.xp6(4),i.Oqu(i.lcZ(222,159,"Diapering")),i.xp6(4),i.Oqu(i.lcZ(226,161,"Baby & Toddler Toys")),i.xp6(4),i.Oqu(i.lcZ(230,163,"Toys & Games")),i.xp6(4),i.Oqu(i.lcZ(234,165,"TOP BRANDS")),i.xp6(5),i.Oqu(i.lcZ(239,167,"Apple")),i.xp6(4),i.Oqu(i.lcZ(243,169,"Samsung")),i.xp6(4),i.Oqu(i.lcZ(247,171,"Nike")),i.xp6(4),i.Oqu(i.lcZ(251,173,"Ray-Ban")),i.xp6(4),i.Oqu(i.lcZ(255,175,"Tefal")),i.xp6(4),i.Oqu(i.lcZ(259,177,"L'Oreal Paris")),i.xp6(4),i.Oqu(i.lcZ(263,179,"Chicco")),i.xp6(4),i.Oqu(i.lcZ(267,181,"Tornado")),i.xp6(7),i.Oqu(i.lcZ(274,183,"SHOP ON THE GO")),i.xp6(10),i.Oqu(i.lcZ(284,185,"CONNECT WITH US")),i.xp6(22),i.hij("\xa9",i.lcZ(306,187,"2022 noon. All Rights Reserved"),""),i.xp6(17),i.Oqu(i.lcZ(323,189,"Careers")),i.xp6(4),i.Oqu(i.lcZ(327,191,"Warranty Policy")),i.xp6(4),i.Oqu(i.lcZ(331,193,"Sell with us")),i.xp6(4),i.Oqu(i.lcZ(335,195,"Terms of Use")),i.xp6(4),i.Oqu(i.lcZ(339,197,"Terms of Sale")),i.xp6(4),i.Oqu(i.lcZ(343,199,"Privacy Policy")))},dependencies:[ru],styles:[".footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]{background-color:#f7f7fa;padding:20px 20px 0;border-bottom:1px solid rgb(184,186,191)}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperLeft[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#404553}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperLeft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#7e859b;margin-top:5px}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]{cursor:pointer;display:flex;transition:all .5s ease-in-out;padding:0 10px 10px 0}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border:1px solid rgb(226,229,241);background-color:#fff;border-radius:50%;width:40px;height:40px;padding:9px;display:flex;justify-content:center;align-items:center;box-sizing:border-box;margin:10px 10px 0 0}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;white-space:nowrap;color:#7e859b}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem;color:#404553;line-height:1.4;white-space:nowrap}.footerSection[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]   .upperRight[_ngcontent-%COMP%]   .contactWays[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.footerSection[_ngcontent-%COMP%]   .middel[_ngcontent-%COMP%]{padding:20px}.footerSection[_ngcontent-%COMP%]   .middel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;padding-bottom:12px;font-size:1.1rem}.footerSection[_ngcontent-%COMP%]   .middel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px;cursor:pointer}.footerSection[_ngcontent-%COMP%]   .middel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem;color:#7e859b}.footerSection[_ngcontent-%COMP%]   .middel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#000}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#404553;margin-bottom:8px;font-size:1rem}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   .myLink[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35px;transition:all .5s ease-in-out}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   .myLink[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.8}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 7px}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border:1px solid rgb(226,229,241);background-color:#feee00;border-radius:50%;width:40px;height:40px;padding:9px;display:flex;justify-content:center;align-items:center;box-sizing:border-box;transition:all .5s ease-in-out}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.footerSection[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#404553;color:#ff0}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]{background-color:#f7f7fa;padding:20px 20px 40px;border-top:1px solid rgb(184,186,191)}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .copyText[_ngcontent-%COMP%]{padding-left:10px}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .copyText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#7e859b;margin-top:5px}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .payWays[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:25px}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .payWays[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .myLink[_ngcontent-%COMP%]{text-decoration:none;font-size:.9rem;color:#7e859b;padding:7px;transition:all .5s ease-in-out}.footerSection[_ngcontent-%COMP%]   .copyRight[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .myLink[_ngcontent-%COMP%]:hover{color:#000}"]}),n})(),fV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-layout"]],decls:5,vars:0,consts:[[1,"content-body"]],template:function(t,r){1&t&&(i._UZ(0,"app-navbar")(1,"app-nav-categories"),i.TgZ(2,"div",0),i._UZ(3,"router-outlet"),i.qZA(),i._UZ(4,"app-footer"))},dependencies:[i1,oV,dV,hV]}),n})(),pV=(()=>{class n{constructor(t){this.translate=t,this.currentLang="",this.title="noon",this.currentLang=localStorage.getItem("currentLang")||"en",this.translate.use(this.currentLang)}changeCurrentLang(t){this.translate.use(t),localStorage.setItem("currentLang",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(df))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&i._UZ(0,"app-layout")(1,"router-outlet")},dependencies:[i1,fV]}),n})();class gV{constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}let mV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[pV]}),n.\u0275inj=i.cJS({imports:[Un,tV,qr.hO.initializeApp(Da_firebaseConfig),aw,CF,Dx,YU,jU,mR.forRoot({defaultLanguage:"en",loader:{provide:xw,useFactory:yV,deps:[AD]}})]}),n})();function yV(n){return new gV(n,"./assets/i18n/",".json")}_f().bootstrapModule(mV).catch(n=>console.error(n))},5867:(Et,Ue,Z)=>{Z.d(Ue,{C6:()=>i.getApps,Mq:()=>i.getApp});var i=Z(9681);(0,i.registerVersion)("firebase","9.9.2","app")},127:(Et,Ue,Z)=>{Z.d(Ue,{Z:()=>i.Z});var i=Z(3942);i.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(Et,Ue,Z)=>{Z.r(Ue);var i=Z(5861),le=Z(3942),V=Z(2090),me=Z(9681),fe=Z(655),be=Z(1877),_e=Z(4859);const Pe=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new be.Yd("@firebase/auth");function wt(_,...p){pt.logLevel<=be.in.ERROR&&pt.error(`Auth (${me.SDK_VERSION}): ${_}`,...p)}function Be(_,...p){throw et(_,...p)}function Me(_,...p){return et(_,...p)}function ke(_,p,m){const b=Object.assign(Object.assign({},yt()),{[p]:m});return new V.LL("auth","Firebase",b).create(p,{appName:_.name})}function Xe(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Be(_,"argument-error"),ke(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(_,...p){if("string"!=typeof _){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return De.create(_,...p)}function z(_,p,...m){if(!_)throw et(p,...m)}function Ae(_){const p="INTERNAL ASSERTION FAILED: "+_;throw wt(p),new Error(p)}function re(_,p){_||Ae(p)}const ae=new Map;function pe(_){re(_ instanceof Function,"Expected a class definition");let p=ae.get(_);return p?(re(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,ae.set(_,p),p)}function Ge(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function At(){return"http:"===an()||"https:"===an()}function an(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class bn{constructor(p,m){this.shortDelay=p,this.longDelay=m,re(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(_,p){re(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class dn{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ni=new bn(3e4,6e4);function zt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Cn(_,p,m,b){return oa.apply(this,arguments)}function oa(){return(oa=(0,i.Z)(function*(_,p,m,b,M={}){return Ii(_,M,(0,i.Z)(function*(){let L={},J={};b&&("GET"===p?J=b:L={body:JSON.stringify(b)});const ye=(0,V.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),Ke=yield _._getAdditionalHeaders();return Ke["Content-Type"]="application/json",_.languageCode&&(Ke["X-Firebase-Locale"]=_.languageCode),dn.fetch()(hs(_,_.config.apiHost,m,ye),Object.assign({method:p,headers:Ke,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Ii(_,p,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,i.Z)(function*(_,p,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},hn),p);try{const M=new Ai(_),L=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const J=yield L.json();if("needConfirmation"in J)throw Qi(_,"account-exists-with-different-credential",J);if(L.ok&&!("errorMessage"in J))return J;{const ye=L.ok?J.errorMessage:J.error.message,[Ke,ft]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Qi(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ke)throw Qi(_,"email-already-in-use",J);if("USER_DISABLED"===Ke)throw Qi(_,"user-disabled",J);const St=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw ke(_,St,ft);Be(_,St)}}catch(M){if(M instanceof V.ZR)throw M;Be(_,"network-request-failed")}})).apply(this,arguments)}function ri(_,p,m,b){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,i.Z)(function*(_,p,m,b,M={}){const L=yield Cn(_,p,m,b,M);return"mfaPendingCredential"in L&&Be(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function hs(_,p,m,b){const M=`${p}${m}?${b}`;return _.config.emulator?Yn(_.config,M):`${_.config.apiScheme}://${M}`}class Ai{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),ni.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qi(_,p,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=Me(_,p,b);return M.customData._tokenResponse=m,M}function Dn(){return(Dn=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ui(_,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ji(_,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Qn(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xn(){return(xn=(0,i.Z)(function*(_,p=!1){const m=(0,V.m9)(_),b=yield m.getIdToken(p),M=ct(b);z(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,J=L?.sign_in_provider;return{claims:M,token:b,authTime:Qn(_t(M.auth_time)),issuedAtTime:Qn(_t(M.iat)),expirationTime:Qn(_t(M.exp)),signInProvider:J||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function _t(_){return 1e3*Number(_)}function ct(_){var p;const[m,b,M]=_.split(".");if(void 0===m||void 0===b||void 0===M)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,V.tV)(b);return L?JSON.parse(L):(wt("Failed to decode base64 JWT payload"),null)}catch(L){return wt("Caught error parsing JWT payload as JSON",null===(p=L)||void 0===p?void 0:p.toString()),null}}function Ir(_,p){return On.apply(this,arguments)}function On(){return(On=(0,i.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof V.ZR&&Gt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class or{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,i.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class qs{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,i.Z)(function*(_){var p;const m=_.auth,b=yield _.getIdToken(),M=yield Ir(_,Ji(m,{idToken:b}));z(M?.users.length,m,"internal-error");const L=M.users[0];_._notifyReloadListener(L);const J=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?q(L.providerUserInfo):[],ye=Q(_.providerData,J),St=!!_.isAnonymous&&!(_.email&&L.passwordHash||ye?.length),xt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ye,metadata:new qs(L.createdAt,L.lastLoginAt),isAnonymous:St};Object.assign(_,xt)})).apply(this,arguments)}function ne(){return(ne=(0,i.Z)(function*(_){const p=(0,V.m9)(_);yield fn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Q(_,p){return[..._.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function q(_){return _.map(p=>{var{providerId:m}=p,b=(0,fe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ee(){return(ee=(0,i.Z)(function*(_,p){const m=yield Ii(_,{},(0,i.Z)(function*(){const b=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:L}=_.config,J=hs(_,M,"/v1/token",`key=${L}`),ye=yield _._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(J,{method:"POST",headers:ye,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){z(p.idToken,"internal-error"),z(typeof p.idToken<"u","internal-error"),z(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function aa(_){const p=ct(_);return z(p,"internal-error"),z(typeof p.exp<"u","internal-error"),z(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,i.Z)(function*(){return z(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,i.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:J}=yield function X(_,p){return ee.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(M,L,Number(J))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:M,expirationTime:L}=m,J=new Le;return b&&(z("string"==typeof b,"internal-error",{appName:p}),J.refreshToken=b),M&&(z("string"==typeof M,"internal-error",{appName:p}),J.accessToken=M),L&&(z("number"==typeof L,"internal-error",{appName:p}),J.expirationTime=L),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Le,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function Je(_,p){z("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class Tt{constructor(p){var{uid:m,auth:b,stsTokenManager:M}=p,L=(0,fe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new qs(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,i.Z)(function*(){const b=yield Ir(m,m.stsTokenManager.getToken(m.auth,p));return z(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function mo(_){return xn.apply(this,arguments)}(this,p)}reload(){return function Xt(_){return ne.apply(this,arguments)}(this)}_assign(p){this!==p&&(z(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Tt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,i.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield fn(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,i.Z)(function*(){const m=yield p.getIdToken();return yield Ir(p,function Pt(_,p){return Dn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,M,L,J,ye,Ke,ft,St;const xt=null!==(b=m.displayName)&&void 0!==b?b:void 0,dr=null!==(M=m.email)&&void 0!==M?M:void 0,Ni=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Lu=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Nc=null!==(ye=m.tenantId)&&void 0!==ye?ye:void 0,Ra=null!==(Ke=m._redirectEventId)&&void 0!==Ke?Ke:void 0,Pg=null!==(ft=m.createdAt)&&void 0!==ft?ft:void 0,Hf=null!==(St=m.lastLoginAt)&&void 0!==St?St:void 0,{uid:$o,emailVerified:Og,isAnonymous:Ng,providerData:Rl,stsTokenManager:qf}=m;z($o&&qf,p,"internal-error");const av=Le.fromJSON(this.name,qf);z("string"==typeof $o,p,"internal-error"),Je(xt,p.name),Je(dr,p.name),z("boolean"==typeof Og,p,"internal-error"),z("boolean"==typeof Ng,p,"internal-error"),Je(Ni,p.name),Je(Lu,p.name),Je(Nc,p.name),Je(Ra,p.name),Je(Pg,p.name),Je(Hf,p.name);const kc=new Tt({uid:$o,auth:p,email:dr,emailVerified:Og,displayName:xt,isAnonymous:Ng,photoURL:Lu,phoneNumber:Ni,tenantId:Nc,stsTokenManager:av,createdAt:Pg,lastLoginAt:Hf});return Rl&&Array.isArray(Rl)&&(kc.providerData=Rl.map(lv=>Object.assign({},lv))),Ra&&(kc._redirectEventId=Ra),kc}static _fromIdTokenResponse(p,m,b=!1){return(0,i.Z)(function*(){const M=new Le;M.updateFromServerResponse(m);const L=new Tt({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield fn(L),L})()}}const pn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,i.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,i.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,i.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function mr(_,p,m){return`firebase:${_}:${p}:${m}`}class vt{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:M,name:L}=this.auth;this.fullUserKey=mr(this.userKey,M.apiKey,L),this.fullPersistenceKey=mr("persistence",M.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Tt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,i.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,i.Z)(function*(){if(!m.length)return new vt(pe(pn),p,b);const M=(yield Promise.all(m.map(function(){var ft=(0,i.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let L=M[0]||pe(pn);const J=mr(b,p.config.apiKey,p.name);let ye=null;for(const ft of m)try{const St=yield ft._get(J);if(St){const xt=Tt._fromJSON(p,St);ft!==L&&(ye=xt),L=ft;break}}catch{}const Ke=M.filter(ft=>ft._shouldAllowMigration);return L._shouldAllowMigration&&Ke.length?(L=Ke[0],ye&&(yield L._set(J,ye.toJSON())),yield Promise.all(m.map(function(){var ft=(0,i.Z)(function*(St){if(St!==L)try{yield St._remove(J)}catch{}});return function(St){return ft.apply(this,arguments)}}())),new vt(L,p,b)):new vt(L,p,b)})()}}function Tn(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(at(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Nn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(vn(p))return"Blackberry";if(Jn(p))return"Webos";if(Ar(p))return"Safari";if((p.includes("chrome/")||kr(p))&&!p.includes("edge/"))return"Chrome";if(Ot(p))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Nn(_=(0,V.z$)()){return/firefox\//i.test(_)}function Ar(_=(0,V.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function kr(_=(0,V.z$)()){return/crios\//i.test(_)}function at(_=(0,V.z$)()){return/iemobile/i.test(_)}function Ot(_=(0,V.z$)()){return/android/i.test(_)}function vn(_=(0,V.z$)()){return/blackberry/i.test(_)}function Jn(_=(0,V.z$)()){return/webos/i.test(_)}function Di(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ka(_=(0,V.z$)()){return Di(_)||Ot(_)||Jn(_)||vn(_)||/windows phone/i.test(_)||at(_)}function Zt(_,p=[]){let m;switch(_){case"Browser":m=Tn((0,V.z$)());break;case"Worker":m=`${Tn((0,V.z$)())}-${_}`;break;default:m=_}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${me.SDK_VERSION}/${b}`}class Qa{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=L=>new Promise((J,ye)=>{try{J(p(L))}catch(Ke){ye(Ke)}});b.onAbort=m,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,i.Z)(function*(){var b;if(m.auth.currentUser===p)return;const M=[];try{for(const L of m.queue)yield L(p),L.onAbort&&M.push(L.onAbort)}catch(L){M.reverse();for(const J of M)try{J()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class la{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new Qa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=pe(m)),this._initializationPromise=this.queue((0,i.Z)(function*(){var M,L;if(!b._deleted&&(b.persistenceManager=yield vt.create(b,p),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,i.Z)(function*(){var b;const M=yield m.assertedPersistence.getCurrentUser();let L=M,J=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ye=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ke=L?._redirectEventId,ft=yield m.tryRedirectSignIn(p);(!ye||ye===Ke)&&ft?.user&&(L=ft.user,J=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(L)}catch(ye){L=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ye))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var m=this;return(0,i.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,i.Z)(function*(){var b;try{yield fn(p)}catch(M){if("auth/network-request-failed"!==(null===(b=M)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,i.Z)(function*(){const b=p?(0,V.m9)(p):null;return b&&z(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,i.Z)(function*(){if(!b._deleted)return p&&z(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,i.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,i.Z)(function*(){yield m.assertedPersistence.setPersistence(pe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,i.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,i.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&pe(p)||m._popupRedirectResolver;z(b,m,"argument-error"),m.redirectPersistenceManager=yield vt.create(m,[pe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,i.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,i.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,i.Z)(function*(){if(p===m.currentUser)return m.queue((0,i.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,M){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return z(J,this,"internal-error"),J.then(()=>L(this.currentUser)),"function"==typeof m?p.addObserver(m,b,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,i.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function Fn(_){return(0,V.m9)(_)}class Gs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ws(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function ii(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class yo{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ae("not implemented")}_getIdTokenResponse(p){return Ae("not implemented")}_linkToIdToken(p,m){return Ae("not implemented")}_getReauthenticationResolver(p){return Ae("not implemented")}}function Wt(_,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:resetPassword",zt(_,p))})).apply(this,arguments)}function nc(_,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ja(_,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:update",zt(_,p))})).apply(this,arguments)}function Hr(){return(Hr=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithPassword",zt(_,p))})).apply(this,arguments)}function Xn(_,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:sendOobCode",zt(_,p))})).apply(this,arguments)}function Sn(_,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,i.Z)(function*(_,p){return Xn(_,p)})).apply(this,arguments)}function da(_,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,i.Z)(function*(_,p){return Xn(_,p)})).apply(this,arguments)}function ha(_,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,i.Z)(function*(_,p){return Xn(_,p)})).apply(this,arguments)}function gf(_,p){return su.apply(this,arguments)}function su(){return(su=(0,i.Z)(function*(_,p){return Xn(_,p)})).apply(this,arguments)}function rc(){return(rc=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,p))})).apply(this,arguments)}function ic(){return(ic=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,p))})).apply(this,arguments)}class sc extends yo{constructor(p,m,b,M=null){super("password",b),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new sc(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new sc(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,i.Z)(function*(){switch(m.signInMethod){case"password":return function ca(_,p){return Hr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function mf(_,p){return rc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Be(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,i.Z)(function*(){switch(b.signInMethod){case"password":return nc(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function sg(_,p){return ic.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function yr(_,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithIdp",zt(_,p))})).apply(this,arguments)}class gs extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new gs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Be("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=m,L=(0,fe._T)(m,["providerId","signInMethod"]);if(!b||!M)return null;const J=new gs(b,M);return J.idToken=L.idToken||void 0,J.accessToken=L.accessToken||void 0,J.secret=L.secret,J.nonce=L.nonce,J.pendingToken=L.pendingToken||null,J}_getIdTokenResponse(p){return yr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,yr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,V.xO)(m)}return p}}function ag(_,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:sendVerificationCode",zt(_,p))})).apply(this,arguments)}function Qs(){return(Qs=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,p))})).apply(this,arguments)}function Rd(){return(Rd=(0,i.Z)(function*(_,p){const m=yield ri(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,p));if(m.temporaryProof)throw Qi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ug={USER_NOT_FOUND:"user-not-found"};function el(){return(el=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ug)})).apply(this,arguments)}class fa extends yo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new fa({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new fa({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ac(_,p){return Qs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function lg(_,p){return Rd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ld(_,p){return el.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:L}=p;return b||m||M||L?new fa({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:L}):null}}class Bi{constructor(p){var m,b,M,L,J,ye;const Ke=(0,V.zd)((0,V.pd)(p)),ft=null!==(m=Ke.apiKey)&&void 0!==m?m:null,St=null!==(b=Ke.oobCode)&&void 0!==b?b:null,xt=function qy(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ke.mode)&&void 0!==M?M:null);z(ft&&St&&xt,"argument-error"),this.apiKey=ft,this.operation=xt,this.code=St,this.continueUrl=null!==(L=Ke.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(J=Ke.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ye=Ke.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const m=function Fd(_){const p=(0,V.zd)((0,V.pd)(_)).link,m=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,b=(0,V.zd)((0,V.pd)(_)).deep_link_id;return(b?(0,V.zd)((0,V.pd)(b)).link:null)||b||m||p||_}(p);try{return new Bi(m)}catch{return null}}}let pa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return sc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=Bi.parseLink(b);return z(M,"argument-error"),sc._fromEmailAndCode(m,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Si{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class _o extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ga extends _o{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return z("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return z(p.idToken||p.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ga.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ga.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:L,nonce:J,providerId:ye}=p;if(!b&&!M&&!m&&!L||!ye)return null;try{return new ga(ye)._credential({idToken:m,accessToken:b,nonce:J,pendingToken:L})}catch{return null}}}let ma=(()=>{class _ extends _o{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),tl=(()=>{class _ extends _o{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Vd=(()=>{class _ extends _o{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class wo extends yo{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return yr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,yr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:L}=m;return b&&M&&L&&b===M?new wo(b,L):null}static _create(p,m){return new wo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class si extends Si{constructor(p){z(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return si.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return si.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=wo.fromJSON(p);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return wo._create(b,m)}catch{return null}}}let $d=(()=>{class _ extends _o{constructor(){super("twitter.com")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ya(_,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signUp",zt(_,p))})).apply(this,arguments)}class yi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,M=!1){return(0,i.Z)(function*(){const L=yield Tt._fromIdTokenResponse(p,b,M),J=er(b);return new yi({user:L,providerId:J,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=er(b);return new yi({user:p,providerId:M,_tokenResponse:b,operationType:m})})()}}function er(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function yf(){return(yf=(0,i.Z)(function*(_){var p;const m=Fn(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new yi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ya(m,{returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class bo extends V.ZR{constructor(p,m,b,M){var L;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,bo.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,M){return new bo(p,m,b,M)}}function vi(_,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?bo._fromErrorAndOperation(_,L,p,b):L})}function ms(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function ys(){return(ys=(0,i.Z)(function*(_,p){const m=(0,V.m9)(_);yield $i(!0,m,p);const{providerUserInfo:b}=yield Ui(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=ms(b||[]);return m.providerData=m.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sr(_,p){return va.apply(this,arguments)}function va(){return(va=(0,i.Z)(function*(_,p,m=!1){const b=yield Ir(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return yi._forOperation(_,"link",b)})).apply(this,arguments)}function $i(_,p,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,i.Z)(function*(_,p,m){yield fn(p);const M=!1===_?"provider-already-linked":"no-such-provider";z(ms(p.providerData).has(m)===_,p.auth,M)})).apply(this,arguments)}function _s(_,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,i.Z)(function*(_,p,m=!1){var b;const{auth:M}=_,L="reauthenticate";try{const J=yield Ir(_,vi(M,L,p,_),m);z(J.idToken,M,"internal-error");const ye=ct(J.idToken);z(ye,M,"internal-error");const{sub:Ke}=ye;return z(_.uid===Ke,M,"user-mismatch"),yi._forOperation(_,L,J)}catch(J){throw"auth/user-not-found"===(null===(b=J)||void 0===b?void 0:b.code)&&Be(M,"user-mismatch"),J}})).apply(this,arguments)}function _a(_,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,i.Z)(function*(_,p,m=!1){const b="signIn",M=yield vi(_,b,p),L=yield yi._fromIdTokenResponse(_,b,M);return m||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Hn(_,p){return jd.apply(this,arguments)}function jd(){return(jd=(0,i.Z)(function*(_,p){return _a(Fn(_),p)})).apply(this,arguments)}function ou(_,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,i.Z)(function*(_,p){const m=(0,V.m9)(_);return yield $i(!1,m,p.providerId),Sr(m,p)})).apply(this,arguments)}function Co(_,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,i.Z)(function*(_,p){return _s((0,V.m9)(_),p)})).apply(this,arguments)}function au(_,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,i.Z)(function*(_,p){return ri(_,"POST","/v1/accounts:signInWithCustomToken",zt(_,p))})).apply(this,arguments)}function Yt(){return(Yt=(0,i.Z)(function*(_,p){const m=Fn(_),b=yield au(m,{token:p,returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Xs{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?ba._fromServerResponse(p,m):Be(p,"internal-error")}}class ba extends Xs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new ba(m)}}function kn(_,p,m){var b;z((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function eo(){return(eo=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_),M={requestType:"PASSWORD_RESET",email:p};m&&kn(b,M,m),yield da(b,M)})).apply(this,arguments)}function il(){return(il=(0,i.Z)(function*(_,p,m){yield Wt((0,V.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ca(){return(Ca=(0,i.Z)(function*(_,p){yield Ja((0,V.m9)(_),{oobCode:p})})).apply(this,arguments)}function ol(_,p){return vf.apply(this,arguments)}function vf(){return(vf=(0,i.Z)(function*(_,p){const m=(0,V.m9)(_),b=yield Wt(m,{oobCode:p}),M=b.requestType;switch(z(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,m,"internal-error");default:z(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=Xs._fromServerResponse(Fn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function ar(){return(ar=(0,i.Z)(function*(_,p){const{data:m}=yield ol((0,V.m9)(_),p);return m.email})).apply(this,arguments)}function al(){return(al=(0,i.Z)(function*(_,p,m){const b=Fn(_),M=yield ya(b,{returnSecureToken:!0,email:p,password:m}),L=yield yi._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function cc(){return(cc=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_),M={requestType:"EMAIL_SIGNIN",email:p};z(m.handleCodeInApp,b,"argument-error"),m&&kn(b,M,m),yield ha(b,M)})).apply(this,arguments)}function ll(){return(ll=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_),M=pa.credentialWithLink(p,m||Ge());return z(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Hn(b,M)})).apply(this,arguments)}function hc(_,p){return To.apply(this,arguments)}function To(){return(To=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:createAuthUri",zt(_,p))})).apply(this,arguments)}function ul(){return(ul=(0,i.Z)(function*(_,p){const b={identifier:p,continueUri:At()?Ge():"http://localhost"},{signinMethods:M}=yield hc((0,V.m9)(_),b);return M||[]})).apply(this,arguments)}function Ea(){return(Ea=(0,i.Z)(function*(_,p){const m=(0,V.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&kn(m.auth,M,p);const{email:L}=yield Sn(m.auth,M);L!==_.email&&(yield _.reload())})).apply(this,arguments)}function cu(){return(cu=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&kn(b.auth,L,m);const{email:J}=yield gf(b.auth,L);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function du(_,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,i.Z)(function*(_,p){return Cn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ta(){return(Ta=(0,i.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,V.m9)(_),L={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},J=yield Ir(b,du(b.auth,L));b.displayName=J.displayName||null,b.photoURL=J.photoUrl||null;const ye=b.providerData.find(({providerId:Ke})=>"password"===Ke);ye&&(ye.displayName=b.displayName,ye.photoURL=b.photoURL),yield b._updateTokensIfNecessary(J)})).apply(this,arguments)}function _r(_,p,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,i.Z)(function*(_,p,m){const{auth:b}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(L.email=p),m&&(L.password=m);const J=yield Ir(_,nc(b,L));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Ia{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class qd extends Ia{constructor(p,m,b,M){super(p,m,b),this.username=M}}class zd extends Ia{constructor(p,m){super(p,"facebook.com",m)}}class pc extends qd{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Gd extends Ia{constructor(p,m){super(p,"google.com",m)}}class gc extends qd{constructor(p,m,b){super(p,"twitter.com",m,b)}}function gu(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Un(_){var p,m;if(!_)return null;const{providerId:b}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const J=null===(m=null===(p=ct(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new Ia(L,"anonymous"!==J&&"custom"!==J?J:null)}if(!b)return null;switch(b){case"facebook.com":return new zd(L,M);case"github.com":return new pc(L,M);case"google.com":return new Gd(L,M);case"twitter.com":return new gc(L,M,_.screenName||null);case"custom":case"anonymous":return new Ia(L,null);default:return new Ia(L,b,M)}}(m)}class ns{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ns("enroll",p)}static _fromMfaPendingCredential(p){return new ns("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ns._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return ns._fromIdtoken(p.multiFactorSession.idToken)}return null}}class dl{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Fn(p),M=m.customData._serverResponse,L=(M.mfaInfo||[]).map(ye=>Xs._fromServerResponse(b,ye));z(M.mfaPendingCredential,b,"internal-error");const J=ns._fromMfaPendingCredential(M.mfaPendingCredential);return new dl(J,L,function(){var ye=(0,i.Z)(function*(Ke){const ft=yield Ke._process(b,J);delete M.mfaInfo,delete M.mfaPendingCredential;const St=Object.assign(Object.assign({},M),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(m.operationType){case"signIn":const xt=yield yi._fromIdTokenResponse(b,m.operationType,St);return yield b._updateCurrentUser(xt.user),xt;case"reauthenticate":return z(m.user,b,"internal-error"),yi._forOperation(m.user,m.operationType,St);default:Be(b,"internal-error")}});return function(Ke){return ye.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,i.Z)(function*(){return m.signInResolver(p)})()}}function Ef(_,p){return Cn(_,"POST","/v2/accounts/mfaEnrollment:start",zt(_,p))}class hl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Xs._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new hl(p)}getSession(){var p=this;return(0,i.Z)(function*(){return ns._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,i.Z)(function*(){const M=p,L=yield b.getSession(),J=yield Ir(b.user,M._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(J),b.user.reload()})()}unenroll(p){var m=this;return(0,i.Z)(function*(){var b;const M="string"==typeof p?p:p.uid,L=yield m.user.getIdToken(),J=yield Ir(m.user,function Wy(_,p){return Cn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(_,p))}(m.user.auth,{idToken:L,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ye})=>ye!==M),yield m.user._updateTokensIfNecessary(J);try{yield m.user.reload()}catch(ye){if("auth/user-token-expired"!==(null===(b=ye)||void 0===b?void 0:b.code))throw ye}})()}}const fl=new WeakMap,no="__sak";class Kd{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const gl=(()=>{class _ extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tf(){const _=(0,V.z$)();return Ar(_)||Di(_)}()&&function zs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ka(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),L=this.localCache[b];M!==L&&m(b,L,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ye,Ke,ft)=>{this.notifyListeners(ye,ft)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(M);if(m.newValue!==ye)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const L=()=>{const ye=this.storage.getItem(M);!b&&this.localCache[M]===ye||this.notifyListeners(M,ye)},J=this.storage.getItem(M);!function Ln(){return(0,V.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const L of Array.from(M))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,L=this;return(0,i.Z)(function*(){yield M().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,i.Z)(function*(){const L=yield b().call(M,m);return M.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,M=this;return(0,i.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return _.type="LOCAL",_})(),Ao=(()=>{class _ extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Da=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const M=new _(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,i.Z)(function*(){const M=m,{eventId:L,eventType:J,data:ye}=M.data,Ke=b.handlersMap[J];if(!Ke?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:J});const ft=Array.from(Ke).map(function(){var xt=(0,i.Z)(function*(dr){return dr(M.origin,ye)});return function(dr){return xt.apply(this,arguments)}}()),St=yield function Jd(_){return Promise.all(_.map(function(){var p=(0,i.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(ft);M.ports[0].postMessage({status:"done",eventId:L,eventType:J,response:St})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function qr(_="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return _+m}class Pi{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var M=this;return(0,i.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let J,ye;return new Promise((Ke,ft)=>{const St=qr("",20);L.port1.start();const xt=setTimeout(()=>{ft(new Error("unsupported_event"))},b);ye={messageChannel:L,onMessage(dr){const Ni=dr;if(Ni.data.eventId===St)switch(Ni.data.status){case"ack":clearTimeout(xt),J=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ke(Ni.data.response);break;default:clearTimeout(xt),clearTimeout(J),ft(new Error("invalid_response"))}}},M.handlers.add(ye),L.port1.addEventListener("message",ye.onMessage),M.target.postMessage({eventType:p,eventId:St,data:m},[L.port2])}).finally(()=>{ye&&M.removeMessageHandler(ye)})})()}}function mn(){return window}function Zi(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function Vn(){return(Vn=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cs="firebaseLocalStorageDb",rs="firebaseLocalStorage",wr="fbase_key";class Es{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ct(_,p){return _.transaction([rs],p?"readwrite":"readonly").objectStore(rs)}function So(){const _=indexedDB.open(Cs,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(rs,{keyPath:wr})}catch(M){m(M)}}),_.addEventListener("success",(0,i.Z)(function*(){const b=_.result;b.objectStoreNames.contains(rs)?p(b):(b.close(),yield function Do(){const _=indexedDB.deleteDatabase(Cs);return new Es(_).toPromise()}(),p(yield So()))}))})}function Ts(_,p,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,i.Z)(function*(_,p,m){const b=Ct(_,!0).put({[wr]:p,value:m});return new Es(b).toPromise()})).apply(this,arguments)}function Ur(){return(Ur=(0,i.Z)(function*(_,p){const m=Ct(_,!1).get(p),b=yield new Es(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function mc(_,p){const m=Ct(_,!0).delete(p);return new Es(m).toPromise()}const ji=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,i.Z)(function*(){return m.db||(m.db=yield So()),m.db})()}_withRetries(m){var b=this;return(0,i.Z)(function*(){let M=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(M++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,i.Z)(function*(){return Zi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,i.Z)(function*(){m.receiver=Da._getInstance(function If(){return Zi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,i.Z)(function*(M,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(M,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,i.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,i.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function lt(){return Vn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pi(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,i.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function ro(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const m=yield So();return yield Ts(m,no,"1"),yield mc(m,no),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,i.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,i.Z)(function*(){return M._withPendingWrite((0,i.Z)(function*(){return yield M._withRetries(L=>Ts(L,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,i.Z)(function*(){const M=yield b._withRetries(L=>function io(_,p){return Ur.apply(this,arguments)}(L,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,i.Z)(function*(){return b._withPendingWrite((0,i.Z)(function*(){return yield b._withRetries(M=>mc(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,i.Z)(function*(){const b=yield m._withRetries(J=>{const ye=Ct(J,!1).getAll();return new Es(ye).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:J,value:ye}of b)L.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(ye)&&(m.notifyListeners(J,ye),M.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!L.has(J)&&(m.notifyListeners(J,null),M.push(J));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const L of Array.from(M))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function zr(_,p){return Cn(_,"POST","/v2/accounts/mfaSignIn:start",zt(_,p))}function _i(){return(_i=(0,i.Z)(function*(_){return(yield Cn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oi(_){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=p,b.onerror=M=>{const L=Me("internal-error");L.customData=M,m(L)},b.type="text/javascript",b.charset="UTF-8",function dt(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(b)})}function Vt(_){return`__${_}${Math.floor(1e6*Math.random())}`}const As=1e12;class Yy{constructor(p){this.auth=p,this.counter=As,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Xd(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||As;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||As))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,i.Z)(function*(){var b;return null===(b=m._widgets.get(p||As))||void 0===b||b.execute(),""})()}}class Xd{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;z(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dg(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Af=Vt("rcb"),hg=new bn(3e4,6e4);class is{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=mn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return z(function Gr(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mn().grecaptcha):new Promise((b,M)=>{const L=mn().setTimeout(()=>{M(Me(p,"network-request-failed"))},hg.get());mn()[Af]=()=>{mn().clearTimeout(L),delete mn()[Af];const ye=mn().grecaptcha;if(!ye)return void M(Me(p,"internal-error"));const Ke=ye.render;ye.render=(ft,St)=>{const xt=Ke(ft,St);return this.counter++,xt},this.hostLanguage=m,b(ye)},Oi(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Af,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),M(Me(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=mn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sa{load(p){return(0,i.Z)(function*(){return new Yy(p)})()}clearedOneInstance(){}}const lr="recaptcha",eh={theme:"light",type:"image"};class yl{constructor(p,m=Object.assign({},eh),b){this.parameters=m,this.type=lr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(b),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;z(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sa:new is,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const J=ye=>{!ye||(p.tokenChangeListeners.delete(J),L(ye))};p.tokenChangeListeners.add(J),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=mn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){z(At()&&!Zi(),p.auth,"internal-error"),yield function Df(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function oi(_){return _i.apply(this,arguments)}(p.auth);z(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class th{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=fa._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ai(){return(ai=(0,i.Z)(function*(_,p,m){const b=Fn(_),M=yield br(b,p,(0,V.m9)(m));return new th(M,L=>Hn(b,L))})).apply(this,arguments)}function xo(){return(xo=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_);yield $i(!1,b,"phone");const M=yield br(b.auth,p,(0,V.m9)(m));return new th(M,L=>ou(b,L))})).apply(this,arguments)}function xa(){return(xa=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_),M=yield br(b.auth,p,(0,V.m9)(m));return new th(M,L=>Co(b,L))})).apply(this,arguments)}function br(_,p,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,i.Z)(function*(_,p,m){var b;const M=yield m.verify();try{let L;if(z("string"==typeof M,_,"argument-error"),z(m.type===lr,_,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const J=L.session;if("phoneNumber"in L)return z("enroll"===J.type,_,"internal-error"),(yield Ef(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{z("signin"===J.type,_,"internal-error");const ye=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return z(ye,_,"missing-multi-factor-info"),(yield zr(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield ag(_,{phoneNumber:L.phoneNumber,recaptchaToken:M});return J}}finally{m._reset()}})).apply(this,arguments)}function _u(){return(_u=(0,i.Z)(function*(_,p){yield Sr((0,V.m9)(_),p)})).apply(this,arguments)}let Mo=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Fn(m)}verifyPhoneNumber(m,b){return br(this.auth,m,(0,V.m9)(b))}static credential(m,b){return fa._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?fa._fromTokenResponse(b,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function tr(_,p){return p?pe(p):(z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ma extends yo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return yr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return yr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return yr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function so(_){return _a(_.auth,new Ma(_),_.bypassAuthState)}function nh(_){const{auth:p,user:m}=_;return z(m,p,"internal-error"),_s(m,new Ma(_),_.bypassAuthState)}function wu(_){return ss.apply(this,arguments)}function ss(){return(ss=(0,i.Z)(function*(_){const{auth:p,user:m}=_;return z(m,p,"internal-error"),Sr(m,new Ma(_),_.bypassAuthState)})).apply(this,arguments)}class _l{constructor(p,m,b,M,L=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,i.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,i.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:L,tenantId:J,error:ye,type:Ke}=p;if(ye)return void m.reject(ye);const ft={auth:m.auth,requestUri:b,sessionId:M,tenantId:J||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ke)(ft))}catch(St){m.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return so;case"linkViaPopup":case"linkViaRedirect":return wu;case"reauthViaPopup":case"reauthViaRedirect":return nh;default:Be(this.auth,"internal-error")}}resolve(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new bn(2e3,1e4);function bl(){return(bl=(0,i.Z)(function*(_,p,m){const b=Fn(_);Xe(_,p,Si);const M=tr(b,m);return new Ds(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Po(){return(Po=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_);Xe(b.auth,p,Si);const M=tr(b.auth,m);return new Ds(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function Cu(){return(Cu=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_);Xe(b.auth,p,Si);const M=tr(b.auth,m);return new Ds(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class _ extends _l{constructor(m,b,M,L,J){super(m,b,L,J),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,i.Z)(function*(){const b=yield m.execute();return z(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,i.Z)(function*(){re(1===m.filter.length,"Popup operations only handle one event");const b=qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,wl.get())};m()}}return _.currentPopupAction=null,_})();const Ss=new Map;class yc extends _l{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,i.Z)(function*(){let b=Ss.get(m.auth._key());if(!b){try{const L=(yield function rh(_,p){return xs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(L)}catch(M){b=()=>Promise.reject(M)}Ss.set(m.auth._key(),b)}return m.bypassAuthState||Ss.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function xs(){return(xs=(0,i.Z)(function*(_,p){const m=vc(p),b=In(_);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function Eu(_,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,i.Z)(function*(_,p){return In(_)._set(vc(p),"true")})).apply(this,arguments)}function ih(_,p){Ss.set(_._key(),p)}function In(_){return pe(_._redirectPersistence)}function vc(_){return mr("pendingRedirect",_.config.apiKey,_.name)}function D(){return(D=(0,i.Z)(function*(_,p,m){const b=Fn(_);Xe(_,p,Si);const M=tr(b,m);return yield Eu(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function H(){return(H=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_);Xe(b.auth,p,Si);const M=tr(b.auth,m);yield Eu(M,b.auth);const L=yield It(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Fe(){return(Fe=(0,i.Z)(function*(_,p,m){const b=(0,V.m9)(_);Xe(b.auth,p,Si);const M=tr(b.auth,m);yield $i(!1,b,p.providerId),yield Eu(M,b.auth);const L=yield It(b);return M._openRedirect(b.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function Dt(){return(Dt=(0,i.Z)(function*(_,p){return yield Fn(_)._initializationPromise,Ft(_,p,!1)})).apply(this,arguments)}function Ft(_,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,i.Z)(function*(_,p,m=!1){const b=Fn(_),M=tr(b,p),J=yield new yc(b,M,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield b._persistUserIfCurrent(J.user),yield b._setRedirectUser(null,p)),J})).apply(this,arguments)}function It(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,i.Z)(function*(_){const p=qr(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Oo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Mr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wn(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!wn(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wi(p))}saveEventToCache(p){this.cachedEventUids.add(wi(p)),this.lastProcessedEventTime=Date.now()}}function wi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function wn({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function Pa(_){return os.apply(this,arguments)}function os(){return(os=(0,i.Z)(function*(_,p={}){return Cn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const No=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tl=/^https?/;function xf(){return(xf=(0,i.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Pa(_);for(const m of p)try{if(Ky(m))return}catch{}Be(_,"unauthorized-domain")})).apply(this,arguments)}function Ky(_){const p=Ge(),{protocol:m,hostname:b}=new URL(p);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===b}if(!Tl.test(m))return!1;if(No.test(_))return b===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Tu=new bn(3e4,6e4);function wc(){const _=mn().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Il=null;function Jy(_){return Il=Il||function Qy(_){return new Promise((p,m)=>{var b,M,L;function J(){wc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{wc(),m(Me(_,"network-request-failed"))},timeout:Tu.get()})}if(null!==(M=null===(b=mn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(L=mn().gapi)||void 0===L||!L.load){const ye=Vt("iframefcb");return mn()[ye]=()=>{gapi.load?J():m(Me(_,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${ye}`).catch(Ke=>m(Ke))}J()}}).catch(p=>{throw Il=null,p})}(_),Il}const pg=new bn(5e3,15e3),Pf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Of=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oh(_){const p=_.config;z(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?Yn(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:_.name,v:me.SDK_VERSION},M=Of.get(_.config.apiHost);M&&(b.eid=M);const L=_._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,V.xO)(b).slice(1)}`}function ko(){return ko=(0,i.Z)(function*(_){const p=yield Jy(_),m=mn().gapi;return z(m,_,"internal-error"),p.open({where:document.body,url:oh(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pf,dontclear:!0},b=>new Promise(function(){var M=(0,i.Z)(function*(L,J){yield b.restyle({setHideOnLeave:!1});const ye=Me(_,"network-request-failed"),Ke=mn().setTimeout(()=>{J(ye)},pg.get());function ft(){mn().clearTimeout(Ke),L(b)}b.ping(ft).then(ft,()=>{J(ye)})});return function(L,J){return M.apply(this,arguments)}}()))}),ko.apply(this,arguments)}const gg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Iu(_,p,m,b,M,L){z(_.config.authDomain,_,"auth-domain-config-required"),z(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:me.SDK_VERSION,eventId:M};if(p instanceof Si){p.setDefaultLanguage(_.languageCode),J.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ke,ft]of Object.entries(L||{}))J[Ke]=ft}if(p instanceof _o){const Ke=p.getScopes().filter(ft=>""!==ft);Ke.length>0&&(J.scopes=Ke.join(","))}_.tenantId&&(J.tid=_.tenantId);const ye=J;for(const Ke of Object.keys(ye))void 0===ye[Ke]&&delete ye[Ke];return`${function wg({config:_}){return _.emulator?Yn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,V.xO)(ye).slice(1)}`}const Dl="webStorageSupport";class Sl extends class Au{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ae("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Sl(p)}_finalizeEnroll(p,m,b){return function Gy(_,p){return Cn(_,"POST","/v2/accounts/mfaEnrollment:finalize",zt(_,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function jt(_,p){return Cn(_,"POST","/v2/accounts/mfaSignIn:finalize",zt(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rf=(()=>{class _{constructor(){}static assertion(m){return Sl._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Cg="@firebase/auth";class Xy{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,i.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var M;p((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ro(){return window}function Su(){return(Su=(0,i.Z)(function*(_,p,m){var b;const{BuildInfo:M}=Ro();re(p.sessionId,"AuthEvent did not contain a session ID");const L=yield Vf(p.sessionId),J={};return Di()?J.ibi=M.packageName:Ot()?J.apn=M.packageName:Be(_,"operation-not-supported-in-this-environment"),M.displayName&&(J.appDisplayName=M.displayName),J.sessionId=L,Iu(_,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,J)})).apply(this,arguments)}function xu(){return(xu=(0,i.Z)(function*(_){const{BuildInfo:p}=Ro(),m={};Di()?m.iosBundleId=p.packageName:Ot()?m.androidPackageName=p.packageName:Be(_,"operation-not-supported-in-this-environment"),yield Pa(_,m)})).apply(this,arguments)}function Lo(){return(Lo=(0,i.Z)(function*(_,p,m){const{cordova:b}=Ro();let M=()=>{};try{yield new Promise((L,J)=>{let ye=null;function Ke(){var xt;L();const dr=null===(xt=b.plugins.browsertab)||void 0===xt?void 0:xt.close;"function"==typeof dr&&dr(),"function"==typeof m?.close&&m.close()}function ft(){ye||(ye=window.setTimeout(()=>{J(Me(_,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===document?.visibilityState&&ft()}p.addPassiveListener(Ke),document.addEventListener("resume",ft,!1),Ot()&&document.addEventListener("visibilitychange",St,!1),M=()=>{p.removePassiveListener(Ke),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",St,!1),ye&&window.clearTimeout(ye)}})}finally{M()}})).apply(this,arguments)}function Vf(_){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,i.Z)(function*(_){const p=kw(_),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function kw(_){if(re(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),m=new Uint8Array(p);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function Du(_){(0,me._registerComponent)(new _e.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:L,authDomain:J}=b.options;return((ye,Ke)=>{z(L&&!L.includes(":"),"invalid-api-key",{appName:ye.name}),z(!J?.includes(":"),"argument-error",{appName:ye.name});const ft={apiKey:L,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zt(_)},St=new la(ye,Ke,ft);return function Ye(_,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(pe);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(b,p?.popupRedirectResolver)}(St,m),St})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new _e.wA("auth-internal",p=>{const m=Fn(p.getProvider("auth").getImmediate());return new Xy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Cg,"0.20.5",function ev(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,me.registerVersion)(Cg,"0.20.5","esm2017")}("Browser");class tv extends Oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,i.Z)(function*(){yield p.initPromise})()}}function ao(_){return dh.apply(this,arguments)}function dh(){return(dh=(0,i.Z)(function*(_){const p=yield ka()._get(Ec(_));return p&&(yield ka()._remove(Ec(_))),p})).apply(this,arguments)}function hh(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);_.push(p.charAt(b))}return _.join("")}function ka(){return pe(gl)}function Ec(_){return mr("authEvent",_.config.apiKey,_.name)}function Tc(_){if(!_?.includes("?"))return{};const[p,...m]=_.split("?");return(0,V.zd)(m.join("?"))}function Ic(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Nu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function ku(_=(0,V.z$)()){return!("file:"!==Nu()&&"ionic:"!==Nu()&&"capacitor:"!==Nu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function iv(){try{const _=self.localStorage,p=qr();if(_)return _.setItem(p,"1"),_.removeItem(p),!function Lw(_=(0,V.z$)()){return function rv(){return(0,V.w1)()&&11===document?.documentMode}()||function Dg(_=(0,V.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,V.hl)()}catch{return Pl()&&(0,V.hl)()}return!1}function Pl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dc(){return(function nv(){return"http:"===Nu()||"https:"===Nu()}()||(0,V.ru)()||ku())&&!function Ac(){return(0,V.b$)()||(0,V.UG)()}()&&iv()&&!Pl()}function Ol(){return ku()&&typeof document<"u"}function Sc(){return(Sc=(0,i.Z)(function*(){return!!Ol()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},Ps=z,fh="persistence";function ph(_){return xc.apply(this,arguments)}function xc(){return(xc=(0,i.Z)(function*(_){yield _._initializationPromise;const p=gh(),m=mr(fh,_.config.apiKey,_.name);p&&p.setItem(m,_._getPersistence())})).apply(this,arguments)}function gh(){var _;try{return(null===(_=function Sg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Vo=z;class uo{constructor(){this.browserResolver=pe(class bg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=Ft,this._overrideRedirectResult=ih}_openPopup(p,m,b,M){var L=this;return(0,i.Z)(function*(){var J;re(null===(J=L.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ye=Iu(p,m,b,Ge(),M);return function yg(_,p,m,b=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),J=Math.max((window.screen.availWidth-b)/2,0).toString();let ye="";const Ke=Object.assign(Object.assign({},gg),{width:b.toString(),height:M.toString(),top:L,left:J}),ft=(0,V.z$)().toLowerCase();m&&(ye=kr(ft)?"_blank":m),Nn(ft)&&(p=p||"http://localhost",Ke.scrollbars="yes");const St=Object.entries(Ke).reduce((dr,[Ni,Lu])=>`${dr}${Ni}=${Lu},`,"");if(function Vi(_=(0,V.z$)()){var p;return Di(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==ye)return function vg(_,p){const m=document.createElement("a");m.href=_,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ye),new Oa(null);const xt=window.open(p||"",ye,St);z(xt,_,"popup-blocked");try{xt.focus()}catch{}return new Oa(xt)}(p,ye,qr())})()}_openRedirect(p,m,b,M){var L=this;return(0,i.Z)(function*(){return yield L._originValidation(p),function cn(_){mn().location.href=_}(Iu(p,m,b,Ge(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:L}=this.eventManagers[m];return M?Promise.resolve(M):(re(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,i.Z)(function*(){const b=yield function Al(_){return ko.apply(this,arguments)}(p),M=new Oo(p);return b.register("authEvent",L=>(z(L?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Dl,{type:Dl},M=>{var L;const J=null===(L=M?.[0])||void 0===L?void 0:L[Dl];void 0!==J&&m(!!J),Be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function _c(_){return xf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ka()||Ar()||Di()}}),this.cordovaResolver=pe(class Fo{constructor(){this._redirectPersistence=Ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ft,this._overrideRedirectResult=ih}_initialize(p){var m=this;return(0,i.Z)(function*(){const b=p._key();let M=m.eventManagers.get(b);return M||(M=new tv(p),m.eventManagers.set(b,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){Be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,M){var L=this;return(0,i.Z)(function*(){!function Uf(_){var p,m,b,M,L,J,ye,Ke,ft,St;const xt=Ro();z("function"==typeof(null===(p=xt?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(m=xt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(L=null===(M=null===(b=xt?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Ke=null===(ye=null===(J=xt?.cordova)||void 0===J?void 0:J.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Ke?void 0:Ke.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(St=null===(ft=xt?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===St?void 0:St.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield L._initialize(p);yield J.initialized(),J.resetRedirect(),function Ms(){Ss.clear()}(),yield L._originValidation(p);const ye=function Mu(_,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:hh(),postBody:null,tenantId:_.tenantId,error:Me(_,"no-auth-event")}}(p,b,M);yield function xl(_,p){return ka()._set(Ec(_),p)}(p,ye);const Ke=yield function lh(_,p,m){return Su.apply(this,arguments)}(p,ye,m),ft=yield function uh(_){const{cordova:p}=Ro();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(_):M=p.InAppBrowser.open(_,function Dr(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(M)})})}(Ke);return function Hi(_,p,m){return Lo.apply(this,arguments)}(p,J,ft)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Tg(_){return xu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:M,BuildInfo:L}=Ro(),J=setTimeout((0,i.Z)(function*(){yield ao(p),m.onEvent(Ic())}),500),ye=function(){var St=(0,i.Z)(function*(xt){clearTimeout(J);const dr=yield ao(p);let Ni=null;dr&&xt?.url&&(Ni=function Rw(_,p){var m,b;const M=function Ig(_){const p=Tc(_),m=p.link?decodeURIComponent(p.link):void 0,b=Tc(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Tc(M).link||M||b||m||_}(p);if(M.includes("/__/auth/callback")){const L=Tc(M),J=L.firebaseError?function Ml(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ye=null===(b=null===(m=J?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ke=ye?Me(ye):null;return Ke?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(dr,xt.url)),m.onEvent(Ni||Ic())});return function(dr){return St.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ye);const Ke=M,ft=`${L.packageName.toLowerCase()}://`;Ro().handleOpenURL=function(){var St=(0,i.Z)(function*(xt){if(xt.toLowerCase().startsWith(ft)&&ye({url:xt}),"function"==typeof Ke)try{Ke(xt)}catch(dr){console.error(dr)}});return function(xt){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ao,this._completeRedirectFn=Ft,this._overrideRedirectResult=ih}_initialize(p){var m=this;return(0,i.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,M){var L=this;return(0,i.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,m,b,M)})()}_openRedirect(p,m,b,M){var L=this;return(0,i.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,m,b,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ol()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,i.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Uo(){return Sc.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Mc(_){return _.unwrap()}function $f(_){return Oc(_)}function Oc(_){const{_tokenResponse:p}=_ instanceof V.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Mo.credentialFromResult(_);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=tl;break;case"facebook.com":b=ma;break;case"github.com":b=Vd;break;case"twitter.com":b=$d;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:J,pendingToken:ye,nonce:Ke}=p;return L||J||M||ye?ye?m.startsWith("saml.")?wo._create(m,ye):gs._fromParams({providerId:m,signInMethod:m,pendingToken:ye,idToken:M,accessToken:L}):new ga(m).credential({idToken:M,accessToken:L,rawNonce:Ke}):null}return _ instanceof V.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Cr(_,p){return p.catch(m=>{throw m instanceof V.ZR&&function Zf(_,p){var m,b;const M=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new mh(_,function xr(_,p){var m;const b=(0,V.m9)(_),M=p;return z(p.customData.operationType,b,"argument-error"),z(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),dl._fromError(b,M)}(_,p));else if(M){const L=Oc(p),J=p;L&&(J.credential=L,J.tenantId=M.tenantId||void 0,J.email=M.email||void 0,J.phoneNumber=M.phoneNumber||void 0)}}(_,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:$f(m),additionalUserInfo:gu(m),user:Os.getOrCreate(M)}})}function Nl(_,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,i.Z)(function*(_,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Cr(_,m.confirm(b))}})).apply(this,arguments)}class mh{constructor(p,m){this.resolver=m,this.auth=function Pc(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Cr(Mc(this.auth),this.resolver.resolveSignIn(p))}}class Os{constructor(p){this._delegate=p,this.multiFactor=function Yd(_){const p=(0,V.m9)(_);return fl.has(p)||fl.set(p,hl._fromUser(p)),fl.get(p)}(p)}static getOrCreate(p){return Os.USER_MAP.has(p)||Os.USER_MAP.set(p,new Os(p)),Os.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,i.Z)(function*(){return Cr(m.auth,ou(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,i.Z)(function*(){return Nl(b.auth,function vl(_,p,m){return xo.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,i.Z)(function*(){return Cr(m.auth,function Cl(_,p,m){return Cu.apply(this,arguments)}(m._delegate,p,uo))})()}linkWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield ph(Fn(m.auth)),function ie(_,p,m){return function he(_,p,m){return Fe.apply(this,arguments)}(_,p,m)}(m._delegate,p,uo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,i.Z)(function*(){return Cr(m.auth,Co(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Nl(this.auth,function ur(_,p,m){return xa.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Cr(this.auth,function Sf(_,p,m){return Po.apply(this,arguments)}(this._delegate,p,uo))}reauthenticateWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield ph(Fn(m.auth)),function S(_,p,m){return function k(_,p,m){return H.apply(this,arguments)}(_,p,m)}(m._delegate,p,uo)})()}sendEmailVerification(p){return function fc(_,p){return Ea.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,i.Z)(function*(){return yield function nl(_,p){return ys.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function _f(_,p){return _r((0,V.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function pu(_,p){return _r((0,V.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function fg(_,p){return _u.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function fu(_,p){return Ta.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function uu(_,p,m){return cu.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;const kl=z;let Ns=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;kl(M,"invalid-api-key",{appName:m.name}),kl(M,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?uo:void 0;this._delegate=b.initialize({options:{persistence:sv(M,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Rr(_,p,m){const b=Fn(_);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!m?.disableWarnings,L=Ws(p),{host:J,port:ye}=function ps(_){const p=Ws(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const L=M[1];return{host:L,port:ii(b.substr(L.length+1))}}{const[L,J]=b.split(":");return{host:L,port:ii(J)}}}(p);b.config.emulator={url:`${L}//${J}${null===ye?"":`:${ye}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:J,port:ye,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ys(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function sl(_,p){return Ca.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ol(this._delegate,m)}confirmPasswordReset(m,b){return function xi(_,p,m){return il.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var M=this;return(0,i.Z)(function*(){return Cr(M._delegate,function es(_,p,m){return al.apply(this,arguments)}(M._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function lu(_,p){return ul.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function dc(_,p){return"EMAIL_SIGNIN"===Bi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,i.Z)(function*(){kl(Dc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function tt(_,p){return Dt.apply(this,arguments)}(m._delegate,uo);return b?Cr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function zn(_,p){Fn(_)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,M){const{next:L,error:J,complete:ye}=Ru(m,b,M);return this._delegate.onAuthStateChanged(L,J,ye)}onIdTokenChanged(m,b,M){const{next:L,error:J,complete:ye}=Ru(m,b,M);return this._delegate.onIdTokenChanged(L,J,ye)}sendSignInLinkToEmail(m,b){return function bs(_,p,m){return cc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function rl(_,p,m){return eo.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,i.Z)(function*(){let M;switch(function Fw(_,p){Ps(Object.values(bi).includes(p),_,"invalid-persistence-type"),(0,V.b$)()?Ps(p!==bi.SESSION,_,"unsupported-persistence-type"):(0,V.UG)()?Ps(p===bi.NONE,_,"unsupported-persistence-type"):Pl()?Ps(p===bi.NONE||p===bi.LOCAL&&(0,V.hl)(),_,"unsupported-persistence-type"):Ps(p===bi.NONE||iv(),_,"unsupported-persistence-type")}(b._delegate,m),m){case bi.SESSION:M=Ao;break;case bi.LOCAL:M=(yield pe(ji)._isAvailable())?ji:gl;break;case bi.NONE:M=pn;break;default:return Be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Cr(this._delegate,function Zd(_){return yf.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Cr(this._delegate,Hn(this._delegate,m))}signInWithCustomToken(m){return Cr(this._delegate,function Re(_,p){return Yt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Cr(this._delegate,function Eo(_,p,m){return Hn((0,V.m9)(_),pa.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Cr(this._delegate,function Hd(_,p,m){return ll.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Nl(this._delegate,function Wr(_,p,m){return ai.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,i.Z)(function*(){return kl(Dc(),b._delegate,"operation-not-supported-in-this-environment"),Cr(b._delegate,function bu(_,p,m){return bl.apply(this,arguments)}(b._delegate,m,uo))})()}signInWithRedirect(m){var b=this;return(0,i.Z)(function*(){return kl(Dc(),b._delegate,"operation-not-supported-in-this-environment"),yield ph(b._delegate),function sh(_,p,m){return function El(_,p,m){return D.apply(this,arguments)}(_,p,m)}(b._delegate,m,uo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function to(_,p){return ar.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=bi,_})();function Ru(_,p,m){let b=_;"function"!=typeof _&&({next:b,error:p,complete:m}=_);const M=b;return{next:J=>M(J&&Os.getOrCreate(J)),error:p,complete:m}}function sv(_,p){const m=function Bf(_,p){const m=gh();if(!m)return[];const b=mr(fh,_,p);switch(m.getItem(b)){case bi.NONE:return[pn];case bi.LOCAL:return[ji,Ao];case bi.SESSION:return[Ao];default:return[]}}(_,p);if(typeof self<"u"&&!m.includes(ji)&&m.push(ji),typeof window<"u")for(const b of[gl,Ao])m.includes(b)||m.push(b);return m.includes(pn)||m.push(pn),m}class nr{constructor(){this.providerId="phone",this._delegate=new Mo(Mc(le.Z.auth()))}static credential(p,m){return Mo.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}nr.PHONE_SIGN_IN_METHOD=Mo.PHONE_SIGN_IN_METHOD,nr.PROVIDER_ID=Mo.PROVIDER_ID;const xg=z;class jf{constructor(p,m,b=le.Z.app()){var M;xg(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new yl(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mg(_){_.INTERNAL.registerComponent(new _e.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Ns(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:pa,FacebookAuthProvider:ma,GithubAuthProvider:Vd,GoogleAuthProvider:tl,OAuthProvider:ga,SAMLAuthProvider:si,PhoneAuthProvider:nr,PhoneMultiFactorGenerator:Rf,RecaptchaVerifier:jf,TwitterAuthProvider:$d,Auth:Ns,AuthCredential:yo,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.18")}(le.Z)},9751:(Et,Ue,Z)=>{Z.d(Ue,{y:()=>Ce});var i=Z(2961),le=Z(727),V=Z(8822),me=Z(9635),fe=Z(2416),be=Z(576),_e=Z(2806);let Ce=(()=>{class se{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Pe=new se;return Pe.source=this,Pe.operator=$e,Pe}subscribe($e,Pe,yt){const De=function K(se){return se&&se instanceof i.Lv||function Y(se){return se&&(0,be.m)(se.next)&&(0,be.m)(se.error)&&(0,be.m)(se.complete)}(se)&&(0,le.Nn)(se)}($e)?$e:new i.Hp($e,Pe,yt);return(0,_e.x)(()=>{const{operator:Ee,source:pt}=this;De.add(Ee?Ee.call(De,pt):pt?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe($e){try{return this._subscribe($e)}catch(Pe){$e.error(Pe)}}forEach($e,Pe){return new(Pe=Ie(Pe))((yt,De)=>{const Ee=new i.Hp({next:pt=>{try{$e(pt)}catch(wt){De(wt),Ee.unsubscribe()}},error:De,complete:yt});this.subscribe(Ee)})}_subscribe($e){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe($e)}[V.L](){return this}pipe(...$e){return(0,me.U)($e)(this)}toPromise($e){return new($e=Ie($e))((Pe,yt)=>{let De;this.subscribe(Ee=>De=Ee,Ee=>yt(Ee),()=>Pe(De))})}}return se.create=Qe=>new se(Qe),se})();function Ie(se){var Qe;return null!==(Qe=se??fe.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Et,Ue,Z)=>{Z.d(Ue,{x:()=>_e});var i=Z(9751),le=Z(727);const me=(0,Z(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=Z(8737),be=Z(2806);let _e=(()=>{class Ie extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const se=new Ce(this,this);return se.operator=K,se}_throwIfClosed(){if(this.closed)throw new me}next(K){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(K)}})}error(K){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:se}=this;for(;se.length;)se.shift().error(K)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:se,isStopped:Qe,observers:$e}=this;return se||Qe?le.Lc:(this.currentObservers=null,$e.push(K),new le.w0(()=>{this.currentObservers=null,(0,fe.P)($e,K)}))}_checkFinalizedStatuses(K){const{hasError:se,thrownError:Qe,isStopped:$e}=this;se?K.error(Qe):$e&&K.complete()}asObservable(){const K=new i.y;return K.source=this,K}}return Ie.create=(Y,K)=>new Ce(Y,K),Ie})();class Ce extends _e{constructor(Y,K){super(),this.destination=Y,this.source=K}next(Y){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===se||se.call(K,Y)}error(Y){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===se||se.call(K,Y)}complete(){var Y,K;null===(K=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===K||K.call(Y)}_subscribe(Y){var K,se;return null!==(se=null===(K=this.source)||void 0===K?void 0:K.subscribe(Y))&&void 0!==se?se:le.Lc}}},2961:(Et,Ue,Z)=>{Z.d(Ue,{Hp:()=>yt,Lv:()=>se});var i=Z(576),le=Z(727),V=Z(2416),me=Z(7849);function fe(){}const be=Ie("C",void 0,void 0);function Ie(Be,Me,ke){return{kind:Be,value:Me,error:ke}}var Y=Z(3410),K=Z(2806);class se extends le.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,le.Nn)(Me)&&Me.add(this)):this.destination=wt}static create(Me,ke,Xe){return new yt(Me,ke,Xe)}next(Me){this.isStopped?pt(function Ce(Be){return Ie("N",Be,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?pt(function _e(Be){return Ie("E",void 0,Be)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?pt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function $e(Be,Me){return Qe.call(Be,Me)}class Pe{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Me)}catch(Xe){De(Xe)}}error(Me){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Me)}catch(Xe){De(Xe)}else De(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ke){De(ke)}}}class yt extends se{constructor(Me,ke,Xe){let et;if(super(),(0,i.m)(Me)||!Me)et={next:Me??void 0,error:ke??void 0,complete:Xe??void 0};else{let z;this&&V.v.useDeprecatedNextContext?(z=Object.create(Me),z.unsubscribe=()=>this.unsubscribe(),et={next:Me.next&&$e(Me.next,z),error:Me.error&&$e(Me.error,z),complete:Me.complete&&$e(Me.complete,z)}):et=Me}this.destination=new Pe(et)}}function De(Be){V.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Be):(0,me.h)(Be)}function pt(Be,Me){const{onStoppedNotification:ke}=V.v;ke&&Y.z.setTimeout(()=>ke(Be,Me))}const wt={closed:!0,next:fe,error:function Ee(Be){throw Be},complete:fe}},727:(Et,Ue,Z)=>{Z.d(Ue,{Lc:()=>be,w0:()=>fe,Nn:()=>_e});var i=Z(576);const V=(0,Z(3888).d)(Ie=>function(K){Ie(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((se,Qe)=>`${Qe+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var me=Z(8737);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const $e of K)$e.remove(this);else K.remove(this);const{initialTeardown:se}=this;if((0,i.m)(se))try{se()}catch($e){Y=$e instanceof V?$e.errors:[$e]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const $e of Qe)try{Ce($e)}catch(Pe){Y=Y??[],Pe instanceof V?Y=[...Y,...Pe.errors]:Y.push(Pe)}}if(Y)throw new V(Y)}}add(Y){var K;if(Y&&Y!==this)if(this.closed)Ce(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Y)}}_hasParent(Y){const{_parentage:K}=this;return K===Y||Array.isArray(K)&&K.includes(Y)}_addParent(Y){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Y),K):K?[K,Y]:Y}_removeParent(Y){const{_parentage:K}=this;K===Y?this._parentage=null:Array.isArray(K)&&(0,me.P)(K,Y)}remove(Y){const{_finalizers:K}=this;K&&(0,me.P)(K,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Ie=new fe;return Ie.closed=!0,Ie})();const be=fe.EMPTY;function _e(Ie){return Ie instanceof fe||Ie&&"closed"in Ie&&(0,i.m)(Ie.remove)&&(0,i.m)(Ie.add)&&(0,i.m)(Ie.unsubscribe)}function Ce(Ie){(0,i.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(Et,Ue,Z)=>{Z.d(Ue,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Ue,Z)=>{Z.d(Ue,{E:()=>le});const le=new(Z(9751).y)(fe=>fe.complete())},8996:(Et,Ue,Z)=>{Z.d(Ue,{D:()=>Me});var i=Z(8421),le=Z(5363),V=Z(9468),be=Z(9751),Ce=Z(2202),Ie=Z(576),Y=Z(9672);function se(ke,Xe){if(!ke)throw new Error("Iterable cannot be null");return new be.y(et=>{(0,Y.f)(et,Xe,()=>{const z=ke[Symbol.asyncIterator]();(0,Y.f)(et,Xe,()=>{z.next().then(Ae=>{Ae.done?et.complete():et.next(Ae.value)})},0,!0)})})}var Qe=Z(3670),$e=Z(8239),Pe=Z(1144),yt=Z(6495),De=Z(2206),Ee=Z(4532),pt=Z(3260);function Me(ke,Xe){return Xe?function Be(ke,Xe){if(null!=ke){if((0,Qe.c)(ke))return function me(ke,Xe){return(0,i.Xf)(ke).pipe((0,V.R)(Xe),(0,le.Q)(Xe))}(ke,Xe);if((0,Pe.z)(ke))return function _e(ke,Xe){return new be.y(et=>{let z=0;return Xe.schedule(function(){z===ke.length?et.complete():(et.next(ke[z++]),et.closed||this.schedule())})})}(ke,Xe);if((0,$e.t)(ke))return function fe(ke,Xe){return(0,i.Xf)(ke).pipe((0,V.R)(Xe),(0,le.Q)(Xe))}(ke,Xe);if((0,De.D)(ke))return se(ke,Xe);if((0,yt.T)(ke))return function K(ke,Xe){return new be.y(et=>{let z;return(0,Y.f)(et,Xe,()=>{z=ke[Ce.h](),(0,Y.f)(et,Xe,()=>{let Ae,re;try{({value:Ae,done:re}=z.next())}catch(ae){return void et.error(ae)}re?et.complete():et.next(Ae)},0,!0)}),()=>(0,Ie.m)(z?.return)&&z.return()})}(ke,Xe);if((0,pt.L)(ke))return function wt(ke,Xe){return se((0,pt.Q)(ke),Xe)}(ke,Xe)}throw(0,Ee.z)(ke)}(ke,Xe):(0,i.Xf)(ke)}},8421:(Et,Ue,Z)=>{Z.d(Ue,{Xf:()=>Qe});var i=Z(655),le=Z(1144),V=Z(8239),me=Z(9751),fe=Z(3670),be=Z(2206),_e=Z(4532),Ce=Z(6495),Ie=Z(3260),Y=Z(576),K=Z(7849),se=Z(8822);function Qe(Be){if(Be instanceof me.y)return Be;if(null!=Be){if((0,fe.c)(Be))return function $e(Be){return new me.y(Me=>{const ke=Be[se.L]();if((0,Y.m)(ke.subscribe))return ke.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,le.z)(Be))return function Pe(Be){return new me.y(Me=>{for(let ke=0;ke<Be.length&&!Me.closed;ke++)Me.next(Be[ke]);Me.complete()})}(Be);if((0,V.t)(Be))return function yt(Be){return new me.y(Me=>{Be.then(ke=>{Me.closed||(Me.next(ke),Me.complete())},ke=>Me.error(ke)).then(null,K.h)})}(Be);if((0,be.D)(Be))return Ee(Be);if((0,Ce.T)(Be))return function De(Be){return new me.y(Me=>{for(const ke of Be)if(Me.next(ke),Me.closed)return;Me.complete()})}(Be);if((0,Ie.L)(Be))return function pt(Be){return Ee((0,Ie.Q)(Be))}(Be)}throw(0,_e.z)(Be)}function Ee(Be){return new me.y(Me=>{(function wt(Be,Me){var ke,Xe,et,z;return(0,i.mG)(this,void 0,void 0,function*(){try{for(ke=(0,i.KL)(Be);!(Xe=yield ke.next()).done;)if(Me.next(Xe.value),Me.closed)return}catch(Ae){et={error:Ae}}finally{try{Xe&&!Xe.done&&(z=ke.return)&&(yield z.call(ke))}finally{if(et)throw et.error}}Me.complete()})})(Be,Me).catch(ke=>Me.error(ke))})}},6451:(Et,Ue,Z)=>{Z.d(Ue,{T:()=>be});var i=Z(8189),le=Z(8421),V=Z(515),me=Z(7669),fe=Z(8996);function be(..._e){const Ce=(0,me.yG)(_e),Ie=(0,me._6)(_e,1/0),Y=_e;return Y.length?1===Y.length?(0,le.Xf)(Y[0]):(0,i.J)(Ie)((0,fe.D)(Y,Ce)):V.E}},5403:(Et,Ue,Z)=>{Z.d(Ue,{x:()=>le});var i=Z(2961);function le(me,fe,be,_e,Ce){return new V(me,fe,be,_e,Ce)}class V extends i.Lv{constructor(fe,be,_e,Ce,Ie,Y){super(fe),this.onFinalize=Ie,this.shouldUnsubscribe=Y,this._next=be?function(K){try{be(K)}catch(se){fe.error(se)}}:super._next,this._error=Ce?function(K){try{Ce(K)}catch(se){fe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(K){fe.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(Et,Ue,Z)=>{Z.d(Ue,{U:()=>V});var i=Z(4482),le=Z(5403);function V(me,fe){return(0,i.e)((be,_e)=>{let Ce=0;be.subscribe((0,le.x)(_e,Ie=>{_e.next(me.call(fe,Ie,Ce++))}))})}},8189:(Et,Ue,Z)=>{Z.d(Ue,{J:()=>V});var i=Z(5577),le=Z(4671);function V(me=1/0){return(0,i.z)(le.y,me)}},5577:(Et,Ue,Z)=>{Z.d(Ue,{z:()=>Ce});var i=Z(4004),le=Z(8421),V=Z(4482),me=Z(9672),fe=Z(5403),_e=Z(576);function Ce(Ie,Y,K=1/0){return(0,_e.m)(Y)?Ce((se,Qe)=>(0,i.U)(($e,Pe)=>Y(se,$e,Qe,Pe))((0,le.Xf)(Ie(se,Qe))),K):("number"==typeof Y&&(K=Y),(0,V.e)((se,Qe)=>function be(Ie,Y,K,se,Qe,$e,Pe,yt){const De=[];let Ee=0,pt=0,wt=!1;const Be=()=>{wt&&!De.length&&!Ee&&Y.complete()},Me=Xe=>Ee<se?ke(Xe):De.push(Xe),ke=Xe=>{$e&&Y.next(Xe),Ee++;let et=!1;(0,le.Xf)(K(Xe,pt++)).subscribe((0,fe.x)(Y,z=>{Qe?.(z),$e?Me(z):Y.next(z)},()=>{et=!0},void 0,()=>{if(et)try{for(Ee--;De.length&&Ee<se;){const z=De.shift();Pe?(0,me.f)(Y,Pe,()=>ke(z)):ke(z)}Be()}catch(z){Y.error(z)}}))};return Ie.subscribe((0,fe.x)(Y,Me,()=>{wt=!0,Be()})),()=>{yt?.()}}(se,Qe,Ie,K)))}},5363:(Et,Ue,Z)=>{Z.d(Ue,{Q:()=>me});var i=Z(9672),le=Z(4482),V=Z(5403);function me(fe,be=0){return(0,le.e)((_e,Ce)=>{_e.subscribe((0,V.x)(Ce,Ie=>(0,i.f)(Ce,fe,()=>Ce.next(Ie),be),()=>(0,i.f)(Ce,fe,()=>Ce.complete(),be),Ie=>(0,i.f)(Ce,fe,()=>Ce.error(Ie),be)))})}},3099:(Et,Ue,Z)=>{Z.d(Ue,{B:()=>fe});var i=Z(8421),le=Z(7579),V=Z(2961),me=Z(4482);function fe(_e={}){const{connector:Ce=(()=>new le.x),resetOnError:Ie=!0,resetOnComplete:Y=!0,resetOnRefCountZero:K=!0}=_e;return se=>{let Qe,$e,Pe,yt=0,De=!1,Ee=!1;const pt=()=>{$e?.unsubscribe(),$e=void 0},wt=()=>{pt(),Qe=Pe=void 0,De=Ee=!1},Be=()=>{const Me=Qe;wt(),Me?.unsubscribe()};return(0,me.e)((Me,ke)=>{yt++,!Ee&&!De&&pt();const Xe=Pe=Pe??Ce();ke.add(()=>{yt--,0===yt&&!Ee&&!De&&($e=be(Be,K))}),Xe.subscribe(ke),!Qe&&yt>0&&(Qe=new V.Hp({next:et=>Xe.next(et),error:et=>{Ee=!0,pt(),$e=be(wt,Ie,et),Xe.error(et)},complete:()=>{De=!0,pt(),$e=be(wt,Y),Xe.complete()}}),(0,i.Xf)(Me).subscribe(Qe))})(se)}}function be(_e,Ce,...Ie){if(!0===Ce)return void _e();if(!1===Ce)return;const Y=new V.Hp({next:()=>{Y.unsubscribe(),_e()}});return Ce(...Ie).subscribe(Y)}},9468:(Et,Ue,Z)=>{Z.d(Ue,{R:()=>le});var i=Z(4482);function le(V,me=0){return(0,i.e)((fe,be)=>{be.add(V.schedule(()=>fe.subscribe(be),me))})}},8505:(Et,Ue,Z)=>{Z.d(Ue,{b:()=>fe});var i=Z(576),le=Z(4482),V=Z(5403),me=Z(4671);function fe(be,_e,Ce){const Ie=(0,i.m)(be)||_e||Ce?{next:be,error:_e,complete:Ce}:be;return Ie?(0,le.e)((Y,K)=>{var se;null===(se=Ie.subscribe)||void 0===se||se.call(Ie);let Qe=!0;Y.subscribe((0,V.x)(K,$e=>{var Pe;null===(Pe=Ie.next)||void 0===Pe||Pe.call(Ie,$e),K.next($e)},()=>{var $e;Qe=!1,null===($e=Ie.complete)||void 0===$e||$e.call(Ie),K.complete()},$e=>{var Pe;Qe=!1,null===(Pe=Ie.error)||void 0===Pe||Pe.call(Ie,$e),K.error($e)},()=>{var $e,Pe;Qe&&(null===($e=Ie.unsubscribe)||void 0===$e||$e.call(Ie)),null===(Pe=Ie.finalize)||void 0===Pe||Pe.call(Ie)}))}):me.y}},4408:(Et,Ue,Z)=>{Z.d(Ue,{o:()=>fe});var i=Z(727);class le extends i.w0{constructor(_e,Ce){super()}schedule(_e,Ce=0){return this}}const V={setInterval(be,_e,...Ce){const{delegate:Ie}=V;return Ie?.setInterval?Ie.setInterval(be,_e,...Ce):setInterval(be,_e,...Ce)},clearInterval(be){const{delegate:_e}=V;return(_e?.clearInterval||clearInterval)(be)},delegate:void 0};var me=Z(8737);class fe extends le{constructor(_e,Ce){super(_e,Ce),this.scheduler=_e,this.work=Ce,this.pending=!1}schedule(_e,Ce=0){if(this.closed)return this;this.state=_e;const Ie=this.id,Y=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(Y,Ie,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(Y,this.id,Ce),this}requestAsyncId(_e,Ce,Ie=0){return V.setInterval(_e.flush.bind(_e,this),Ie)}recycleAsyncId(_e,Ce,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ce;V.clearInterval(Ce)}execute(_e,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(_e,Ce);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ce){let Y,Ie=!1;try{this.work(_e)}catch(K){Ie=!0,Y=K||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ce}=this,{actions:Ie}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Ie,this),null!=_e&&(this.id=this.recycleAsyncId(Ce,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Ue,Z)=>{Z.d(Ue,{v:()=>V});var i=Z(6063);class le{constructor(fe,be=le.now){this.schedulerActionCtor=fe,this.now=be}schedule(fe,be=0,_e){return new this.schedulerActionCtor(this,fe).schedule(_e,be)}}le.now=i.l.now;class V extends le{constructor(fe,be=le.now){super(fe,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:be}=this;if(this._active)return void be.push(fe);let _e;this._active=!0;do{if(_e=fe.execute(fe.state,fe.delay))break}while(fe=be.shift());if(this._active=!1,_e){for(;fe=be.shift();)fe.unsubscribe();throw _e}}}},4986:(Et,Ue,Z)=>{Z.d(Ue,{z:()=>V});var i=Z(4408);const V=new(Z(7565).v)(i.o)},6063:(Et,Ue,Z)=>{Z.d(Ue,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(Et,Ue,Z)=>{Z.d(Ue,{z:()=>i});const i={setTimeout(le,V,...me){const{delegate:fe}=i;return fe?.setTimeout?fe.setTimeout(le,V,...me):setTimeout(le,V,...me)},clearTimeout(le){const{delegate:V}=i;return(V?.clearTimeout||clearTimeout)(le)},delegate:void 0}},2202:(Et,Ue,Z)=>{Z.d(Ue,{h:()=>le});const le=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Ue,Z)=>{Z.d(Ue,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Et,Ue,Z)=>{Z.d(Ue,{_6:()=>be,jO:()=>me,yG:()=>fe});var i=Z(576);function V(_e){return _e[_e.length-1]}function me(_e){return(0,i.m)(V(_e))?_e.pop():void 0}function fe(_e){return function le(_e){return _e&&(0,i.m)(_e.schedule)}(V(_e))?_e.pop():void 0}function be(_e,Ce){return"number"==typeof V(_e)?_e.pop():Ce}},8737:(Et,Ue,Z)=>{function i(le,V){if(le){const me=le.indexOf(V);0<=me&&le.splice(me,1)}}Z.d(Ue,{P:()=>i})},3888:(Et,Ue,Z)=>{function i(le){const me=le(fe=>{Error.call(fe),fe.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}Z.d(Ue,{d:()=>i})},2806:(Et,Ue,Z)=>{Z.d(Ue,{O:()=>me,x:()=>V});var i=Z(2416);let le=null;function V(fe){if(i.v.useDeprecatedSynchronousErrorHandling){const be=!le;if(be&&(le={errorThrown:!1,error:null}),fe(),be){const{errorThrown:_e,error:Ce}=le;if(le=null,_e)throw Ce}}else fe()}function me(fe){i.v.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=fe)}},9672:(Et,Ue,Z)=>{function i(le,V,me,fe=0,be=!1){const _e=V.schedule(function(){me(),be?le.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(le.add(_e),!be)return _e}Z.d(Ue,{f:()=>i})},4671:(Et,Ue,Z)=>{function i(le){return le}Z.d(Ue,{y:()=>i})},1144:(Et,Ue,Z)=>{Z.d(Ue,{z:()=>i});const i=le=>le&&"number"==typeof le.length&&"function"!=typeof le},2206:(Et,Ue,Z)=>{Z.d(Ue,{D:()=>le});var i=Z(576);function le(V){return Symbol.asyncIterator&&(0,i.m)(V?.[Symbol.asyncIterator])}},576:(Et,Ue,Z)=>{function i(le){return"function"==typeof le}Z.d(Ue,{m:()=>i})},3670:(Et,Ue,Z)=>{Z.d(Ue,{c:()=>V});var i=Z(8822),le=Z(576);function V(me){return(0,le.m)(me[i.L])}},6495:(Et,Ue,Z)=>{Z.d(Ue,{T:()=>V});var i=Z(2202),le=Z(576);function V(me){return(0,le.m)(me?.[i.h])}},8239:(Et,Ue,Z)=>{Z.d(Ue,{t:()=>le});var i=Z(576);function le(V){return(0,i.m)(V?.then)}},3260:(Et,Ue,Z)=>{Z.d(Ue,{L:()=>me,Q:()=>V});var i=Z(655),le=Z(576);function V(fe){return(0,i.FC)(this,arguments,function*(){const _e=fe.getReader();try{for(;;){const{value:Ce,done:Ie}=yield(0,i.qq)(_e.read());if(Ie)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(Ce)}}finally{_e.releaseLock()}})}function me(fe){return(0,le.m)(fe?.getReader)}},4482:(Et,Ue,Z)=>{Z.d(Ue,{A:()=>le,e:()=>V});var i=Z(576);function le(me){return(0,i.m)(me?.lift)}function V(me){return fe=>{if(le(fe))return fe.lift(function(be){try{return me(be,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Et,Ue,Z)=>{Z.d(Ue,{U:()=>V,z:()=>le});var i=Z(4671);function le(...me){return V(me)}function V(me){return 0===me.length?i.y:1===me.length?me[0]:function(be){return me.reduce((_e,Ce)=>Ce(_e),be)}}},7849:(Et,Ue,Z)=>{Z.d(Ue,{h:()=>V});var i=Z(2416),le=Z(3410);function V(me){le.z.setTimeout(()=>{const{onUnhandledError:fe}=i.v;if(!fe)throw me;fe(me)})}},4532:(Et,Ue,Z)=>{function i(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(Ue,{z:()=>i})},655:(Et,Ue,Z)=>{function me(re,ae){var pe={};for(var ce in re)Object.prototype.hasOwnProperty.call(re,ce)&&ae.indexOf(ce)<0&&(pe[ce]=re[ce]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(ce=Object.getOwnPropertySymbols(re);Ye<ce.length;Ye++)ae.indexOf(ce[Ye])<0&&Object.prototype.propertyIsEnumerable.call(re,ce[Ye])&&(pe[ce[Ye]]=re[ce[Ye]])}return pe}function Ce(re,ae,pe,ce){return new(pe||(pe=Promise))(function(Ge,At){function an(bn){try{ot(ce.next(bn))}catch(Yn){At(Yn)}}function rn(bn){try{ot(ce.throw(bn))}catch(Yn){At(Yn)}}function ot(bn){bn.done?Ge(bn.value):function Ye(Ge){return Ge instanceof pe?Ge:new pe(function(At){At(Ge)})}(bn.value).then(an,rn)}ot((ce=ce.apply(re,ae||[])).next())})}function De(re){return this instanceof De?(this.v=re,this):new De(re)}function Ee(re,ae,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,ce=pe.apply(re,ae||[]),Ge=[];return Ye={},At("next"),At("throw"),At("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function At(dn){ce[dn]&&(Ye[dn]=function(hn){return new Promise(function(ni,zt){Ge.push([dn,hn,ni,zt])>1||an(dn,hn)})})}function an(dn,hn){try{!function rn(dn){dn.value instanceof De?Promise.resolve(dn.value.v).then(ot,bn):Yn(Ge[0][2],dn)}(ce[dn](hn))}catch(ni){Yn(Ge[0][3],ni)}}function ot(dn){an("next",dn)}function bn(dn){an("throw",dn)}function Yn(dn,hn){dn(hn),Ge.shift(),Ge.length&&an(Ge[0][0],Ge[0][1])}}function wt(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ae=re[Symbol.asyncIterator];return ae?ae.call(re):(re=function se(re){var ae="function"==typeof Symbol&&Symbol.iterator,pe=ae&&re[ae],ce=0;if(pe)return pe.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ce>=re.length&&(re=void 0),{value:re&&re[ce++],done:!re}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),pe={},ce("next"),ce("throw"),ce("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ce(Ge){pe[Ge]=re[Ge]&&function(At){return new Promise(function(an,rn){!function Ye(Ge,At,an,rn){Promise.resolve(rn).then(function(ot){Ge({value:ot,done:an})},At)}(an,rn,(At=re[Ge](At)).done,At.value)})}}}Z.d(Ue,{FC:()=>Ee,KL:()=>wt,_T:()=>me,mG:()=>Ce,qq:()=>De})},4650:(Et,Ue,Z)=>{Z.d(Ue,{$8M:()=>ji,$Z:()=>jv,AFp:()=>Zp,ALo:()=>UC,AaK:()=>Ce,Akn:()=>Jo,AsE:()=>xp,BQk:()=>vm,CHM:()=>Xs,CRH:()=>qC,CZH:()=>vy,CqO:()=>Tp,D6c:()=>_S,DdM:()=>bI,EJc:()=>ZI,EpF:()=>Fb,F$t:()=>y_,F4k:()=>Ub,FYo:()=>St,FiY:()=>he,G48:()=>tA,Gf:()=>C0,GfV:()=>Lu,Gpc:()=>K,Hsn:()=>Vb,JOm:()=>Kt,KtG:()=>ba,LFG:()=>In,LSH:()=>Ou,Lbi:()=>BI,Lck:()=>AC,MAs:()=>d_,MGl:()=>Ap,MMx:()=>c0,NdJ:()=>f_,O4$:()=>Ia,OlP:()=>tn,Oqu:()=>Nm,PXZ:()=>KI,Q6J:()=>pm,QGY:()=>_m,QP$:()=>Yh,Qsj:()=>xt,R0b:()=>us,RDi:()=>Pf,Rgc:()=>eu,SBq:()=>ye,Sil:()=>uS,Suo:()=>E0,TTD:()=>pa,TgZ:()=>gm,Tol:()=>S_,VKq:()=>ea,W1O:()=>WC,X6Q:()=>vE,XFs:()=>Pt,Xpm:()=>q,Xts:()=>Dc,Y36:()=>$c,YKP:()=>Xo,YNc:()=>zu,Yjl:()=>mr,Yz7:()=>hn,ZZ4:()=>ME,_Bn:()=>Zn,_UZ:()=>Ep,_Vd:()=>M,_c5:()=>nw,_uU:()=>Yl,aQg:()=>PE,c2e:()=>F0,cJS:()=>zt,cg1:()=>Pp,dDg:()=>WI,dqk:()=>ct,eFA:()=>ef,ekj:()=>D_,eoX:()=>dE,f3M:()=>sh,g9A:()=>L0,h0i:()=>Pr,hGG:()=>rw,hij:()=>km,iGM:()=>b0,ifc:()=>_t,ip1:()=>$p,kL8:()=>j_,kcU:()=>zd,l5B:()=>NC,lG2:()=>pn,lcZ:()=>oy,lnq:()=>P_,lqb:()=>Cr,lri:()=>cE,n5z:()=>mc,oAB:()=>Je,oxw:()=>bm,q4F:()=>Nc,qLn:()=>La,qOj:()=>ql,qZA:()=>mm,qbA:()=>kC,rWj:()=>V0,s9C:()=>Cm,sBO:()=>z0,sIi:()=>Jc,s_b:()=>Wu,soG:()=>Id,tb:()=>qa,tp0:()=>tt,uIk:()=>Rh,vHH:()=>Pe,vpe:()=>$s,wAp:()=>Nt,xi3:()=>p0,xp6:()=>Mv,ynx:()=>ym,z2F:()=>qp,zSh:()=>Mc,zs3:()=>gr});var i=Z(7579),le=Z(727),V=Z(9751),me=Z(6451),fe=Z(3099);function be(o){for(let a in o)if(o[a]===be)return a;throw Error("Could not find renamed property on target object.")}function _e(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function Ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Ie(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Y=be({__forward_ref__:be});function K(o){return o.__forward_ref__=K,o.toString=function(){return Ce(this())},o}function se(o){return Qe(o)?o():o}function Qe(o){return"function"==typeof o&&o.hasOwnProperty(Y)&&o.__forward_ref__===K}class Pe extends Error{constructor(a,u){super(function yt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function De(o){return"string"==typeof o?o:null==o?"":String(o)}function Me(o,a){throw new Pe(-201,!1)}function rn(o,a){null==o&&function ot(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function hn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function zt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Cn(o){return oa(o,Ki)||oa(o,Ai)}function oa(o,a){return o.hasOwnProperty(a)?o[a]:null}function ri(o){return o&&(o.hasOwnProperty(hs)||o.hasOwnProperty(Qi))?o[hs]:null}const Ki=be({\u0275prov:be}),hs=be({\u0275inj:be}),Ai=be({ngInjectableDef:be}),Qi=be({ngInjectorDef:be});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let Dn;function Kn(o){const a=Dn;return Dn=o,a}function Ji(o,a,u){const d=Cn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Pt.Optional?null:void 0!==a?a:void Me(Ce(o))}function Qn(o){return{toString:o}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),_t=(()=>{return(o=_t||(_t={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",_t;var o})();const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),On={},Gt=[],or=be({\u0275cmp:be}),qs=be({\u0275dir:be}),fn=be({\u0275pipe:be}),Xi=be({\u0275mod:be}),Xt=be({\u0275fac:be}),ne=be({__NG_ELEMENT_ID__:be});let Q=0;function q(o){return Qn(()=>{const u=!0===o.standalone,d={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||_t.Emulated,id:"c"+Q++,styles:o.styles||Gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,w=o.features;return h.inputs=En(o.inputs,d),h.outputs=En(o.outputs),w&&w.forEach(T=>T(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ee).filter(Le):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Nn).filter(Le):null,h})}function ee(o){return vt(o)||Tn(o)}function Le(o){return null!==o}function Je(o){return Qn(()=>({type:o.type,bootstrap:o.bootstrap||Gt,declarations:o.declarations||Gt,imports:o.imports||Gt,exports:o.exports||Gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function En(o,a){if(null==o)return On;const u={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,a&&(a[h]=g)}return u}const pn=q;function mr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function vt(o){return o[or]||null}function Tn(o){return o[qs]||null}function Nn(o){return o[fn]||null}function Ar(o,a){const u=o[Xi]||null;if(!u&&!0===a)throw new Error(`Type ${Ce(o)} does not have '\u0275mod' property.`);return u}function Sn(o){return Array.isArray(o)&&"object"==typeof o[1]}function gi(o){return Array.isArray(o)&&!0===o[1]}function da(o){return 0!=(8&o.flags)}function vo(o){return 2==(2&o.flags)}function ha(o){return 1==(1&o.flags)}function mi(o){return null!==o.template}function gf(o){return 0!=(256&o[2])}function Bi(o,a){return o.hasOwnProperty(Xt)?o[Xt]:null}class Ud{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function pa(){return Si}function Si(o){return o.type.prototype.ngOnChanges&&(o.setInput=ga),_o}function _o(){const o=tl(this),a=o?.current;if(a){const u=o.previous;if(u===On)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function ga(o,a,u,d){const h=tl(o)||function Vd(o,a){return o[ma]=a}(o,{previous:On,current:null}),g=h.current||(h.current={}),w=h.previous,T=this.declaredInputs[u],I=w[T];g[T]=new Ud(I&&I.currentValue,a,w===On),o[d]=a}pa.ngInherit=!0;const ma="__ngSimpleChanges__";function tl(o){return o[ma]||null}function er(o){for(;Array.isArray(o);)o=o[0];return o}function bo(o,a){return er(a[o])}function vi(o,a){return er(a[o.index])}function nl(o,a){return o.data[a]}function ys(o,a){return o[a]}function Sr(o,a){const u=a[o];return Sn(u)?u:u[0]}function va(o){return 4==(4&o[2])}function $i(o){return 64==(64&o[2])}function _s(o,a){return null==a?null:o[a]}function ws(o){o[18]=0}function _a(o,a){o[5]+=a;let u=o,d=o[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const kt={lFrame:du(null),bindingsEnabled:!0};function Js(){return kt.bindingsEnabled}function Re(){return kt.lFrame.lView}function Yt(){return kt.lFrame.tView}function Xs(o){return kt.lFrame.contextLView=o,o[8]}function ba(o){return kt.lFrame.contextLView=null,o}function kn(){let o=rl();for(;null!==o&&64===o.type;)o=o.parent;return o}function rl(){return kt.lFrame.currentTNode}function xi(o,a){const u=kt.lFrame;u.currentTNode=o,u.isParent=a}function il(){return kt.lFrame.isParent}function sl(){kt.lFrame.isParent=!1}function ar(){const o=kt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function es(){return kt.lFrame.bindingIndex}function Eo(){return kt.lFrame.bindingIndex++}function bs(o){const a=kt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Hd(o,a){const u=kt.lFrame;u.bindingIndex=u.bindingRootIndex=o,hc(a)}function hc(o){kt.lFrame.currentDirectiveIndex=o}function lu(){return kt.lFrame.currentQueryIndex}function ul(o){kt.lFrame.currentQueryIndex=o}function fc(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Ea(o,a,u){if(u&Pt.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||u&Pt.Host||(h=fc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const d=kt.lFrame=cu();return d.currentTNode=a,d.lView=o,!0}function uu(o){const a=cu(),u=o[1];kt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function cu(){const o=kt.lFrame,a=null===o?null:o.child;return null===a?du(o):a}function du(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function hu(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fu=hu;function Ta(){const o=hu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _r(){return kt.lFrame.selectedIndex}function Mi(o){kt.lFrame.selectedIndex=o}function Un(){const o=kt.lFrame;return nl(o.tView,o.selectedIndex)}function Ia(){kt.lFrame.currentNamespace="svg"}function zd(){!function pc(){kt.lFrame.currentNamespace=null}()}function gu(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:T,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:R}=g;w&&(o.contentHooks||(o.contentHooks=[])).push(-u,w),T&&((o.contentHooks||(o.contentHooks=[])).push(u,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,T)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),x&&((o.viewHooks||(o.viewHooks=[])).push(u,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,x)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(u,R)}}function wf(o,a,u){Io(o,a,3,u)}function bf(o,a,u,d){(3&o[2])===u&&Io(o,a,u,d)}function cl(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Io(o,a,u,d){const g=d??-1,w=a.length-1;let T=0;for(let I=void 0!==d?65535&o[18]:0;I<w;I++)if("number"==typeof a[I+1]){if(T=a[I],null!=d&&T>=d)break}else a[I]<0&&(o[18]+=65536),(T<g||-1==g)&&(zy(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function zy(o,a,u,d){const h=u[d]<0,g=u[d+1],T=o[h?-u[d]:u[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class Aa{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function hl(o,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],w=u[d++],T=u[d++];o.setAttribute(a,w,T,g)}else{const g=h,w=u[++d];Yd(g)?o.setProperty(a,g,w):o.setAttribute(a,g,w),d++}}return d}function fl(o){return 3===o||4===o||6===o}function Yd(o){return 64===o.charCodeAt(0)}function no(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||Kd(o,u,h,null,-1===u||2===u?a[++d]:null)}}return o}function Kd(o,a,u,d,h){let g=0,w=o.length;if(-1===a)w=-1;else for(;g<o.length;){const T=o[g++];if("number"==typeof T){if(T===a){w=-1;break}if(T>a){w=g-1;break}}}for(;g<o.length;){const T=o[g];if("number"==typeof T)break;if(T===u){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==w&&(o.splice(w,0,a),g=w+1),o.splice(g++,0,u),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function Tf(o){return-1!==o}function pl(o){return 32767&o}function Lr(o,a){let u=function cg(o){return o>>16}(o),d=a;for(;u>0;)d=d[15],u--;return d}let gl=!0;function Qd(o){const a=gl;return gl=o,a}let qr=0;const Pi={};function cn(o,a){const u=lt(o,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Zi(d.data,o),Zi(a,null),Zi(d.blueprint,null));const h=Vn(o,a),g=o.injectorIndex;if(Tf(h)){const w=pl(h),T=Lr(h,a),I=T[1].data;for(let x=0;x<8;x++)a[g+x]=T[w+x]|I[w+x]}return a[g+8]=h,g}function Zi(o,a){o.push(0,0,0,0,0,0,0,0,a)}function lt(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Vn(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=Is(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ro(o,a,u){!function mn(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ne)&&(d=u[ne]),null==d&&(d=u[ne]=qr++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function Cs(o,a,u){if(u&Pt.Optional)return o;Me()}function Fr(o,a,u,d){if(u&Pt.Optional&&void 0===d&&(d=null),0==(u&(Pt.Self|Pt.Host))){const h=o[9],g=Kn(void 0);try{return h?h.get(a,d,u&Pt.Optional):Ji(a,d,u&Pt.Optional)}finally{Kn(g)}}return Cs(d,0,u)}function rs(o,a,u,d=Pt.Default,h){if(null!==o){if(1024&a[2]){const w=function Se(o,a,u,d,h){let g=o,w=a;for(;null!==g&&null!==w&&1024&w[2]&&!(256&w[2]);){const T=wr(g,w,u,d|Pt.Self,Pi);if(T!==Pi)return T;let I=g.parent;if(!I){const x=w[21];if(x){const R=x.get(u,Pi,d);if(R!==Pi)return R}I=Is(w),w=w[15]}g=I}return h}(o,a,u,d,Pi);if(w!==Pi)return w}const g=wr(o,a,u,d,Pi);if(g!==Pi)return g}return Fr(a,u,d,h)}function wr(o,a,u,d,h){const g=function So(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ne)?o[ne]:void 0;return"number"==typeof a?a>=0?255&a:Ur:a}(u);if("function"==typeof g){if(!Ea(a,o,d))return d&Pt.Host?Cs(h,0,d):Fr(a,u,d,h);try{const w=g(d);if(null!=w||d&Pt.Optional)return w;Me()}finally{fu()}}else if("number"==typeof g){let w=null,T=lt(o,a),I=-1,x=d&Pt.Host?a[16][6]:null;for((-1===T||d&Pt.SkipSelf)&&(I=-1===T?Vn(o,a):a[T+8],-1!==I&&mu(d,!1)?(w=a[1],T=pl(I),a=Lr(I,a)):T=-1);-1!==T;){const R=a[1];if(Ts(g,T,R.data)){const B=Es(T,a,u,w,d,x);if(B!==Pi)return B}I=a[T+8],-1!==I&&mu(d,a[1].data[T+8]===x)&&Ts(g,T,a)?(w=R,T=pl(I),a=Lr(I,a)):T=-1}}return h}function Es(o,a,u,d,h,g){const w=a[1],T=w.data[o+8],R=Ct(T,w,u,null==d?vo(T)&&gl:d!=w&&0!=(3&T.type),h&Pt.Host&&g===T);return null!==R?Do(a,w,R,T):Pi}function Ct(o,a,u,d,h){const g=o.providerIndexes,w=a.data,T=1048575&g,I=o.directiveStart,R=g>>20,te=h?T+R:o.directiveEnd;for(let ue=d?T:T+R;ue<te;ue++){const Ne=w[ue];if(ue<I&&u===Ne||ue>=I&&Ne.type===u)return ue}if(h){const ue=w[I];if(ue&&mi(ue)&&ue.type===u)return I}return null}function Do(o,a,u,d){let h=o[u];const g=a.data;if(function Cf(o){return o instanceof Aa}(h)){const w=h;w.resolving&&function pt(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Ee(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():De(o)}(g[u]));const T=Qd(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?Kn(w.injectImpl):null;Ea(o,d,Pt.Default);try{h=o[u]=w.factory(void 0,g,o,d),a.firstCreatePass&&u>=d.directiveStart&&function gc(o,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const w=Si(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,w)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],a)}finally{null!==I&&Kn(I),Qd(T),w.resolving=!1,fu()}}return h}function Ts(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function mu(o,a){return!(o&Pt.Self||o&Pt.Host&&a)}class io{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return rs(this._tNode,this._lView,a,d,u)}}function Ur(){return new io(kn(),Re())}function mc(o){return Qn(()=>{const a=o.prototype.constructor,u=a[Xt]||yu(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Xt]||yu(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function yu(o){return Qe(o)?()=>{const a=yu(se(o));return a&&a()}:Bi(o)}function Is(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function ji(o){return function If(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(fl(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}(kn(),o)}const jt="__parameters__";function Oi(o,a,u){return Qn(()=>{const d=function dt(o){return function(...u){if(o){const d=o(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const w=new h(...g);return T.annotation=w,T;function T(I,x,R){const B=I.hasOwnProperty(jt)?I[jt]:Object.defineProperty(I,jt,{value:[]})[jt];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(w),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class tn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=hn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wr(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(a===o&&(a=o.slice(0,u)),Wr(d,a)):a!==o&&a.push(d)}return a}function ai(o,a){o.forEach(u=>Array.isArray(u)?ai(u,a):a(u))}function vl(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function xo(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ur(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function tr(o,a,u){let d=so(o,a);return d>=0?o[1|d]=u:(d=~d,function vu(o,a,u,d){let h=o.length;if(h==a)o.push(u,d);else if(1===h)o.push(d,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function Ma(o,a){const u=so(o,a);if(u>=0)return o[1|u]}function so(o,a){return function wu(o,a,u){let d=0,h=o.length>>u;for(;h!==d;){const g=d+(h-d>>1),w=o[g<<u];if(a===w)return g<<u;w>a?h=g:d=g+1}return~(h<<u)}(o,a,1)}const Ds={},oo="__NG_DI_FLAG__",Ss="ngTempTokenPath",rh=/\n/gm,Eu="__source";let _n;function Ms(o){const a=_n;return _n=o,a}function ih(o,a=Pt.Default){if(void 0===_n)throw new Pe(-203,!1);return null===_n?Ji(o,void 0,a):_n.get(o,a&Pt.Optional?null:void 0,a)}function In(o,a=Pt.Default){return(function Ui(){return Dn}()||ih)(se(o),a)}function sh(o,a=Pt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),In(o,a)}function El(o){const a=[];for(let u=0;u<o.length;u++){const d=se(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,!1);let h,g=Pt.Default;for(let w=0;w<d.length;w++){const T=d[w],I=S(T);"number"==typeof I?-1===I?h=T.token:g|=I:h=T}a.push(In(h,g))}else a.push(In(d))}return a}function D(o,a){return o[oo]=a,o.prototype[oo]=a,o}function S(o){return o[oo]}const he=D(Oi("Optional"),8),tt=D(Oi("SkipSelf"),4);let bc;function Pf(o){bc=o}class Na{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qn(o){return o instanceof Na?o.changingThisBreaksApplicationSecurity:o}const lh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function Ou(o){const a=function Pl(){const o=Re();return o&&o[12]}();return a?a.sanitize(zn.URL,o)||"":function Au(o,a){const u=function Sl(o){return o instanceof Na&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}(o,"URL")?qn(o):function xu(o){return(o=String(o)).match(lh)||o.match(Tg)?o:"unsafe:"+o}(De(o))}const Dc=new tn("ENVIRONMENT_INITIALIZER"),Ol=new tn("INJECTOR",-1),Uo=new tn("INJECTOR_DEF_TYPES");class Sc{get(a,u=Ds){if(u===Ds){const d=new Error(`NullInjectorError: No provider for ${Ce(a)}!`);throw d.name="NullInjectorError",d}return u}}function Sg(...o){return{\u0275providers:bi(0,o)}}function bi(o,...a){const u=[],d=new Set;let h;return ai(a,g=>{const w=g;fh(w,u,[],d)&&(h||(h=[]),h.push(w))}),void 0!==h&&Ps(h,u),u}function Ps(o,a){for(let u=0;u<o.length;u++){const{providers:h}=o[u];ai(h,g=>{a.push(g)})}}function fh(o,a,u,d){if(!(o=se(o)))return!1;let h=null,g=ri(o);const w=!g&&vt(o);if(g||w){if(w&&!w.standalone)return!1;h=o}else{const I=o.ngModule;if(g=ri(I),!g)return!1;h=I}const T=d.has(h);if(w){if(T)return!1;if(d.add(h),w.dependencies){const I="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const x of I)fh(x,a,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!T){let x;d.add(h);try{ai(g.imports,R=>{fh(R,a,u,d)&&(x||(x=[]),x.push(R))})}finally{}void 0!==x&&Ps(x,a)}if(!T){const x=Bi(h)||(()=>new h);a.push({provide:h,useFactory:x,deps:Gt},{provide:Uo,useValue:h,multi:!0},{provide:Dc,useValue:()=>In(h),multi:!0})}const I=g.providers;null==I||T||ai(I,R=>{a.push(R)})}}return h!==o&&void 0!==o.providers}const ph=be({provide:String,useValue:be});function xc(o){return null!==o&&"object"==typeof o&&ph in o}function Vo(o){return"function"==typeof o}const Mc=new tn("Set Injector scope."),Pc={},$f={};let Zf;function Oc(){return void 0===Zf&&(Zf=new Sc),Zf}class Cr{}class Nl extends Cr{constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(a,w=>this.processProvider(w)),this.records.set(Ol,Ns(void 0,this)),h.has("environment")&&this.records.set(Cr,Ns(void 0,this));const g=this.records.get(Mc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Uo.multi,Gt,Pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=Ms(this),d=Kn(void 0);try{return a()}finally{Ms(u),Kn(d)}}get(a,u=Ds,d=Pt.Default){this.assertNotDestroyed();const h=Ms(this),g=Kn(void 0);try{if(!(d&Pt.SkipSelf)){let T=this.records.get(a);if(void 0===T){const I=function nr(o){return"function"==typeof o||"object"==typeof o&&o instanceof tn}(a)&&Cn(a);T=I&&this.injectableDefInScope(I)?Ns(Bo(a),Pc):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(d&Pt.Self?Oc():this.parent).get(a,u=d&Pt.Optional&&u===Ds?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[Ss]=w[Ss]||[]).unshift(Ce(a)),h)throw w;return function k(o,a,u,d){const h=o[Ss];throw a[Eu]&&h.unshift(a[Eu]),o.message=function H(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Ce(a);if(Array.isArray(a))h=a.map(Ce).join(" -> ");else if("object"==typeof a){let g=[];for(let w in a)if(a.hasOwnProperty(w)){let T=a[w];g.push(w+":"+("string"==typeof T?JSON.stringify(T):Ce(T)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${o.replace(rh,"\n  ")}`}("\n"+o.message,h,u,d),o.ngTokenPath=h,o[Ss]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{Kn(g),Ms(h)}}resolveInjectorInitializers(){const a=Ms(this),u=Kn(void 0);try{const d=this.get(Dc.multi,Gt,Pt.Self);for(const h of d)h()}finally{Ms(a),Kn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(Ce(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(a){let u=Vo(a=se(a))?a:se(a&&a.provide);const d=function Os(o){return xc(o)?Ns(void 0,o.useValue):Ns(kl(o),Pc)}(a);if(Vo(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Ns(void 0,Pc,!0),h.factory=()=>El(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===Pc&&(u.value=$f,u.value=u.factory()),"object"==typeof u.value&&u.value&&function sv(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=se(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Bo(o){const a=Cn(o),u=null!==a?a.factory:Bi(o);if(null!==u)return u;if(o instanceof tn)throw new Pe(204,!1);if(o instanceof Function)return function mh(o){const a=o.length;if(a>0)throw ur(a,"?"),new Pe(204,!1);const u=function Ii(o){const a=o&&(o[Ki]||o[Ai]);if(a){const u=function jr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Pe(204,!1)}function kl(o,a,u){let d;if(Vo(o)){const h=se(o);return Bi(h)||Bo(h)}if(xc(o))d=()=>se(o.useValue);else if(function gh(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...El(o.deps||[]));else if(function Bf(o){return!(!o||!o.useExisting)}(o))d=()=>In(se(o.useExisting));else{const h=se(o&&(o.useClass||o.provide));if(!function Ru(o){return!!o.deps}(o))return Bi(h)||Bo(h);d=()=>new h(...El(o.deps))}return d}function Ns(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function xg(o){return!!o.\u0275providers}function jf(o,a){for(const u of o)Array.isArray(u)?jf(u,a):xg(u)?jf(u.\u0275providers,a):a(u)}class Mg{}class b{resolveComponentFactory(a){throw function _(o){const a=Error(`No component factory found for ${Ce(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let M=(()=>{class o{}return o.NULL=new b,o})();function L(){return J(kn(),Re())}function J(o,a){return new ye(vi(o,a))}let ye=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=L,o})();function Ke(o){return o instanceof ye?o.nativeElement:o}class St{}let xt=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function dr(){const o=Re(),u=Sr(kn().index,o);return(Sn(u)?u:o)[11]}(),o})(),Ni=(()=>{class o{}return o.\u0275prov=hn({token:o,providedIn:"root",factory:()=>null}),o})();class Lu{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Nc=new Lu("14.1.2"),Ra={};function Rg(o){return o.ngOriginalError}class La{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Rg(a);for(;u&&Rg(u);)u=Rg(u);return u||null}}const fv=new Map;let $w=0;const Gf="__ngContext__";function rt(o,a){Sn(a)?(o[Gf]=a[20],function yh(o){fv.set(o[20],o)}(a)):o[Gf]=a}function Rt(o){const a=o[Gf];return"number"==typeof a?function Ll(o){return fv.get(o)||null}(a):a||null}function gv(o){const a=Rt(o);return a?Sn(a)?a:a.lView:null}const U1=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ct))();function Fa(o){return o instanceof Function?o():o}var Kt=(()=>((Kt=Kt||{})[Kt.Important=1]="Important",Kt[Kt.DashCase=2]="DashCase",Kt))();function rr(o,a){return undefined(o,a)}function Zo(o){const a=o[3];return gi(a)?a[3]:a}function _v(o){return wv(o[13])}function Lc(o){return wv(o[4])}function wv(o){for(;null!==o&&!gi(o);)o=o[4];return o}function ci(o,a,u,d,h){if(null!=d){let g,w=!1;gi(d)?g=d:Sn(d)&&(w=!0,d=d[0]);const T=er(d);0===o&&null!==u?null==h?Bu(a,u,T):Vu(a,u,T,h||null,!0):1===o&&null!==u?Vu(a,u,T,h||null,!0):2===o?function $g(o,a,u){const d=Br(o,a);d&&function Er(o,a,u,d){o.removeChild(a,u,d)}(o,d,a,u)}(a,T,w):3===o&&a.destroyNode(T),null!=g&&function Jf(o,a,u,d,h){const g=u[7];g!==er(u)&&ci(a,o,d,g,h);for(let T=10;T<u.length;T++){const I=u[T];Vl(I[1],I,o,a,d,g)}}(a,o,g,u,h)}}function Ua(o,a,u){return o.createElement(a,u)}function Fl(o,a){const u=o[9],d=u.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,_a(h,-1)),u.splice(d,1)}function Ev(o,a){if(o.length<=10)return;const u=10+a,d=o[u];if(d){const h=d[17];null!==h&&h!==o&&Fl(h,d),a>0&&(o[u-1][4]=d[4]);const g=xo(o,10+a);!function Cv(o,a){Vl(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const w=g[19];null!==w&&w.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Uu(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Vl(o,a,u,3,null,null),function jo(o){let a=o[13];if(!a)return Vg(o[1],o);for(;a;){let u=null;if(Sn(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==o;)Sn(a)&&Vg(a[1],a),a=a[3];null===a&&(a=o),Sn(a)&&Vg(a[1],a),u=a&&a[4]}a=u}}(a)}}function Vg(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function H1(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof Aa)){const g=u[d+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const T=h[g[w]],I=g[w+1];try{I.call(T)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function Tv(o,a){const u=o.cleanup,d=a[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const w=u[g+1],T="function"==typeof w?w(a):er(a[w]),I=d[h=u[g+2]],x=u[g+3];"boolean"==typeof x?T.removeEventListener(u[g],I,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),g+=2}else{const w=d[h=u[g+1]];u[g].call(w)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&gi(a[3])){u!==a[3]&&Fl(u,a);const d=a[19];null!==d&&d.detachView(o)}!function pv(o){fv.delete(o[20])}(a)}}function qw(o,a,u){return function zi(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===_t.None||h===_t.Emulated)return null}return vi(d,u)}(o,a.parent,u)}function Vu(o,a,u,d,h){o.insertBefore(a,u,d,h)}function Bu(o,a,u){o.appendChild(a,u)}function Iv(o,a,u,d,h){null!==d?Vu(o,a,u,d,h):Bu(o,a,u)}function Br(o,a){return o.parentNode(a)}function Dv(o,a,u){return as(o,a,u)}let as=function Fc(o,a,u){return 40&o.type?vi(o,u):null};function Bg(o,a,u,d){const h=qw(o,d,a),g=a[11],T=Dv(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Iv(g,h,u[I],T,!1);else Iv(g,h,u,T,!1)}function Ho(o,a){if(null!==a){const u=a.type;if(3&u)return vi(a,o);if(4&u)return Ul(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return Ho(o,d);{const h=o[a.index];return gi(h)?Ul(-1,h):er(h)}}if(32&u)return rr(a,o)()||er(o[a.index]);{const d=pr(o,a);return null!==d?Array.isArray(d)?d[0]:Ho(Zo(o[16]),d):Ho(o,a.next)}}return null}function pr(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Ul(o,a){const u=10+o+1;if(u<a.length){const d=a[u],h=d[1].firstChild;if(null!==h)return Ho(d,h)}return a[7]}function Zg(o,a,u,d,h,g,w){for(;null!=u;){const T=d[u.index],I=u.type;if(w&&0===a&&(T&&rt(er(T),d),u.flags|=4),64!=(64&u.flags))if(8&I)Zg(o,a,u.child,d,h,g,!1),ci(a,o,h,T,g);else if(32&I){const x=rr(u,d);let R;for(;R=x();)ci(a,o,h,R,g);ci(a,o,h,T,g)}else 16&I?Va(o,a,d,u,h,g):ci(a,o,h,T,g);u=w?u.projectionNext:u.next}}function Vl(o,a,u,d,h,g){Zg(u,d,o.firstChild,a,h,g,!1)}function Va(o,a,u,d,h,g){const w=u[16],I=w[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)ci(a,o,h,I[x],g);else Zg(o,a,I,w[3],h,g,!0)}function xv(o,a,u){o.setAttribute(a,"style",u)}function Ba(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function ep(o,a,u){let d=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}u=h+1}}const qo="ng-template";function tp(o,a,u){let d=0;for(;d<o.length;){let h=o[d++];if(u&&"class"===h){if(h=o[d],-1!==ep(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Bl(o){return 4===o.type&&o.value!==qo}function zw(o,a,u){return a===(4!==o.type||u?o.value:qo)}function bh(o,a,u){let d=4;const h=o.attrs||[],g=function Gw(o){for(let a=0;a<o.length;a++)if(fl(o[a]))return a;return o.length}(h);let w=!1;for(let T=0;T<a.length;T++){const I=a[T];if("number"!=typeof I){if(!w)if(4&d){if(d=2|1&d,""!==I&&!zw(o,I,u)||""===I&&1===a.length){if(ks(d))return!1;w=!0}}else{const x=8&d?I:a[++T];if(8&d&&null!==o.attrs){if(!tp(o.attrs,x,u)){if(ks(d))return!1;w=!0}continue}const B=Uc(8&d?"class":I,h,Bl(o),u);if(-1===B){if(ks(d))return!1;w=!0;continue}if(""!==x){let te;te=B>g?"":h[B+1].toLowerCase();const ue=8&d?te:null;if(ue&&-1!==ep(ue,x,0)||2&d&&x!==te){if(ks(d))return!1;w=!0}}}}else{if(!w&&!ks(d)&&!ks(I))return!1;if(w&&ks(I))continue;w=!1,d=I|1&d}}return ks(d)||w}function ks(o){return 0==(1&o)}function Uc(o,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let g=!1;for(;h<a.length;){const w=a[h];if(w===o)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let T=a[++h];for(;"string"==typeof T;)T=a[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function Ww(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function jg(o,a,u=!1){for(let d=0;d<a.length;d++)if(bh(o,a[d],u))return!0;return!1}function Hg(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Ch(o,a){return o?":not("+a.trim()+")":a}function Yw(o){let a=o[0],u=1,d=2,h="",g=!1;for(;u<o.length;){let w=o[u];if("string"==typeof w)if(2&d){const T=o[++u];h+="["+w+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?h+="."+w:4&d&&(h+=" "+w);else""!==h&&!ks(w)&&(a+=Ch(g,h),h=""),d=w,g=g||!ks(d);u++}return""!==h&&(a+=Ch(g,h)),a}const qt={};function Mv(o){di(Yt(),Re(),_r()+o,!1)}function di(o,a,u,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&wf(a,g,u)}else{const g=o.preOrderHooks;null!==g&&bf(a,g,0,u)}Mi(u)}function kv(o,a=null,u=null,d){const h=Rv(o,a,u,d);return h.resolveInjectorInitializers(),h}function Rv(o,a=null,u=null,d,h=new Set){const g=[u||Gt,Sg(o)];return d=d||("object"==typeof o?void 0:Ce(o)),new Nl(g,a||Oc(),d||null,h)}let gr=(()=>{class o{static create(u,d){if(Array.isArray(u))return kv({name:""},d,u,"");{const h=u.name??"";return kv({name:h},u.parent,u.providers,h)}}}return o.THROW_IF_NOT_FOUND=Ds,o.NULL=new Sc,o.\u0275prov=hn({token:o,providedIn:"any",factory:()=>In(Ol)}),o.__NG_ELEMENT_ID__=-1,o})();function $c(o,a=Pt.Default){const u=Re();return null===u?In(o,a):rs(kn(),u,se(o),a)}function jv(){throw new Error("invalid")}function Wg(o,a){return o<<17|a<<2}function zo(o){return o>>17&32767}function Zl(o){return 2|o}function Za(o){return(131068&o)>>2}function jl(o,a){return-131069&o|a<<2}function $u(o){return 1|o}function Jv(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],g=u[d+1];if(-1!==g){const w=o.data[g];ul(h),w.contentQueries(2,a[g],g)}}}function hp(o,a,u,d,h,g,w,T,I,x,R){const B=a.blueprint.slice();return B[0]=h,B[2]=76|d,(null!==R||o&&1024&o[2])&&(B[2]|=1024),ws(B),B[3]=B[15]=o,B[8]=u,B[10]=w||o&&o[10],B[11]=T||o&&o[11],B[12]=I||o&&o[12]||null,B[9]=x||o&&o[9]||null,B[6]=g,B[20]=function li(){return $w++}(),B[21]=R,B[16]=2==a.type?o[16]:B,B}function xh(o,a,u,d,h){let g=o.data[a];if(null===g)g=function Xv(o,a,u,d,h){const g=rl(),w=il(),I=o.data[a]=function ob(o,a,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,u,a,d,h);return null===o.firstChild&&(o.firstChild=I),null!==g&&(w?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(o,a,u,d,h),function cc(){return kt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const w=function eo(){const o=kt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return xi(g,!0),g}function Mh(o,a,u,d){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function ju(o,a,u){uu(a);try{const d=o.viewQuery;null!==d&&o_(1,d,u);const h=o.template;null!==h&&Qr(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Jv(o,a),o.staticViewQueries&&o_(2,o.viewQuery,u);const g=o.components;null!==g&&function rb(o,a){for(let u=0;u<a.length;u++)wT(o,a[u])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Ta()}}function Ph(o,a,u,d){const h=a[2];if(128!=(128&h)){uu(a);try{ws(a),function al(o){return kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Qr(o,a,u,2,d);const w=3==(3&h);if(w){const x=o.preOrderCheckHooks;null!==x&&wf(a,x,null)}else{const x=o.preOrderHooks;null!==x&&bf(a,x,0,null),cl(a,0)}if(function vT(o){for(let a=_v(o);null!==a;a=Lc(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const h=u[d],g=h[3];0==(512&h[2])&&_a(g,1),h[2]|=512}}}(a),function yT(o){for(let a=_v(o);null!==a;a=Lc(a))for(let u=10;u<a.length;u++){const d=a[u],h=d[1];$i(d)&&Ph(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&Jv(o,a),w){const x=o.contentCheckHooks;null!==x&&wf(a,x)}else{const x=o.contentHooks;null!==x&&bf(a,x,1),cl(a,1)}!function nb(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Mi(~h);else{const g=h,w=u[++d],T=u[++d];Hd(w,g),T(2,a[g])}}}finally{Mi(-1)}}(o,a);const T=o.components;null!==T&&function cT(o,a){for(let u=0;u<a.length;u++)_T(o,a[u])}(a,T);const I=o.viewQuery;if(null!==I&&o_(2,I,d),w){const x=o.viewCheckHooks;null!==x&&wf(a,x)}else{const x=o.viewHooks;null!==x&&bf(a,x,2),cl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,_a(a[3],-1))}finally{Ta()}}}function dT(o,a,u,d){const h=a[10],w=va(a);try{!w&&h.begin&&h.begin(),w&&ju(o,a,d),Ph(o,a,u,d)}finally{!w&&h.end&&h.end()}}function Qr(o,a,u,d,h){const g=_r(),w=2&d;try{Mi(-1),w&&a.length>22&&di(o,a,22,!1),u(d,h)}finally{Mi(g)}}function rm(o,a,u){if(da(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const w=o.data[g];w.contentQueries&&w.contentQueries(1,u[g],g)}}}function im(o,a,u){!Js()||(function pT(o,a,u,d){const h=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||cn(u,a),rt(d,a);const w=u.initialInputs;for(let T=h;T<g;T++){const I=o.data[T],x=mi(I);x&&gb(a,u,I);const R=Do(a,o,T,u);rt(R,a),null!==w&&am(0,T-h,R,I,0,w),x&&(Sr(u.index,a)[8]=R)}}(o,a,u,vi(u,a)),128==(128&u.flags)&&function Oh(o,a,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,w=function ll(){return kt.lFrame.currentDirectiveIndex}();try{Mi(g);for(let T=d;T<h;T++){const I=o.data[T],x=a[T];hc(T),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&zc(I,x)}}finally{Mi(-1),hc(w)}}(o,a,u))}function qc(o,a,u=vi){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const w=d[g+1],T=-1===w?u(a,o):o[w];o[h++]=T}}}function Go(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=fp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function fp(o,a,u,d,h,g,w,T,I,x){const R=22+d,B=R+h,te=function ib(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:qt);return u}(R,B),ue="function"==typeof x?x():x;return te[1]={type:o,blueprint:te,template:u,queries:null,viewQuery:T,declTNode:a,data:te.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:ue,incompleteFirstPass:!1}}function e_(o,a,u,d){const h=bb(a);null===u?h.push(d):(h.push(u),o.firstCreatePass&&um(o).push(d,h.length-1))}function ab(o,a,u){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,h):u[d]=[a,h]}return u}function lb(o,a){const d=a.directiveEnd,h=o.data,g=a.attrs,w=[];let T=null,I=null;for(let x=a.directiveStart;x<d;x++){const R=h[x],B=R.inputs,te=null===g||Bl(a)?null:mb(B,g);w.push(te),T=ab(B,x,T),I=ab(R.outputs,x,I)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=w,a.inputs=T,a.outputs=I}function Gi(o,a,u,d,h,g,w,T){const I=vi(a,u);let R,x=a.inputs;!T&&null!=x&&(R=x[d])?(gp(o,u,R,d,h),vo(a)&&ub(u,a.index)):3&a.type&&(d=function pp(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=w?w(h,a.value||"",d):h,g.setProperty(I,d,h))}function ub(o,a){const u=Sr(a,o);16&u[2]||(u[2]|=32)}function t_(o,a,u,d){let h=!1;if(Js()){const g=function gT(o,a,u){const d=o.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const w=d[g];jg(u,w.selectors,!1)&&(h||(h=[]),ro(cn(u,a),o,w.type),mi(w)?(hb(o,u),h.unshift(w)):h.push(w))}return h}(o,a,u),w=null===d?null:{"":-1};if(null!==g){h=!0,ki(u,o.data.length,g.length);for(let R=0;R<g.length;R++){const B=g[R];B.providersResolver&&B.providersResolver(B)}let T=!1,I=!1,x=Mh(o,a,g.length,null);for(let R=0;R<g.length;R++){const B=g[R];u.mergedAttrs=no(u.mergedAttrs,B.hostAttrs),pb(o,u,a,x,B),fb(x,B,w),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const te=B.type.prototype;!T&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),T=!0),!I&&(te.ngOnChanges||te.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),x++}lb(o,u)}w&&function mT(o,a,u){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new Pe(-301,!1);d.push(a[h],g)}}}(u,d,w)}return u.mergedAttrs=no(u.mergedAttrs,u.attrs),h}function n_(o,a,u,d,h,g){const w=g.hostBindings;if(w){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const I=~a.index;(function fT(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(T)!=I&&T.push(I),T.push(d,h,w)}}function zc(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function hb(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function fb(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;mi(a)&&(u[""]=o)}}function ki(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function pb(o,a,u,d,h){o.data[d]=h;const g=h.factory||(h.factory=Bi(h.type)),w=new Aa(g,mi(h),$c);o.blueprint[d]=w,u[d]=w,n_(o,a,0,d,Mh(o,u,h.hostVars,qt),h)}function gb(o,a,u){const d=vi(a,o),h=Go(u),g=o[10],w=lm(o,hp(o,h,null,u.onPush?32:16,d,a,g,g.createRenderer(d,u),null,null,null));o[a.index]=w}function Jr(o,a,u,d,h,g){const w=vi(o,a);!function om(o,a,u,d,h,g,w){if(null==g)o.removeAttribute(a,h,u);else{const T=null==w?De(g):w(g,d||"",h);o.setAttribute(a,h,T,u)}}(a[11],w,g,o.value,u,d,h)}function am(o,a,u,d,h,g){const w=g[a];if(null!==w){const T=d.setInput;for(let I=0;I<w.length;){const x=w[I++],R=w[I++],B=w[I++];null!==T?d.setInput(u,B,x,R):u[R]=B}}}function mb(o,a){let u=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return u}function yb(o,a,u,d){return new Array(o,!0,!1,a,null,0,d,u,null,null)}function _T(o,a){const u=Sr(a,o);if($i(u)){const d=u[1];48&u[2]?Ph(d,u,d.template,u[8]):u[5]>0&&r_(u)}}function r_(o){for(let d=_v(o);null!==d;d=Lc(d))for(let h=10;h<d.length;h++){const g=d[h];if($i(g))if(512&g[2]){const w=g[1];Ph(w,g,w.template,g[8])}else g[5]>0&&r_(g)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Sr(u[d],o);$i(h)&&h[5]>0&&r_(h)}}function wT(o,a){const u=Sr(a,o),d=u[1];(function bT(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),ju(d,u,u[8])}function lm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function i_(o){for(;o;){o[2]|=32;const a=Zo(o);if(gf(o)&&!a)return o;o=a}return null}function _b(o){!function vb(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],d=gv(u);if(null!==d){const h=d[1];dT(h,d,h.template,u)}}}(o[8])}function o_(o,a,u){ul(0),a(o,u)}const wb=(()=>Promise.resolve(null))();function bb(o){return o[7]||(o[7]=[])}function um(o){return o.cleanup||(o.cleanup=[])}function cm(o,a){const u=o[9],d=u?u.get(La,null):null;d&&d.handleError(a)}function gp(o,a,u,d,h){for(let g=0;g<u.length;){const w=u[g++],T=u[g++],I=a[w],x=o.data[w];null!==x.setInput?x.setInput(I,h,d,T):I[T]=h}}function Wo(o,a,u){const d=bo(a,o);!function bv(o,a,u){o.setValue(a,u)}(o[11],d,u)}function Yo(o,a,u){let d=u?o.styles:null,h=u?o.classes:null,g=0;if(null!==a)for(let w=0;w<a.length;w++){const T=a[w];"number"==typeof T?g=T:1==g?h=Ie(h,T):2==g&&(d=Ie(d,T+": "+a[++w]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=h:o.classesWithoutHost=h}function mp(o,a,u,d,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(er(g)),gi(g))for(let T=10;T<g.length;T++){const I=g[T],x=I[1].firstChild;null!==x&&mp(I[1],I,x,d)}const w=u.type;if(8&w)mp(o,a,u.child,d);else if(32&w){const T=rr(u,a);let I;for(;I=T();)d.push(I)}else if(16&w){const T=pr(a,u);if(Array.isArray(T))d.push(...T);else{const I=Zo(a[16]);mp(I[1],I,T,d,!0)}}u=h?u.projectionNext:u.next}return d}class yp{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return mp(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(gi(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(Ev(a,d),xo(u,d))}this._attachedToViewContainer=!1}Uu(this._lView[1],this._lView)}onDestroy(a){e_(this._lView[1],this._lView,null,a)}markForCheck(){i_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function s_(o,a,u){const d=a[10];d.begin&&d.begin();try{Ph(o,a,o.template,u)}catch(h){throw cm(a,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ug(o,a){Vl(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=a}}class Cb extends yp{constructor(a){super(a),this._view=a}detectChanges(){_b(this._view)}checkNoChanges(){}get context(){return null}}class Nh extends M{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=vt(a);return new Hl(u,this.ngModule)}}function Hu(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Wc{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){const h=this.injector.get(a,Ra,d);return h!==Ra||u===Ra?h:this.parentInjector.get(a,u,d)}}class Hl extends Mg{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function z1(o){return o.map(Yw).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Hu(this.componentDef.inputs)}get outputs(){return Hu(this.componentDef.outputs)}create(a,u,d,h){let g=(h=h||this.ngModule)instanceof Cr?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new Wc(a,g):a,T=w.get(St,null);if(null===T)throw new Pe(407,!1);const I=w.get(Ni,null),x=T.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=d?function sb(o,a,u){return o.selectRootElement(a,u===_t.ShadowDom)}(x,d,this.componentDef.encapsulation):Ua(T.createRenderer(null,this.componentDef),R,function Gc(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),te=this.componentDef.onPush?288:272,ue=function Ab(o,a){return{components:[],scheduler:o||U1,clean:wb,playerHandler:a||null,flags:0}}(),Ne=fp(0,null,null,1,0,null,null,null,null,null),We=hp(null,Ne,ue,te,null,null,T,x,I,w,null);let it,gt;uu(We);try{const Lt=function Ib(o,a,u,d,h,g){const w=u[1];u[22]=o;const I=xh(w,22,2,"#host",null),x=I.mergedAttrs=a.hostAttrs;null!==x&&(Yo(I,x,!0),null!==o&&(hl(h,o,x),null!==I.classes&&Ba(h,o,I.classes),null!==I.styles&&xv(h,o,I.styles)));const R=d.createRenderer(o,a),B=hp(u,Go(a),null,a.onPush?32:16,u[22],I,d,R,g||null,null,null);return w.firstCreatePass&&(ro(cn(I,u),w,a.type),hb(w,I),ki(I,u.length,1)),lm(u,B),u[22]=B}(B,this.componentDef,We,T,x);if(B)if(d)hl(x,B,["ng-version",Nc.full]);else{const{attrs:He,classes:Mt}=function G1(o){const a=[],u=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++d]):8===h&&u.push(g);else{if(!ks(h))break;h=g}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);He&&hl(x,B,He),Mt&&Mt.length>0&&Ba(x,B,Mt.join(" "))}if(gt=nl(Ne,22),void 0!==u){const He=gt.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const ln=u[Mt];He.push(null!=ln?Array.from(ln):null)}}it=function AT(o,a,u,d,h){const g=u[1],w=function db(o,a,u){const d=kn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),pb(o,d,a,Mh(o,a,1,null),u),lb(o,d));const h=Do(a,o,d.directiveStart,d);rt(h,a);const g=vi(d,a);return g&&rt(g,a),h}(g,u,a);if(d.components.push(w),o[8]=w,null!==h)for(const I of h)I(w,a);if(a.contentQueries){const I=kn();a.contentQueries(1,w,I.directiveStart)}const T=kn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Mi(T.index),n_(u[1],T,0,T.directiveStart,T.directiveEnd,a),zc(a,w)),w}(Lt,this.componentDef,We,ue,[Db]),ju(Ne,We,null)}finally{Ta()}return new a_(this.componentType,it,J(gt,We),We,gt)}}class a_ extends class ov{}{constructor(a,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Cb(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;gp(g[1],g,h,a,u),ub(g,this._tNode.index)}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Db(){const o=kn();gu(Re()[1],o)}function ql(o){let a=function kh(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let h;if(mi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Pe(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const w=o;w.inputs=dm(o.inputs),w.declaredInputs=dm(o.declaredInputs),w.outputs=dm(o.outputs);const T=h.hostBindings;T&&MT(o,T);const I=h.viewQuery,x=h.contentQueries;if(I&&ST(o,I),x&&xT(o,x),_e(o.inputs,h.inputs),_e(o.declaredInputs,h.declaredInputs),_e(o.outputs,h.outputs),mi(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const T=g[w];T&&T.ngInherit&&T(o),T===ql&&(u=!1)}}a=Object.getPrototypeOf(a)}!function DT(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=no(h.hostAttrs,u=no(u,h.hostAttrs))}}(d)}function dm(o){return o===On?{}:o===Gt?[]:o}function ST(o,a){const u=o.viewQuery;o.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function xT(o,a){const u=o.contentQueries;o.contentQueries=u?(d,h,g)=>{a(d,h,g),u(d,h,g)}:a}function MT(o,a){const u=o.hostBindings;o.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}let _p=null;function Qc(){if(!_p){const o=ct.Symbol;if(o&&o.iterator)_p=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(_p=d)}}}return _p}function Jc(o){return!!fm(o)&&(Array.isArray(o)||!(o instanceof Map)&&Qc()in o)}function fm(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ls(o,a,u){return o[a]=u}function zl(o,a){return o[a]}function Ei(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function qu(o,a,u,d){const h=Ei(o,a,u);return Ei(o,a+1,d)||h}function Fs(o,a,u,d,h,g){const w=qu(o,a,u,d);return qu(o,a+2,h,g)||w}function Rh(o,a,u,d){const h=Re();return Ei(h,Eo(),a)&&(Yt(),Jr(Un(),h,o,a,u,d)),Rh}function Xc(o,a,u,d){return Ei(o,Eo(),u)?a+De(u)+d:qt}function Ko(o,a,u,d,h,g,w,T){const x=function Ti(o,a,u,d,h){const g=qu(o,a,u,d);return Ei(o,a+2,h)||g}(o,es(),u,h,w);return bs(3),x?a+De(u)+d+De(h)+g+De(w)+T:qt}function zu(o,a,u,d,h,g,w,T){const I=Re(),x=Yt(),R=o+22,B=x.firstCreatePass?function kb(o,a,u,d,h,g,w,T,I){const x=a.consts,R=xh(a,o,4,w||null,_s(x,T));t_(a,u,R,_s(x,I)),gu(a,R);const B=R.tViews=fp(2,R,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,R),B.queries=a.queries.embeddedTView(R)),R}(R,x,I,a,u,d,h,g,w):x.data[R];xi(B,!1);const te=I[11].createComment("");Bg(x,I,te,B),rt(te,I),lm(I,I[R]=yb(te,I,te,B)),ha(B)&&im(x,I,B),null!=w&&qc(I,B,T)}function d_(o){return ys(function ol(){return kt.lFrame.contextLView}(),22+o)}function pm(o,a,u){const d=Re();return Ei(d,Eo(),a)&&Gi(Yt(),Un(),d,o,a,d[11],u,!1),pm}function h_(o,a,u,d,h){const w=h?"class":"style";gp(o,u,a.inputs[w],w,d)}function gm(o,a,u,d){const h=Re(),g=Yt(),w=22+o,T=h[11],I=h[w]=Ua(T,a,function Gd(){return kt.lFrame.currentNamespace}()),x=g.firstCreatePass?function Rb(o,a,u,d,h,g,w){const T=a.consts,x=xh(a,o,2,h,_s(T,g));return t_(a,u,x,_s(T,w)),null!==x.attrs&&Yo(x,x.attrs,!1),null!==x.mergedAttrs&&Yo(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(w,g,h,0,a,u,d):g.data[w];xi(x,!0);const R=x.mergedAttrs;null!==R&&hl(T,I,R);const B=x.classes;null!==B&&Ba(T,I,B);const te=x.styles;return null!==te&&xv(T,I,te),64!=(64&x.flags)&&Bg(g,h,I,x),0===function ou(){return kt.lFrame.elementDepthCount}()&&rt(I,h),function uc(){kt.lFrame.elementDepthCount++}(),ha(x)&&(im(g,h,x),rm(g,x,h)),null!==d&&qc(h,x),gm}function mm(){let o=kn();il()?sl():(o=o.parent,xi(o,!1));const a=o;!function Co(){kt.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(gu(u,o),da(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function xr(o){return 0!=(16&o.flags)}(a)&&h_(u,a,Re(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ef(o){return 0!=(32&o.flags)}(a)&&h_(u,a,Re(),a.stylesWithoutHost,!1),mm}function Ep(o,a,u,d){return gm(o,a,u,d),mm(),Ep}function ym(o,a,u){const d=Re(),h=Yt(),g=o+22,w=h.firstCreatePass?function hi(o,a,u,d,h){const g=a.consts,w=_s(g,d),T=xh(a,o,8,"ng-container",w);return null!==w&&Yo(T,w,!0),t_(a,u,T,_s(g,h)),null!==a.queries&&a.queries.elementStart(a,T),T}(g,h,d,a,u):h.data[g];xi(w,!0);const T=d[g]=d[11].createComment("");return Bg(h,d,T,w),rt(T,d),ha(w)&&(im(h,d,w),rm(h,w,d)),null!=u&&qc(d,w),ym}function vm(){let o=kn();const a=Yt();return il()?sl():(o=o.parent,xi(o,!1)),a.firstCreatePass&&(gu(a,o),da(o)&&a.queries.elementEnd(o)),vm}function Fb(){return Re()}function _m(o){return!!o&&"function"==typeof o.then}function Ub(o){return!!o&&"function"==typeof o.subscribe}const Tp=Ub;function f_(o,a,u,d){const h=Re(),g=Yt(),w=kn();return function wm(o,a,u,d,h,g,w,T){const I=ha(d),R=o.firstCreatePass&&um(o),B=a[8],te=bb(a);let ue=!0;if(3&d.type||T){const it=vi(d,a),gt=T?T(it):it,Lt=te.length,He=T?ln=>T(er(ln[d.index])):d.index;let Mt=null;if(!T&&I&&(Mt=function g_(o,a,u,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===u&&h[g+1]===d){const T=a[7],I=h[g+2];return T.length>I?T[I]:null}"string"==typeof w&&(g+=2)}return null}(o,a,h,d.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=g,Mt.__ngLastListenerFn__=g,ue=!1;else{g=Ip(d,a,B,g,!1);const ln=u.listen(gt,h,g);te.push(g,ln),R&&R.push(h,He,Lt,Lt+1)}}else g=Ip(d,a,B,g,!1);const Ne=d.outputs;let We;if(ue&&null!==Ne&&(We=Ne[h])){const it=We.length;if(it)for(let gt=0;gt<it;gt+=2){const jn=a[We[gt]][We[gt+1]].subscribe(g),Xu=te.length;te.push(g,jn),R&&R.push(h,d.index,Xu,-(Xu+1))}}}(g,h,h[11],w,o,a,0,d),f_}function Fh(o,a,u,d){try{return!1!==u(d)}catch(h){return cm(o,h),!1}}function Ip(o,a,u,d,h){return function g(w){if(w===Function)return d;i_(2&o.flags?Sr(o.index,a):a);let I=Fh(a,0,d,w),x=g.__ngNextListenerFn__;for(;x;)I=Fh(a,0,x,w)&&I,x=x.__ngNextListenerFn__;return h&&!1===I&&(w.preventDefault(),w.returnValue=!1),I}}function bm(o=1){return function _f(o){return(kt.lFrame.contextLView=function pu(o,a){for(;o>0;)a=a[15],o--;return a}(o,kt.lFrame.contextLView))[8]}(o)}function m_(o,a){let u=null;const d=function np(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?jg(o,g,!0):Hg(d,g))return h}else u=h}return u}function y_(o){const a=Re()[16][6];if(!a.projection){const d=a.projection=ur(o?o.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const w=o?m_(g,o):0;null!==w&&(h[w]?h[w].projectionNext=g:d[w]=g,h[w]=g),g=g.next}}}function Vb(o,a=0,u){const d=Re(),h=Yt(),g=xh(h,22+o,16,null,u||null);null===g.projection&&(g.projection=a),sl(),64!=(64&g.flags)&&function q1(o,a,u){Va(a[11],0,a,u,qw(o,u,a),Dv(u.parent||a[6],u,a))}(h,d,g)}function Cm(o,a,u){return Ap(o,"",a,"",u),Cm}function Ap(o,a,u,d,h){const g=Re(),w=Xc(g,a,u,d);return w!==qt&&Gi(Yt(),Un(),g,o,w,g[11],h,!1),Ap}function w_(o,a,u,d,h){const g=o[u+1],w=null===a;let T=d?zo(g):Za(g),I=!1;for(;0!==T&&(!1===I||w);){const R=o[T+1];qb(o[T],a)&&(I=!0,o[T+1]=d?$u(R):Zl(R)),T=d?zo(R):Za(R)}I&&(o[u+1]=d?Zl(g):$u(g))}function qb(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&so(o,a)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Im(o){return o.substring(ei.key,ei.keyEnd)}function NT(o){return o.substring(ei.value,ei.valueEnd)}function C_(o,a){const u=ei.textEnd;return u===a?-1:(a=ei.keyEnd=function Dm(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,ei.key=a,u),ja(o,a,u))}function Am(o,a){const u=ei.textEnd;let d=ei.key=ja(o,a,u);return u===d?-1:(d=ei.keyEnd=function E_(o,a,u){let d;for(;a<u&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,u),d=Sm(o,d,u),d=ei.value=ja(o,d,u),d=ei.valueEnd=function T_(o,a,u){let d=-1,h=-1,g=-1,w=a,T=w;for(;w<u;){const I=o.charCodeAt(w++);if(59===I)return T;34===I||39===I?T=w=I_(o,I,w,u):a===w-4&&85===g&&82===h&&76===d&&40===I?T=w=I_(o,41,w,u):I>32&&(T=w),g=h,h=d,d=-33&I}return T}(o,d,u),Sm(o,d,u))}function Dp(o){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=o.length}function ja(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function Sm(o,a,u,d){return(a=ja(o,a,u))<u&&a++,a}function I_(o,a,u,d){let h=-1,g=u;for(;g<d;){const w=o.charCodeAt(g++);if(w==a&&92!==h)return g;h=92==w&&92===h?0:w}throw new Error}function D_(o,a){return function Wi(o,a,u,d){const h=Re(),g=Yt(),w=bs(2);g.firstUpdatePass&&Gb(g,o,w,d),a!==qt&&Ei(h,w,a)&&Vh(g,g.data[_r()],h,h[11],o,h[w+1]=function M_(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ce(qn(o)))),o}(a,u),d,w)}(o,a,null,!0),D_}function Jo(o){Bs(xm,kT,o,!1)}function kT(o,a){for(let u=function zb(o){return Dp(o),Am(o,ja(o,0,ei.textEnd))}(a);u>=0;u=Am(a,u))xm(o,Im(a),NT(a))}function S_(o){Bs(tr,Vs,o,!0)}function Vs(o,a){for(let u=function b_(o){return Dp(o),C_(o,ja(o,0,ei.textEnd))}(a);u>=0;u=C_(a,u))tr(o,Im(a),!0)}function Bs(o,a,u,d){const h=Yt(),g=bs(2);h.firstUpdatePass&&Gb(h,null,g,d);const w=Re();if(u!==qt&&Ei(w,g,u)){const T=h.data[_r()];if(Om(T,d)&&!x_(h,g)){let I=d?T.classesWithoutHost:T.stylesWithoutHost;null!==I&&(u=Ie(I,u||"")),h_(h,T,w,u,d)}else!function Mm(o,a,u,d,h,g,w,T){h===qt&&(h=Gt);let I=0,x=0,R=0<h.length?h[0]:null,B=0<g.length?g[0]:null;for(;null!==R||null!==B;){const te=I<h.length?h[I+1]:void 0,ue=x<g.length?g[x+1]:void 0;let We,Ne=null;R===B?(I+=2,x+=2,te!==ue&&(Ne=B,We=ue)):null===B||null!==R&&R<B?(I+=2,Ne=R):(x+=2,Ne=B,We=ue),null!==Ne&&Vh(o,a,u,d,Ne,We,w,T),R=I<h.length?h[I]:null,B=x<g.length?g[x]:null}}(h,T,w,w[11],w[g+1],w[g+1]=function Uh(o,a,u){if(null==u||""===u)return Gt;const d=[],h=qn(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(o,a,u),d,g)}}function x_(o,a){return a>=o.expandoStartIndex}function Gb(o,a,u,d){const h=o.data;if(null===h[u+1]){const g=h[_r()],w=x_(o,u);Om(g,d)&&null===a&&!w&&(a=!1),a=function RT(o,a,u,d){const h=function To(o){const a=kt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=sd(u=id(null,o,a,u,d),a.attrs,d),g=null);else{const w=a.directiveStylingLast;if(-1===w||o[w]!==h)if(u=id(h,o,a,u,d),null===g){let I=function LT(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==Za(d))return o[zo(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=id(null,o,a,I[1],d),I=sd(I,a.attrs,d),function FT(o,a,u,d){o[zo(u?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else g=function UT(o,a,u){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=sd(d,o[g].hostAttrs,u);return sd(d,a.attrs,u)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,d),function Tm(o,a,u,d,h,g){let w=g?a.classBindings:a.styleBindings,T=zo(w),I=Za(w);o[d]=u;let R,x=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||so(B,R)>0)&&(x=!0)}else R=u;if(h)if(0!==I){const te=zo(o[T+1]);o[d+1]=Wg(te,T),0!==te&&(o[te+1]=jl(o[te+1],d)),o[T+1]=function Ih(o,a){return 131071&o|a<<17}(o[T+1],d)}else o[d+1]=Wg(T,0),0!==T&&(o[T+1]=jl(o[T+1],d)),T=d;else o[d+1]=Wg(I,0),0===T?T=d:o[I+1]=jl(o[I+1],d),I=d;x&&(o[d+1]=Zl(o[d+1])),w_(o,R,d,!0),w_(o,R,d,!1),function Hb(o,a,u,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&so(g,a)>=0&&(u[d+1]=$u(u[d+1]))}(a,R,o,d,g),w=Wg(T,I),g?a.classBindings=w:a.styleBindings=w}(h,g,a,u,w,d)}}function id(o,a,u,d,h){let g=null;const w=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<w&&(g=a[T],d=sd(d,g.hostAttrs,h),g!==o);)T++;return null!==o&&(u.directiveStylingLast=T),d}function sd(o,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const w=a[g];"number"==typeof w?h=w:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),tr(o,w,!!u||a[++g]))}return void 0===o?null:o}function xm(o,a,u){tr(o,a,qn(u))}function Vh(o,a,u,d,h,g,w,T){if(!(3&a.type))return;const I=o.data,x=I[T+1];Sp(function qv(o){return 1==(1&o)}(x)?Pm(I,a,u,h,Za(x),w):void 0)||(Sp(g)||function Hv(o){return 2==(2&o)}(x)&&(g=Pm(I,null,u,h,T,w)),function Xf(o,a,u,d,h){if(a)h?o.addClass(u,d):o.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Kt.DashCase;null==h?o.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Kt.Important),o.setStyle(u,d,h,g))}}(d,w,bo(_r(),u),h,g))}function Pm(o,a,u,d,h,g){const w=null===a;let T;for(;h>0;){const I=o[h],x=Array.isArray(I),R=x?I[1]:I,B=null===R;let te=u[h+1];te===qt&&(te=B?Gt:void 0);let ue=B?Ma(te,d):R===d?te:void 0;if(x&&!Sp(ue)&&(ue=Ma(I,d)),Sp(ue)&&(T=ue,w))return T;const Ne=o[h+1];h=w?zo(Ne):Za(Ne)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(T=Ma(I,d))}return T}function Sp(o){return void 0!==o}function Om(o,a){return 0!=(o.flags&(a?16:32))}function Yl(o,a=""){const u=Re(),d=Yt(),h=o+22,g=d.firstCreatePass?xh(d,h,1,a,null):d.data[h],w=u[h]=function Kf(o,a){return o.createText(a)}(u[11],a);Bg(d,u,w,g),xi(g,!1)}function Nm(o){return km("",o,""),Nm}function km(o,a,u){const d=Re(),h=Xc(d,o,a,u);return h!==qt&&Wo(d,_r(),h),km}function xp(o,a,u,d,h){const g=Re(),w=function Us(o,a,u,d,h,g){const T=qu(o,es(),u,h);return bs(2),T?a+De(u)+d+De(h)+g:qt}(g,o,a,u,d,h);return w!==qt&&Wo(g,_r(),w),xp}function P_(o,a,u,d,h,g,w){const T=Re(),I=Ko(T,o,a,u,d,h,g,w);return I!==qt&&Wo(T,_r(),I),P_}const Ql=void 0;var qT=["en",[["a","p"],["AM","PM"],Ql],[["AM","PM"],Ql,Ql],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ql,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ql,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ql,"{1} 'at' {0}",Ql],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z_(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let $h={};function Pp(o){const a=function nC(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=tC(a);if(u)return u;const d=a.split("-")[0];if(u=tC(d),u)return u;if("en"===d)return qT;throw new Pe(701,!1)}function j_(o){return Pp(o)[Nt.PluralCase]}function tC(o){return o in $h||($h[o]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[o]),$h[o]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Zh="en-US";let sC=Zh;function ey(o,a,u,d,h){if(o=se(o),Array.isArray(o))for(let g=0;g<o.length;g++)ey(o[g],a,u,d,h);else{const g=Yt(),w=Re();let T=Vo(o)?o:se(o.provide),I=kl(o);const x=kn(),R=1048575&x.providerIndexes,B=x.directiveStart,te=x.providerIndexes>>20;if(Vo(o)||!o.multi){const ue=new Aa(I,h,$c),Ne=sn(T,a,h?R:R+te,B);-1===Ne?(ro(cn(x,w),g,T),ty(g,o,a.length),a.push(T),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),u.push(ue),w.push(ue)):(u[Ne]=ue,w[Ne]=ue)}else{const ue=sn(T,a,R+te,B),Ne=sn(T,a,R,R+te),We=ue>=0&&u[ue],it=Ne>=0&&u[Ne];if(h&&!it||!h&&!We){ro(cn(x,w),g,T);const gt=function pI(o,a,u,d,h){const g=new Aa(o,u,$c);return g.multi=[],g.index=a,g.componentProviders=0,Rp(g,h,d&&!u),g}(h?IC:TC,u.length,h,d,I);!h&&it&&(u[Ne].providerFactory=gt),ty(g,o,a.length,0),a.push(T),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),u.push(gt),w.push(gt)}else ty(g,o,ue>-1?ue:Ne,Rp(u[h?Ne:ue],I,!h&&d));!h&&d&&it&&u[Ne].componentProviders++}}}function ty(o,a,u,d){const h=Vo(a),g=function uo(o){return!!o.useClass}(a);if(h||g){const I=(g?se(a.useClass):a).prototype.ngOnDestroy;if(I){const x=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const R=x.indexOf(u);-1===R?x.push(u,[d,I]):x[R+1].push(d,I)}else x.push(u,I)}}}function Rp(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function sn(o,a,u,d){for(let h=u;h<d;h++)if(a[h]===o)return h;return-1}function TC(o,a,u,d){return pd(this.multi,[])}function IC(o,a,u,d){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,T=Do(u,u[1],this.providerFactory.index,d);g=T.slice(0,w),pd(h,g);for(let I=w;I<T.length;I++)g.push(T[I])}else g=[],pd(h,g);return g}function pd(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Zn(o,a=[]){return u=>{u.providersResolver=(d,h)=>function EC(o,a,u){const d=Yt();if(d.firstCreatePass){const h=mi(o);ey(u,d.data,d.blueprint,h,!0),ey(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Pr{}class Xo{}function AC(o,a){return new Lp(o,a??null)}class Lp extends Pr{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nh(this);const d=Ar(a);this._bootstrapComponents=Fa(d.bootstrap),this._r3Injector=Rv(a,u,[{provide:Pr,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],Ce(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ny extends Xo{constructor(a){super(),this.moduleType=a}create(a){return new Lp(this.moduleType,a)}}class DC extends Pr{constructor(a,u,d){super(),this.componentFactoryResolver=new Nh(this),this.instance=null;const h=new Nl([...a,{provide:Pr,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],u||Oc(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function c0(o,a,u=null){return new DC(o,a,u).injector}function bI(o,a,u){const d=ar()+o,h=Re();return h[d]===qt?Ls(h,d,u?a.call(u):a()):zl(h,d)}function ea(o,a,u,d){return Fp(Re(),ar(),o,a,u,d)}function NC(o,a,u,d,h,g,w){return function sy(o,a,u,d,h,g,w,T,I){const x=a+u;return Fs(o,x,h,g,w,T)?Ls(o,x+4,I?d.call(I,h,g,w,T):d(h,g,w,T)):ta(o,x+4)}(Re(),ar(),o,a,u,d,h,g,w)}function kC(o,a,u,d,h,g,w,T){const I=ar()+o,x=Re(),R=Fs(x,I,u,d,h,g);return Ei(x,I+4,w)||R?Ls(x,I+5,T?a.call(T,u,d,h,g,w):a(u,d,h,g,w)):zl(x,I+5)}function ta(o,a){const u=o[a];return u===qt?void 0:u}function Fp(o,a,u,d,h,g){const w=a+u;return Ei(o,w,h)?Ls(o,w+1,g?d.call(g,h):d(h)):ta(o,w+1)}function UC(o,a){const u=Yt();let d;const h=o+22;u.firstCreatePass?(d=function EI(o,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(o===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=Bi(d.type)),w=Kn($c);try{const T=Qd(!1),I=g();return Qd(T),function Cp(o,a,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=d}(u,Re(),h,I),I}finally{Kn(w)}}function oy(o,a,u){const d=o+22,h=Re(),g=ys(h,d);return yd(h,d)?Fp(h,ar(),a,g.transform,u,g):g.transform(u)}function p0(o,a,u,d){const h=o+22,g=Re(),w=ys(g,h);return yd(g,h)?function Gh(o,a,u,d,h,g,w){const T=a+u;return qu(o,T,h,g)?Ls(o,T+2,w?d.call(w,h,g):d(h,g)):ta(o,T+2)}(g,ar(),a,w.transform,u,d,w):w.transform(u,d)}function yd(o,a){return o[1].data[a].pure}function m0(o){return a=>{setTimeout(o,void 0,a)}}const $s=class g0 extends i.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,g=u||(()=>null),w=d;if(a&&"object"==typeof a){const I=a;h=I.next?.bind(I),g=I.error?.bind(I),w=I.complete?.bind(I)}this.__isAsync&&(g=m0(g),h&&(h=m0(h)),w&&(w=m0(w)));const T=super.subscribe({next:h,error:g,complete:w});return a instanceof le.w0&&a.add(T),T}};function ay(){return this._results[Qc()]()}class ly{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qc(),d=ly.prototype;d[u]||(d[u]=ay)}get changes(){return this._changes||(this._changes=new $s)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=Wr(a);(this._changesDetected=!function th(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=a[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let eu=(()=>{class o{}return o.__NG_ELEMENT_ID__=vd,o})();const TI=eu,uy=class extends TI{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tViews,h=hp(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(h[19]=w.createEmbeddedView(d)),ju(d,h,a),new yp(h)}};function vd(){return fo(kn(),Re())}function fo(o,a){return 4&o.type?new uy(a,o,J(o,a)):null}let Wu=(()=>{class o{}return o.__NG_ELEMENT_ID__=Yu,o})();function Yu(){return tu(kn(),Re())}const II=Wu,y0=class extends II{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return J(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const a=Vn(this._hostTNode,this._hostLView);if(Tf(a)){const u=Lr(a,this._hostLView),d=pl(a);return new io(u[1].data[d+8],u)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=v0(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const w=a.createEmbeddedView(u||{},g);return this.insert(w,h),w}createComponent(a,u,d,h,g){const w=a&&!function yl(o){return"function"==typeof o}(a);let T;if(w)T=u;else{const B=u||{};T=B.index,d=B.injector,h=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const I=w?a:new Hl(vt(a)),x=d||this.parentInjector;if(!g&&null==I.ngModule){const te=(w?x:this.parentInjector).get(Cr,null);te&&(g=te)}const R=I.create(x,h,void 0,g);return this.insert(R.hostView,T),R}insert(a,u){const d=a._lView,h=d[1];if(function vs(o){return gi(o[3])}(d)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const B=d[3],te=new y0(B,B[6],B[3]);te.detach(te.indexOf(a))}}const g=this._adjustIndex(u),w=this._lContainer;!function j1(o,a,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=a),d<g-10?(a[4]=u[h],vl(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const w=a[17];null!==w&&u!==w&&function Qf(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(w,a);const T=a[19];null!==T&&T.insertView(o),a[2]|=64}(h,d,w,g);const T=Ul(g,w),I=d[11],x=Br(I,w[7]);return null!==x&&function ge(o,a,u,d,h,g){d[0]=h,d[6]=a,Vl(o,d,u,1,h,g)}(h,w[6],I,d,x,T),a.attachToViewContainerRef(),vl(_d(w),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=v0(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=Ev(this._lContainer,u);d&&(xo(_d(this._lContainer),u),Uu(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=Ev(this._lContainer,u);return d&&null!=xo(_d(this._lContainer),u)?new yp(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function v0(o){return o[8]}function _d(o){return o[8]||(o[8]=[])}function tu(o,a){let u;const d=a[o.index];if(gi(d))u=d;else{let h;if(8&o.type)h=er(d);else{const g=a[11];h=g.createComment("");const w=vi(o,a);Vu(g,Br(g,w),h,function Mn(o,a){return o.nextSibling(a)}(g,w),!1)}a[o.index]=u=yb(d,a,h,o),lm(a,u)}return new y0(u,o,a)}class _0{constructor(a){this.queryList=a,this.matches=null}clone(){return new _0(this.queryList)}setDirty(){this.queryList.setDirty()}}class cy{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const w=u.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new cy(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==nu(a,u).matches&&this.queries[u].setDirty()}}class ZC{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class w0{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new w0(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class dy{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new dy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,u,SI(u,g)),this.matchTNodeWithReadOption(a,u,Ct(u,a,g,!1,!1))}else d===eu?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Ct(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ye||h===Wu||h===eu&&4&u.type)this.addMatch(u.index,-2);else{const g=Ct(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function SI(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function jC(o,a,u,d){return-1===u?function xI(o,a){return 11&o.type?J(o,a):4&o.type?fo(o,a):null}(a,o):-2===u?function MI(o,a,u){return u===ye?J(a,o):u===eu?fo(a,o):u===Wu?tu(a,o):void 0}(o,a,d):Do(o,o[1],u,a)}function HC(o,a,u,d){const h=a[19].queries[d];if(null===h.matches){const g=o.data,w=u.matches,T=[];for(let I=0;I<w.length;I+=2){const x=w[I];T.push(x<0?null:jC(a,g[x],w[I+1],u.metadata.read))}h.matches=T}return h.matches}function hy(o,a,u,d){const h=o.queries.getByIndex(u),g=h.matches;if(null!==g){const w=HC(o,a,h,u);for(let T=0;T<g.length;T+=2){const I=g[T];if(I>0)d.push(w[T/2]);else{const x=g[T+1],R=a[-I];for(let B=10;B<R.length;B++){const te=R[B];te[17]===te[3]&&hy(te[1],te,x,d)}if(null!==R[9]){const B=R[9];for(let te=0;te<B.length;te++){const ue=B[te];hy(ue[1],ue,x,d)}}}}}return d}function b0(o){const a=Re(),u=Yt(),d=lu();ul(d+1);const h=nu(u,d);if(o.dirty&&va(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?hy(u,a,d,[]):HC(u,a,h,d);o.reset(g,Ke),o.notifyOnChanges()}return!0}return!1}function C0(o,a,u){const d=Yt();d.firstCreatePass&&(zC(d,new ZC(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),Up(d,Re(),a)}function E0(o,a,u,d){const h=Yt();if(h.firstCreatePass){const g=kn();zC(h,new ZC(a,u,d),g.index),function GC(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}Up(h,Re(),u)}function qC(){return function T0(o,a){return o[19].queries[a].queryList}(Re(),lu())}function Up(o,a,u){const d=new ly(4==(4&u));e_(o,a,d,d.destroy),null===a[19]&&(a[19]=new cy),a[19].queries.push(new _0(d))}function zC(o,a,u){null===o.queries&&(o.queries=new w0),o.queries.track(new dy(a,u))}function nu(o,a){return o.queries.getByIndex(a)}function WC(o,a){return fo(o,a)}function Yh(o){const a=vt(o)||Tn(o)||Nn(o);return null!==a&&a.standalone}function yy(...o){}const $p=new tn("Application Initializer");let vy=(()=>{class o{constructor(u){this.appInits=u,this.resolve=yy,this.reject=yy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(_m(g))u.push(g);else if(Tp(g)){const w=new Promise((T,I)=>{g.subscribe({complete:T,error:I})});u.push(w)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(In($p,8))},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Zp=new tn("AppId",{providedIn:"root",factory:function Qu(){return`${Jh()}${Jh()}${Jh()}`}});function Jh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new tn("Platform Initializer"),BI=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qa=new tn("appBootstrapListener");let F0=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Id=new tn("LocaleId",{providedIn:"root",factory:()=>sh(Id,Pt.Optional|Pt.SkipSelf)||function oE(){return typeof $localize<"u"&&$localize.locale||Zh}()}),ZI=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lS{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let uS=(()=>{class o{compileModuleSync(u){return new ny(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Fa(Ar(u).declarations).reduce((w,T)=>{const I=vt(T);return I&&w.push(new Hl(I)),w},[]);return new lS(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const hS=(()=>Promise.resolve(0))();function lE(o){typeof Zone>"u"?hS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class us{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fS(){let o=ct.requestAnimationFrame,a=ct.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function na(o){const a=()=>{!function fi(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(ct,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Xh(o),o.isCheckStableRunning=!0,U0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Xh(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,w,T)=>{try{return wy(o),u.invokeTask(h,g,w,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),uE(o)}},onInvoke:(u,d,h,g,w,T,I)=>{try{return wy(o),u.invoke(h,g,w,T,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),uE(o)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Xh(o),U0(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Pe(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,a,zI,yy,yy);try{return g.runTask(w,u,d)}finally{g.cancelTask(w)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const zI={};function U0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Xh(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function wy(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function uE(o){o._nesting--,U0(o)}class GI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const cE=new tn(""),V0=new tn("");let B0,WI=(()=>{class o{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,B0||(function YI(o){B0=o}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(In(us),In(dE),In(V0))},o.\u0275prov=hn({token:o,factory:o.\u0275fac}),o})(),dE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return B0?.findTestabilityInTree(this,u,d)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Tr=null;const jp=new tn("AllowMultipleToken"),by=new tn("PlatformDestroyListeners");class KI{constructor(a,u){this.name=a,this.token=u}}function ef(o,a,u=[]){const d=`Platform: ${a}`,h=new tn(d);return(g=[])=>{let w=Z0();if(!w||w.injector.get(jp,!1)){const T=[...u,...g,{provide:h,useValue:!0}];o?o(T):function QI(o){if(Tr&&!Tr.get(jp,!1))throw new Pe(400,!1);Tr=o;const a=o.get(gE);(function fE(o){const a=o.get(L0,null);a&&a.forEach(u=>u())})(o)}(function Hp(o=[],a){return gr.create({name:a,providers:[{provide:Mc,useValue:"platform"},{provide:by,useValue:new Set([()=>Tr=null])},...o]})}(T,d))}return function pE(o){const a=Z0();if(!a)throw new Pe(401,!1);return a}()}}function Z0(){return Tr?.get(gE)??null}let gE=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function eA(o,a){let u;return u="noop"===o?new GI:("zone.js"===o?void 0:o)||new us(a),u}(d?.ngZone,function mE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:us,useValue:h}];return h.run(()=>{const w=gr.create({providers:g,parent:this.injector,name:u.moduleType.name}),T=u.create(w),I=T.injector.get(La,null);if(!I)throw new Pe(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:R=>{I.handleError(R)}});T.onDestroy(()=>{tf(this._modules,T),x.unsubscribe()})}),function j0(o,a,u){try{const d=u();return _m(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(I,h,()=>{const x=T.injector.get(vy);return x.runInitializers(),x.donePromise.then(()=>(function Zm(o){rn(o,"Expected localeId to be defined"),"string"==typeof o&&(sC=o.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Id,Zh)||Zh),this._moduleDoBootstrap(T),T))})})}bootstrapModule(u,d=[]){const h=Ey({},d);return function Cy(o,a,u){const d=new ny(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(qp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Pe(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(by,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(In(gr))},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ey(o,a){return Array.isArray(a)?a.reduce(Ey,o):{...o,...a}}let qp=(()=>{class o{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new V.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new V.y(T=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,me.T)(g,w.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof Mg;if(!this._injector.get(vy).done)throw!h&&Yh(u),new Pe(405,false);let w;w=h?u:this._injector.get(M).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const T=function $0(o){return o.isBoundToModule}(w)?void 0:this._injector.get(Pr),x=w.create(gr.NULL,[],d||w.selector,T),R=x.location.nativeElement,B=x.injector.get(cE,null);return B?.registerApplication(R),x.onDestroy(()=>{this.detachView(x.hostView),tf(this.components,x),B?.unregisterApplication(R)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;tf(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(qa,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>tf(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(In(us),In(Cr),In(La))},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function tf(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let yE=!0,Ty=!1;function vE(){return Ty=!0,yE}function tA(){if(Ty)throw new Error("Cannot enable prod mode after platform setup.");yE=!1}let z0=(()=>{class o{}return o.__NG_ELEMENT_ID__=rA,o})();function rA(o){return function iA(o,a,u){if(vo(o)&&!u){const d=Sr(o.index,a);return new yp(d,d)}return 47&o.type?new yp(a[16],a):null}(kn(),Re(),16==(16&o))}class Sy{constructor(){}supports(a){return Jc(a)}create(a){return new uA(a)}}const lA=(o,a)=>a;class uA{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||lA}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const w=!d||u&&u.currentIndex<ew(d,h,g)?u:d,T=ew(w,h,g),I=w.currentIndex;if(w===d)h--,d=d._nextRemoved;else if(u=u._next,null==w.previousIndex)h++;else{g||(g=[]);const x=T-h,R=I-h;if(x!=R){for(let te=0;te<x;te++){const ue=te<g.length?g[te]:g[te]=0,Ne=ue+te;R<=Ne&&Ne<x&&(g[te]=ue+1)}g[w.previousIndex]=R-x}}T!==I&&a(w,T,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Jc(a))throw new Pe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,w,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)g=a[T],w=this._trackByFn(T,g),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,g,w,T)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,w,T),d=!0),u=u._next}else h=0,function PT(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Qc()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,T=>{w=this._trackByFn(h,T),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,T,w,h)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,w,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new cA(u,d),g,h),a}_verifyReinsertion(a,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new X0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class cA{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class X0{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new DE,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ew(o,a,u){const d=o.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class tw{constructor(){}supports(a){return a instanceof Map||fm(a)}create(){return new SE}}class SE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||fm(a)))throw new Pe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const d=new yS(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class yS{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xE(){return new ME([new Sy])}let ME=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||xE()),deps:[[o,new tt,new he]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new Pe(901,!1)}}return o.\u0275prov=hn({token:o,providedIn:"root",factory:xE}),o})();function xy(){return new PE([new tw])}let PE=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||xy()),deps:[[o,new tt,new he]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new Pe(901,!1)}}return o.\u0275prov=hn({token:o,providedIn:"root",factory:xy}),o})();const nw=ef(null,"core",[]);let rw=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(In(qp))},o.\u0275mod=Je({type:o}),o.\u0275inj=zt({}),o})();function _S(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Et,Ue,Z)=>{Z.d(Ue,{Z:()=>Pe});var i=Z(2090),le=Z(4859),V=Z(9681),me=Z(1877);class fe{constructor(De,Ee){this._delegate=De,this.firebase=Ee,(0,V._addComponent)(De,new le.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(De,Ee=V._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(De);return!wt.isInitialized()&&"EXPLICIT"===(null===(pt=wt.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:Ee})}_removeServiceInstance(De,Ee=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(Ee)}_addComponent(De){(0,V._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,V._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ie(){const yt=function Ce(yt){const De={},Ee={__esModule:!0,initializeApp:function Be(et,z={}){const Ae=V.initializeApp(et,z);if((0,i.r3)(De,Ae.name))return De[Ae.name];const re=new yt(Ae,Ee);return De[Ae.name]=re,re},app:wt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function ke(et){const z=et.name,Ae=z.replace("-compat","");if(V._registerComponent(et)&&"PUBLIC"===et.type){const re=(ae=wt())=>{if("function"!=typeof ae[Ae])throw _e.create("invalid-app-argument",{appName:z});return ae[Ae]()};void 0!==et.serviceProps&&(0,i.ZB)(re,et.serviceProps),Ee[Ae]=re,yt.prototype[Ae]=function(...ae){return this._getService.bind(this,z).apply(this,et.multipleInstances?ae:[])}}return"PUBLIC"===et.type?Ee[Ae]:null},removeApp:function pt(et){delete De[et]},useAsService:function Xe(et,z){return"serverAuth"===z?null:z},modularAPIs:V}};function wt(et){if(!(0,i.r3)(De,et=et||V._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:et});return De[et]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Me(){return Object.keys(De).map(et=>De[et])}}),wt.App=yt,Ee}(fe);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function De(Ee){(0,i.ZB)(yt,Ee)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),yt}(),K=new me.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=Y;!function $e(yt){(0,V.registerVersion)("@firebase/app-compat","0.1.31",yt)}()},9681:(Et,Ue,Z)=>{Z.r(Ue),Z.d(Ue,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Ki,_DEFAULT_ENTRY_NAME:()=>rn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>hn,_apps:()=>bn,_clearComponents:()=>oa,_components:()=>Yn,_getProvider:()=>zt,_registerComponent:()=>ni,_removeServiceInstance:()=>Cn,deleteApp:()=>Pt,getApp:()=>Ai,getApps:()=>Qi,initializeApp:()=>hs,onLog:()=>Kn,registerVersion:()=>Ui,setLogLevel:()=>Ji});var i=Z(5861),le=Z(4859),V=Z(1877),me=Z(2090),fe=Z(8766);class be{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function _e(q){return"VERSION"===q.getComponent()?.type}(ee)){const Le=ee.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(ee=>ee).join(" ")}}const Ce="@firebase/app",Y=new V.Yd("@firebase/app"),rn="[DEFAULT]",ot={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,Yn=new Map;function dn(q,X){try{q.container.addComponent(X)}catch(ee){Y.debug(`Component ${X.name} failed to register with FirebaseApp ${q.name}`,ee)}}function hn(q,X){q.container.addOrOverwriteComponent(X)}function ni(q){const X=q.name;if(Yn.has(X))return Y.debug(`There were multiple attempts to register component ${X}.`),!1;Yn.set(X,q);for(const ee of bn.values())dn(ee,q);return!0}function zt(q,X){const ee=q.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),q.container.getProvider(X)}function Cn(q,X,ee=rn){zt(q,X).clearInstance(ee)}function oa(){Yn.clear()}const jr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(X,ee,Le){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Ki="9.9.2";function hs(q,X={}){"object"!=typeof X&&(X={name:X});const ee=Object.assign({name:rn,automaticDataCollectionEnabled:!1},X),Le=ee.name;if("string"!=typeof Le||!Le)throw jr.create("bad-app-name",{appName:String(Le)});const Je=bn.get(Le);if(Je){if((0,me.vZ)(q,Je.options)&&(0,me.vZ)(ee,Je.config))return Je;throw jr.create("duplicate-app",{appName:Le})}const Tt=new le.H0(Le);for(const pn of Yn.values())Tt.addComponent(pn);const En=new ri(q,ee,Tt);return bn.set(Le,En),En}function Ai(q=rn){const X=bn.get(q);if(!X)throw jr.create("no-app",{appName:q});return X}function Qi(){return Array.from(bn.values())}function Pt(q){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,i.Z)(function*(q){const X=q.name;bn.has(X)&&(bn.delete(X),yield Promise.all(q.container.getProviders().map(ee=>ee.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Ui(q,X,ee){var Le;let Je=null!==(Le=ot[q])&&void 0!==Le?Le:q;ee&&(Je+=`-${ee}`);const Tt=Je.match(/\s|\//),En=X.match(/\s|\//);if(Tt||En){const pn=[`Unable to register library "${Je}" with version "${X}":`];return Tt&&pn.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),Tt&&En&&pn.push("and"),En&&pn.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Y.warn(pn.join(" "))}ni(new le.wA(`${Je}-version`,()=>({library:Je,version:X}),"VERSION"))}function Kn(q,X){if(null!==q&&"function"!=typeof q)throw jr.create("invalid-log-argument");(0,V.Am)(q,X)}function Ji(q){(0,V.Ub)(q)}const Pn="firebase-heartbeat-store";let mo=null;function xn(){return mo||(mo=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(q,X)=>{0===X&&q.createObjectStore(Pn)}}).catch(q=>{throw jr.create("idb-open",{originalErrorMessage:q.message})})),mo}function ct(){return(ct=(0,i.Z)(function*(q){var X;try{return(yield xn()).transaction(Pn).objectStore(Pn).get(On(q))}catch(ee){if(ee instanceof me.ZR)Y.warn(ee.message);else{const Le=jr.create("idb-get",{originalErrorMessage:null===(X=ee)||void 0===X?void 0:X.message});Y.warn(Le.message)}}})).apply(this,arguments)}function aa(q,X){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,i.Z)(function*(q,X){var ee;try{const Je=(yield xn()).transaction(Pn,"readwrite");return yield Je.objectStore(Pn).put(X,On(q)),Je.done}catch(Le){if(Le instanceof me.ZR)Y.warn(Le.message);else{const Je=jr.create("idb-set",{originalErrorMessage:null===(ee=Le)||void 0===ee?void 0:ee.message});Y.warn(Je.message)}}})).apply(this,arguments)}function On(q){return`${q.name}!${q.options.appId}`}class qs{constructor(X){this.container=X,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Xt(ee),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var X=this;return(0,i.Z)(function*(){const Le=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=fn();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Je&&!X._heartbeatsCache.heartbeats.some(Tt=>Tt.date===Je))return X._heartbeatsCache.heartbeats.push({date:Je,agent:Le}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Tt=>{const En=new Date(Tt.date).valueOf();return Date.now()-En<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,i.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ee=fn(),{heartbeatsToSend:Le,unsentEntries:Je}=function Xi(q,X=1024){const ee=[];let Le=q.slice();for(const Je of q){const Tt=ee.find(En=>En.agent===Je.agent);if(Tt){if(Tt.dates.push(Je.date),ne(ee)>X){Tt.dates.pop();break}}else if(ee.push({agent:Je.agent,dates:[Je.date]}),ne(ee)>X){ee.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Le}}(X._heartbeatsCache.heartbeats),Tt=(0,me.L)(JSON.stringify({version:2,heartbeats:Le}));return X._heartbeatsCache.lastSentHeartbeatDate=ee,Je.length>0?(X._heartbeatsCache.heartbeats=Je,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Tt})()}}function fn(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,i.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function _t(q){return ct.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ee=this;return(0,i.Z)(function*(){var Le;if(yield ee._canUseIndexedDBPromise){const Tt=yield ee.read();return aa(ee.app,{lastSentHeartbeatDate:null!==(Le=X.lastSentHeartbeatDate)&&void 0!==Le?Le:Tt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ee=this;return(0,i.Z)(function*(){var Le;if(yield ee._canUseIndexedDBPromise){const Tt=yield ee.read();return aa(ee.app,{lastSentHeartbeatDate:null!==(Le=X.lastSentHeartbeatDate)&&void 0!==Le?Le:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...X.heartbeats]})}})()}}function ne(q){return(0,me.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Q(q){ni(new le.wA("platform-logger",X=>new be(X),"PRIVATE")),ni(new le.wA("heartbeat",X=>new qs(X),"PRIVATE")),Ui(Ce,"0.7.30",q),Ui(Ce,"0.7.30","esm2017"),Ui("fire-js","")}("")},4859:(Et,Ue,Z)=>{Z.d(Ue,{H0:()=>Ce,wA:()=>V});var i=Z(5861),le=Z(2090);class V{constructor(Y,K,se){this.name=Y,this.instanceFactory=K,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const me="[DEFAULT]";class fe{constructor(Y,K){this.name=Y,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const K=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(K)){const se=new le.BH;if(this.instancesDeferred.set(K,se),this.isInitialized(K)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:K});Qe&&se.resolve(Qe)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Y){var K;const se=this.normalizeInstanceIdentifier(Y?.identifier),Qe=null!==(K=Y?.optional)&&void 0!==K&&K;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch($e){if(Qe)return null;throw $e}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function _e(Ie){return"EAGER"===Ie.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[K,se]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(K);try{const $e=this.getOrInitializeService({instanceIdentifier:Qe});se.resolve($e)}catch{}}}}clearInstance(Y=me){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,i.Z)(function*(){const K=Array.from(Y.instances.values());yield Promise.all([...K.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...K.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=me){return this.instances.has(Y)}getOptions(Y=me){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:K={}}=Y,se=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:se,options:K});for(const[$e,Pe]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier($e)&&Pe.resolve(Qe);return Qe}onInit(Y,K){var se;const Qe=this.normalizeInstanceIdentifier(K),$e=null!==(se=this.onInitCallbacks.get(Qe))&&void 0!==se?se:new Set;$e.add(Y),this.onInitCallbacks.set(Qe,$e);const Pe=this.instances.get(Qe);return Pe&&Y(Pe,Qe),()=>{$e.delete(Y)}}invokeOnInitCallbacks(Y,K){const se=this.onInitCallbacks.get(K);if(se)for(const Qe of se)try{Qe(Y,K)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:K={}}){let se=this.instances.get(Y);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=Y,Ie===me?void 0:Ie),options:K}),this.instances.set(Y,se),this.instancesOptions.set(Y,K),this.invokeOnInitCallbacks(se,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,se)}catch{}var Ie;return se||null}normalizeInstanceIdentifier(Y=me){return this.component?this.component.multipleInstances?Y:me:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const K=this.getProvider(Y.name);if(K.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);K.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const K=new fe(Y,this);return this.providers.set(Y,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Ue,Z)=>{Z.d(Ue,{Am:()=>Ie,Ub:()=>Ce,Yd:()=>_e,in:()=>le});const i=[];var le=(()=>{return(Y=le||(le={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",le;var Y})();const V={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},me=le.INFO,fe={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},be=(Y,K,...se)=>{if(K<Y.logLevel)return;const Qe=(new Date).toISOString(),$e=fe[K];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[$e](`[${Qe}]  ${Y.name}:`,...se)};class _e{constructor(K){this.name=K,this._logLevel=me,this._logHandler=be,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in le))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?V[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...K),this._logHandler(this,le.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...K),this._logHandler(this,le.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,le.INFO,...K),this._logHandler(this,le.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,le.WARN,...K),this._logHandler(this,le.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...K),this._logHandler(this,le.ERROR,...K)}}function Ce(Y){i.forEach(K=>{K.setLogLevel(Y)})}function Ie(Y,K){for(const se of i){let Qe=null;K&&K.level&&(Qe=V[K.level]),se.userLogHandler=null===Y?null:($e,Pe,...yt)=>{const De=yt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Pe>=(Qe??$e.logLevel)&&Y({level:le[Pe].toLowerCase(),message:De,args:yt,type:$e.name})}}}},8766:(Et,Ue,Z)=>{Z.d(Ue,{Lj:()=>Be,X3:()=>wt});var i=Z(5861);let V,me;const _e=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Y=new WeakMap,K=new WeakMap;let $e={get(z,Ae,re){if(z instanceof IDBTransaction){if("done"===Ae)return Ce.get(z);if("objectStoreNames"===Ae)return z.objectStoreNames||Ie.get(z);if("store"===Ae)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return Ee(z[Ae])},set:(z,Ae,re)=>(z[Ae]=re,!0),has:(z,Ae)=>z instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in z};function De(z){return"function"==typeof z?function yt(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Ae){return z.apply(pt(this),Ae),Ee(_e.get(this))}:function(...Ae){return Ee(z.apply(pt(this),Ae))}:function(Ae,...re){const ae=z.call(pt(this),Ae,...re);return Ie.set(ae,Ae.sort?Ae.sort():[Ae]),Ee(ae)}}(z):(z instanceof IDBTransaction&&function Qe(z){if(Ce.has(z))return;const Ae=new Promise((re,ae)=>{const pe=()=>{z.removeEventListener("complete",ce),z.removeEventListener("error",Ye),z.removeEventListener("abort",Ye)},ce=()=>{re(),pe()},Ye=()=>{ae(z.error||new DOMException("AbortError","AbortError")),pe()};z.addEventListener("complete",ce),z.addEventListener("error",Ye),z.addEventListener("abort",Ye)});Ce.set(z,Ae)}(z),((z,Ae)=>Ae.some(re=>z instanceof re))(z,function fe(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,$e):z)}function Ee(z){if(z instanceof IDBRequest)return function se(z){const Ae=new Promise((re,ae)=>{const pe=()=>{z.removeEventListener("success",ce),z.removeEventListener("error",Ye)},ce=()=>{re(Ee(z.result)),pe()},Ye=()=>{ae(z.error),pe()};z.addEventListener("success",ce),z.addEventListener("error",Ye)});return Ae.then(re=>{re instanceof IDBCursor&&_e.set(re,z)}).catch(()=>{}),K.set(Ae,z),Ae}(z);if(Y.has(z))return Y.get(z);const Ae=De(z);return Ae!==z&&(Y.set(z,Ae),K.set(Ae,z)),Ae}const pt=z=>K.get(z);function wt(z,Ae,{blocked:re,upgrade:ae,blocking:pe,terminated:ce}={}){const Ye=indexedDB.open(z,Ae),Ge=Ee(Ye);return ae&&Ye.addEventListener("upgradeneeded",At=>{ae(Ee(Ye.result),At.oldVersion,At.newVersion,Ee(Ye.transaction))}),re&&Ye.addEventListener("blocked",()=>re()),Ge.then(At=>{ce&&At.addEventListener("close",()=>ce()),pe&&At.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Ge}function Be(z,{blocked:Ae}={}){const re=indexedDB.deleteDatabase(z);return Ae&&re.addEventListener("blocked",()=>Ae()),Ee(re).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Xe=new Map;function et(z,Ae){if(!(z instanceof IDBDatabase)||Ae in z||"string"!=typeof Ae)return;if(Xe.get(Ae))return Xe.get(Ae);const re=Ae.replace(/FromIndex$/,""),ae=Ae!==re,pe=ke.includes(re);if(!(re in(ae?IDBIndex:IDBObjectStore).prototype)||!pe&&!Me.includes(re))return;const ce=function(){var Ye=(0,i.Z)(function*(Ge,...At){const an=this.transaction(Ge,pe?"readwrite":"readonly");let rn=an.store;return ae&&(rn=rn.index(At.shift())),(yield Promise.all([rn[re](...At),pe&&an.done]))[0]});return function(At){return Ye.apply(this,arguments)}}();return Xe.set(Ae,ce),ce}!function Pe(z){$e=z($e)}(z=>({...z,get:(Ae,re,ae)=>et(Ae,re)||z.get(Ae,re,ae),has:(Ae,re)=>!!et(Ae,re)||z.has(Ae,re)}))},5861:(Et,Ue,Z)=>{function i(V,me,fe,be,_e,Ce,Ie){try{var Y=V[Ce](Ie),K=Y.value}catch(se){return void fe(se)}Y.done?me(K):Promise.resolve(K).then(be,_e)}function le(V){return function(){var me=this,fe=arguments;return new Promise(function(be,_e){var Ce=V.apply(me,fe);function Ie(K){i(Ce,be,_e,Ie,Y,"next",K)}function Y(K){i(Ce,be,_e,Ie,Y,"throw",K)}Ie(void 0)})}}Z.d(Ue,{Z:()=>le})}},Et=>{Et(Et.s=4463)}]);